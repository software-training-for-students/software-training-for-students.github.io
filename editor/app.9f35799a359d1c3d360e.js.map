{"version":3,"sources":["file:///app.9f35799a359d1c3d360e.js","file:///D:/Source/manual-editor/actions\\ImportLegacyManual.ts","file:///D:/Source/manual-editor/components\\Images.tsx","file:///D:/Source/manual-editor/components\\PlainTextEditor.tsx","file:///D:/Source/manual-editor/containers\\editors\\EditableHeading.tsx","file:///D:/Source/manual-editor/core\\ElementInfo.ts","file:///D:/Source/manual-editor/core\\createElement.tsx","file:///D:/Source/manual-editor/stores\\Flyout.ts","file:///D:/Source/manual-editor/stores\\Images.ts","file:///D:/Source/manual-editor/containers\\MenuItem.tsx","file:///D:/Source/manual-editor/Manual.tsx","file:///D:/Source/manual-editor/Menu.tsx","file:///D:/Source/manual-editor/reducers\\index.ts","file:///D:/Source/manual-editor/app.tsx","file:///D:/Source/manual-editor/components\\AboutPage.tsx","file:///D:/Source/manual-editor/components\\CodePresenter.tsx","file:///D:/Source/manual-editor/components\\CoverPage.tsx","file:///D:/Source/manual-editor/components\\CoverPageDescription.tsx","file:///D:/Source/manual-editor/components\\EditableContent.tsx","file:///D:/Source/manual-editor/components\\Heading.tsx","file:///D:/Source/manual-editor/components\\HtmlPresenter.tsx","file:///D:/Source/manual-editor/components\\ImageEditor.tsx","file:///D:/Source/manual-editor/components\\ImagePicker.tsx","file:///D:/Source/manual-editor/components\\KeyboardKeyEditor.tsx","file:///D:/Source/manual-editor/components\\KeyboardKeyPresenter.tsx","file:///D:/Source/manual-editor/components\\KeyboardShortcutEditor.tsx","file:///D:/Source/manual-editor/components\\KeyboardShortcutPresenter.tsx","file:///D:/Source/manual-editor/components\\KeyboardShortcutSidebarEditor.tsx","file:///D:/Source/manual-editor/components\\EditableElement.tsx","file:///D:/Source/manual-editor/components\\KeyboardShortcutSidebarPresenter.tsx","file:///D:/Source/manual-editor/components\\ListItem.tsx","file:///D:/Source/manual-editor/components\\ListItemEditor.tsx","file:///D:/Source/manual-editor/components\\SidebarEditor.tsx","file:///D:/Source/manual-editor/components\\SidebarNote.tsx","file:///D:/Source/manual-editor/components\\SingleLineEditor.tsx","file:///D:/Source/manual-editor/components\\Toolbox.tsx","file:///D:/Source/manual-editor/components\\ToolboxEditor.tsx","file:///D:/Source/manual-editor/components\\higher-order\\autoUnfocus.tsx","file:///D:/Source/manual-editor/components\\higher-order\\removable.tsx","file:///D:/Source/manual-editor/core\\connectEditable.ts","file:///D:/Source/manual-editor/components\\menu\\ImageButtons.tsx","file:///D:/Source/manual-editor/components\\menu\\KeyboardShortcutButton.tsx","file:///D:/Source/manual-editor/components\\menu\\ListButtons.tsx","file:///D:/Source/manual-editor/components\\menu\\ListItemButton.tsx","file:///D:/Source/manual-editor/components\\menu\\ParagraphButton.tsx","file:///D:/Source/manual-editor/components\\menu\\RawHtmlButton.tsx","file:///D:/Source/manual-editor/components\\menu\\SidebarNoteButton.tsx","file:///D:/Source/manual-editor/components\\menu\\ToolboxButton.tsx","file:///D:/Source/manual-editor/containers\\Flyout.ts","file:///D:/Source/manual-editor/containers\\ImportWizard.tsx","file:///D:/Source/manual-editor/containers\\InstructionList.tsx","file:///D:/Source/manual-editor/containers\\LoadWizard.tsx","file:///D:/Source/manual-editor/containers\\TableOfContents.tsx","file:///D:/Source/manual-editor/containers\\editors\\EditableCode.tsx","file:///D:/Source/manual-editor/containers\\editors\\EditableHtml.tsx","file:///D:/Source/manual-editor/containers\\editors\\EditableImage.tsx","file:///D:/Source/manual-editor/containers\\editors\\EditableKeyboardShortcut.tsx","file:///D:/Source/manual-editor/containers\\editors\\EditableListItem.tsx","file:///D:/Source/manual-editor/containers\\editors\\EditableRichText.tsx","file:///D:/Source/manual-editor/containers\\editors\\EditableSidebarNote.tsx","file:///D:/Source/manual-editor/containers\\editors\\EditableToolbox.tsx","file:///D:/Source/manual-editor/containers\\menu\\CodeSnippetButton.tsx","file:///D:/Source/manual-editor/containers\\menu\\HeadingButton.tsx","file:///D:/Source/manual-editor/containers\\menu\\ImportButton.tsx","file:///D:/Source/manual-editor/containers\\menu\\LoadButton.tsx","file:///D:/Source/manual-editor/containers\\menu\\SaveButton.tsx","file:///D:/Source/manual-editor/containers\\menu\\TableButton.tsx","file:///D:/Source/manual-editor/core\\KeyToImageMap.ts","file:///D:/Source/manual-editor/core\\importManualHtml.ts","file:///D:/Source/manual-editor/reducers\\DocumentReducers.ts","file:///D:/Source/manual-editor/reducers\\FlyoutReducers.ts","file:///D:/Source/manual-editor/reducers\\ImageReducers.ts","file:///D:/Source/manual-editor/reducers\\MenuReducers.ts","file:///D:/Source/manual-editor/reducers\\menu\\CodeBlockReducers.ts","file:///D:/Source/manual-editor/reducers\\menu\\HeadingReducers.ts","file:///D:/Source/manual-editor/reducers\\menu\\ImportReducers.ts","file:///D:/Source/manual-editor/reducers\\menu\\SaveLoadReducers.ts","file:///D:/Source/manual-editor/reducers\\menu\\TableReducers.ts","file:///D:/Source/manual-editor/components\\RichText.tsx","file:///D:\\Source\\manual-editor\\static\\box-download.png","file:///D:\\Source\\manual-editor\\static\\box-folder.png","file:///D:\\Source\\manual-editor\\node_modules\\file-saver\\FileSaver.js","file:///D:/Source/manual-editor/stores\\Menu.ts","file:///D:/Source/manual-editor/stores\\index.ts","file:///D:/Source/manual-editor/actions\\SaveLoadActions.ts","file:///D:\\Source\\manual-editor\\node_modules\\webpack\\buildin\\amd-define.js","file:///D:/Source/manual-editor/actions\\MenuActions.ts","file:///D:/Source/manual-editor/components\\PageBreak.tsx","file:///D:/Source/manual-editor/containers\\ImagePicker.tsx","file:///D:/Source/manual-editor/containers\\SmartImagePresenter.tsx","file:///D:/Source/manual-editor/core\\ItemTree.ts","file:///D:/Source/manual-editor/stores\\Document.ts"],"names":["webpackJsonp","130","module","exports","__webpack_require__","default_1","legacyFile","_this","this","dispatch","tslib_1","__awaiter","legacyZip","_a","_b","_c","promises","uploadImage","__generator","_d","label","importing","type","JSZip","loadAsync","sent","folder","name","substr","length","importManualHtml_1","default","file","async","apply","document","path","dir","push","then","image","File","forEach","Promise","all","undefined","redux_dialog_1","closeDialog","isFileChanged","action","isSetImporting","Object","defineProperty","value","131","SingleImage","React","createElement","className","startsWith","border","SmartImagePresenter_1","src","source","caption","SideBySideImages","leftSource","rightSource","132","PlainTextEditor","_super","arguments","onChange","event","props","onValueChange","target","onKeyDown","nativeEvent","keyCode","preventDefault","selectionStart","currentTarget","selectionEnd","substring","__extends","prototype","render","rest","__rest","__assign","onKeyDownCapture","Component","133","EditableElement_1","Heading_1","SingleLineEditor_1","connectEditable_1","EditableHeading","EditableText","headingProps","level","inputProps","inputComponentClass","staticComponentClass","staticProps","134","isMetaElement","element","isMetaElementType","elementType","getOwnPropertyNames","metaElements","find","InstructionList","OrderedList","Table","TableCell","TableHeader","TableRow","UnorderedList","Manual","135","MetaElement","Container","items","map","ItemTree_1","isItemTreeLeaf","Element_1","elementTypes","itemId","key","Element_2","removable_1","EditableCode_1","EditableHeading_1","EditableHtml_1","EditableImage_1","EditableKeyboardShortcut_1","EditableListItem_1","EditableRichText_1","EditableSidebarNote_1","EditableToolbox_1","InstructionList_1","Heading","EditableSingleImage","SideBySideImage","EditableSideBySideImage","RichText","RawHtml","Code","SidebarNote","Toolbox","children","ListItem","KeyboardShortcut","136","initialState","id","options","137","emptyImagesStore","store","hasOwnProperty","URL","revokeObjectURL","imageUrl","addOrUpdateBlobImageToStore","friendlyUrl","newStore","createObjectURL","157","19","mapStateToProps","state","enableRelativeInsert","i","nextItemId","editing","Flyout_1","react_redux_1","MenuItem","toggleFlyout","e","menuItemId","onCreate","itemToEdit","data-flyout-id","onClick","menuItemText","align","menuItemHeading","disabled","insertEnabled","mapActionsToProps","ordering","connect","237","createElementTree","elementOrdering","itemTree","treeStack","item","topTree","Error","isMetaItemOrdering","metaItemType","newSubTree","pop","AboutPage_1","CoverPage_1","TableOfContents_1","createElement_1","context","call","tree","componentWillReceiveProps","setState","date","Date","238","Menu","HeadingButton_1","ImageButtons_1","SingleImageButton","SideBySideImageButton","ParagraphButton_1","RawHtmlButton_1","CodeSnippetButton_1","SidebarNoteButton_1","KeyboardShortcutButton_1","ToolboxButton_1","ListButtons","UnorderedListButton","OrderedListButton","InstructionListButton","ListItemButton_1","TableButton_1","SaveButton_1","LoadButton_1","ImportButton_1","239","DocumentReducers_1","FlyoutReducers_1","ImageReducers_1","MenuReducers_1","redux_1","combineReducers","flyout","menu","images","dialogReducer","240","245","ReactDOM","ReactRedux","reducers_1","Redux","redux_thunk_1","Manual_1","Menu_1","enhancer","applyMiddleware","createStore","Provider","getElementById","246","Images","PageBreak_1","AboutPage","href","247","react_highlight_js_1","CodePresenter","language","248","CoverPageDescription_1","CoverPage","249","CoverPageDescription","toDateString","250","enhanceComponent","component","filtered","inputComponentCache","filter","inputType","outputType","autoUnfocus_1","EditableContent","toggleIsEditing","onStaticClicked","stopPropagation","onValueChanged","updateValue","InputComponent","autoFocus","onComplete","StaticComponent","251","Tag","toString","252","onClickHandler","parentElement","tagName","HtmlPresenter","dangerouslySetInnerHTML","__html","253","ImagePicker_1","SingleImageEditor","onSourceChanged","onBorderChanged","checked","onCaptionChanged","onCssClassChanged","imageProps","onImageChanged","currentImage","SideBySideImageEditor","onLeftSourceChanged","onRightSourceChanged","254","ImagePicker","defaultSelectorValue","uploadedImages","defaultImage","onCurrentImageChange","defaultValue","hidden","onImageUrlChange","accept","onFileUploadChange","255","KeyToImageMap_1","KeyboardKeyEditor","onIconChanged","index","onDelete","deleteKey","icon","256","KeyboardKeyPresenter","257","KeyboardKeyEditor_1","KeyboardShortcutEditor","keys","slice","onShortcutChanged","os","splice","addKey","concat","idx","258","KeyboardKeyPresenter_1","259","KeyboardShortcutEditor_1","RichText_1","KeyboardShortcutSidebarEditor","titleChanged","title","contentChanged","content","typeChanged","shortcutChanged","console","warn","shortcuts","placeholder","Editor","renderShortcut","26","EditableContent_1","EditableElement","setIsEditing","onEdited","Content","childProps","assign","260","KeyboardShortcutPresenter_1","KeyboardShortcutSidebarPresenter","Presenter","261","262","ListItemEditor","263","SidebarEditor","imgSourceChanged","imgSource","PureComponent","264","265","SingleLineEditor","textLength","size","Math","max","266","entry","imgSrc","description","267","ToolboxEditor","onChangeImage","onChangeName","onChangeDescription","onKeyPress","268","autoUnfocus","class_1","onWindowClick","editorElement","findDOMNode","menuRoot","contains","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","269","removableCore","onRemoveClick","onRemove","removable","compose","27","mapItemStateToDefaultProps","mapItemStateToAdditionalPropsDefault","itemState","updatedBaseProps","createEditableStateToPropsMapper","mapItemStateToAdditionalProps","oldProps","stores_1","connectEditable","mapItemStateToProps","mapBaseActionsToProps","newValue","isEditing","270","MenuItem_1","elementState","defaultSingleImageValue","defaultSideBySideImageValue","271","KeyboardShortcutButton","draft_js_1","convertToRaw","EditorState","createEmpty","getCurrentContent","272","defaultListItemValue","273","ListItemButtion","274","ParagraphButton","275","HtmlButton","276","SidebarNoteButton","277","ToolboxButton","278","react_flyout_1","open","mapDispatchToProps","Flyout","279","fileToImport","import","ImportLegacyManual_1","react_activity_indicator_1","boxDownload","boxFolder","ImportWizard","fileChanged","files","onFileChanged","onImport","style","contentContainerStyle","duration","onRequestClose","margin","textAlign","width","contentLabel","shouldCloseOnOverlayClick","280","itemChildren","j","281","fileToLoad","load","loading","SaveLoadActions_1","LoadWizard","onLoad","loadThunkAction","282","headings","TableOfContents","heading","283","CodePresenter_1","PlainTextEditor_1","EditableCode","EditableCodeBlock","rows","284","HtmlPresenter_1","EditableHtml","EditableHtmlBlock","285","ImageEditor_1","EditableImageContainer","286","KeyboardShortcutSidebarEditor_1","KeyboardShortcutSidebarPresenter_1","EditableKeyboardShortcut","EditableShortcut","287","ListItem_1","ListItemEditor_1","EditableListItem","EditableListItemContainer","288","EditableRichText","EditableRichTextContainer","289","SidebarEditor_1","SidebarNote_1","EditableSidebarNote","EditableSidebar","290","Toolbox_1","ToolboxEditor_1","EditableToolbox","EditableToolboxContainer","291","code","CodeSnippetButton","onChangeLanguage","292","headingLevel","headingText","text","HeadingButton","levelChanged","parseInt","textChanged","newLevel","newText","293","ImportWizard_1","ImportButton","toggleWizard","openDialog","294","LoadWizard_1","LoadButton","295","SaveButton","onSave","saveAsThunkAction","296","generateItems","columns","table","TableButton","rowsChanged","columnsChanged","htmlFor","297","KeyToImageMap","0","1","2","3","4","5","6","7","8","9","a","alt","b","backslash","backspace","bracketleft","bracketright","c","caps","colon","comma","command","control","d","dash","delete","downarrow","enter","escape","f","fn","g","h","k","l","leftarrow","m","n","none","o","option","p","period","plus","q","questionmark","quote","r","return","rightarrow","s","shift","t","tab","tilde","u","uparrow","v","w","windows","x","y","z","298","extractElements","encounteredIntro","HTMLBodyElement","childNodes","currentElement","nodeType","Node","ELEMENT_NODE","convertCurrentElement","TEXT_NODE","textContent","trim","ContentState","createFromBlockArray","convertFromHTML","toLowerCase","innerText","generateMetaItem","classList","outerHTML","codeLanguage","head","ownerDocument","headElement","scriptTag","found","match","he_1","decode","innerHTML","generateDivItem","listElements","Array","generateImageItem","getAttribute","captionElement","querySelector","includes","importImagePath","querySelectorAll","classes","titleElement","imageElement","name_1","removeChild","labels","keyImages","getElementsByTagName","regexMatch","firstLabel","secondLabel","firstKeys","nextElementSibling","secondKeys","imagePath","legacyImagesFolder","legacyKeyboardIconsFolder","importManualHtml","html","parser","DOMParser","oldManual","parseFromString","newManual","Document_1","addElements","body","299","SaveLoadActions","newState","onAddDocument","onRemoveElement","removeElement","onSetDocument","document_1","version","saveVersion","editReducers","newDoc","300","301","ImagesStore","302","CodeBlockReducers_1","HeadingReducers_1","ImportReducers_1","SaveLoadReducers_1","TableReducers_1","303","updateCodeLanguage","MenuActions_1","isUpdateCodeLanguage","304","reducer","isUpdateHeadingLevel","isUpdateHeadingText","305","306","isSetLoading","307","isUpdateTableRows","isUpdateTableColumns","36","Draft","react_dom_1","styleMap","HIGHLIGHT","backgroundColor","radius","TELETYPE","fontFamily","fontSize","Link","url","Entity","get","entityKey","getData","decorator","CompositeDecorator","strategy","block","callback","findEntityRanges","character","getEntity","getType","RichTextEditor","onBlur","editorNode","newFocus","relatedTarget","editorState","onUrlChange","urlValue","setUrl","urlInput","setEditor","editor","onChangeEditorStateAllowBlur","onChangeEditorState","setTimeout","focus","toggleBold","RichUtils","toggleInlineStyle","toggleItalic","toggleUnderline","toggleTeletype","toggleHighlight","handleKeyCommand","promptForLink","getSelection","isCollapsed","showURLInput","confirmLink","create","toggleLink","onLinkInputKeyDown","which","removeLink","selection","convertFromRaw","createWithContent","ref","tabIndex","customStyleMap","RichTextPresenter","readOnly","370","371","391","392","393","__WEBPACK_AMD_DEFINE_RESULT__","saveAs","view","navigator","test","userAgent","doc","get_URL","webkitURL","save_link","createElementNS","can_use_save_link","click","node","MouseEvent","dispatchEvent","is_safari","HTMLElement","safari","is_chrome_ios","throw_outside","ex","setImmediate","revoke","revoker","remove","filesaver","event_types","listener","auto_bom","blob","Blob","String","fromCharCode","FileSaver","no_auto_bom","object_url","force","dispatch_all","split","readyState","INIT","download","DONE","FileReader","reader","onloadend","result","replace","location","readAsDataURL","FS_proto","msSaveOrOpenBlob","abort","WRITING","error","onwritestart","onprogress","onwrite","onabort","onerror","onwriteend","self","49","50","Document","62","_","getStore","manualFile","manual","resolve","JSON","stringify","generateAsync","file_saver_1","zipFile","zip","parse","isSetDocument","isClearImages","745","81","82","PageBreak","83","ImagePickerWrapper","setReusedImage","setImageUrl","setUploadedImage","84","actualSource","Image","85","ElementInfo_1","86","exitEditModes","findLocation","relativeLocation","activeItemId","orderIndex","elements","elementToEdit","orderings","idStack","docOrdering","deletingRange"],"mappings":"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","file":"app.9f35799a359d1c3d360e.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 130:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar importManualHtml_1 = __webpack_require__(298);\r\nvar JSZip = __webpack_require__(61);\r\nvar redux_dialog_1 = __webpack_require__(32);\r\nfunction default_1(legacyFile) {\r\n    var _this = this;\r\n    return function (dispatch) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n        var legacyZip, _a, _b, _c, promises, uploadImage;\r\n        return tslib_1.__generator(this, function (_d) {\r\n            switch (_d.label) {\r\n                case 0:\r\n                    dispatch({\r\n                        importing: true,\r\n                        type: \"set-import\",\r\n                    });\r\n                    legacyZip = new JSZip();\r\n                    return [4, legacyZip.loadAsync(legacyFile)];\r\n                case 1:\r\n                    legacyZip = _d.sent();\r\n                    legacyZip = legacyZip.folder(legacyFile.name.substr(0, legacyFile.name.length - \".zip\".length));\r\n                    _a = dispatch;\r\n                    _b = {};\r\n                    _c = importManualHtml_1.default;\r\n                    return [4, legacyZip.file(\"manual.html\").async(\"text\")];\r\n                case 2:\r\n                    _a.apply(void 0, [(_b.document = _c.apply(void 0, [_d.sent()]),\r\n                            _b.type = \"set-document\",\r\n                            _b)]);\r\n                    dispatch({\r\n                        type: \"clear-images\",\r\n                    });\r\n                    promises = [];\r\n                    uploadImage = function (path, file) {\r\n                        if (!file.dir) {\r\n                            promises.push(file.async(\"blob\").then(function (image) {\r\n                                dispatch({\r\n                                    image: new File([image], path),\r\n                                    type: \"uploadImage\",\r\n                                });\r\n                            }));\r\n                        }\r\n                    };\r\n                    legacyZip.folder(\"images\").forEach(uploadImage);\r\n                    legacyZip.folder(\"keyboard-icons\").forEach(uploadImage);\r\n                    return [4, Promise.all(promises)];\r\n                case 3:\r\n                    _d.sent();\r\n                    dispatch({\r\n                        file: undefined,\r\n                        type: \"import-file-changed\",\r\n                    });\r\n                    dispatch({\r\n                        importing: false,\r\n                        type: \"set-import\",\r\n                    });\r\n                    dispatch(redux_dialog_1.closeDialog(\"import-wizard\"));\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n}\r\nexports.default = default_1;\r\nfunction isFileChanged(action) {\r\n    return action.type === \"import-file-changed\";\r\n}\r\nexports.isFileChanged = isFileChanged;\r\nfunction isSetImporting(action) {\r\n    return action.type === \"set-import\";\r\n}\r\nexports.isSetImporting = isSetImporting;\r\n\n\n/***/ }),\n\n/***/ 131:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SmartImagePresenter_1 = __webpack_require__(84);\r\nvar React = __webpack_require__(0);\r\nfunction SingleImage(_a) {\r\n    var value = _a.value;\r\n    return (React.createElement(\"div\", null,\r\n        value.className.startsWith(\"side\") ? (React.createElement(\"span\", { className: \"edit-hint\" }, \"Click here to edit image below.\")) : null,\r\n        React.createElement(\"div\", { className: value.className + (value.border ? \" border\" : \"\") },\r\n            React.createElement(SmartImagePresenter_1.default, { src: value.source }),\r\n            React.createElement(\"p\", null, value.caption))));\r\n}\r\nexports.SingleImage = SingleImage;\r\nfunction SideBySideImages(_a) {\r\n    var value = _a.value;\r\n    return (React.createElement(\"div\", { className: value.className + (value.border ? \" border\" : \"\") },\r\n        React.createElement(SmartImagePresenter_1.default, { src: value.leftSource }),\r\n        React.createElement(SmartImagePresenter_1.default, { src: value.rightSource }),\r\n        React.createElement(\"p\", null, value.caption)));\r\n}\r\nexports.SideBySideImages = SideBySideImages;\r\n\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar React = __webpack_require__(0);\r\nvar PlainTextEditor = (function (_super) {\r\n    tslib_1.__extends(PlainTextEditor, _super);\r\n    function PlainTextEditor() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onChange = function (event) {\r\n            _this.props.onValueChange(event.target.value);\r\n        };\r\n        _this.onKeyDown = function (event) {\r\n            var nativeEvent = event.nativeEvent;\r\n            if (nativeEvent.keyCode === 9) {\r\n                event.preventDefault();\r\n                var selectionStart = event.currentTarget.selectionStart;\r\n                var selectionEnd = event.currentTarget.selectionEnd;\r\n                _this.props.onValueChange(_this.props.value.substring(0, selectionStart) + \"\\t\" + _this.props.value.substring(selectionEnd));\r\n                event.currentTarget.selectionStart = event.currentTarget.selectionEnd = selectionStart + 1;\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    PlainTextEditor.prototype.render = function () {\r\n        var _a = this.props, onValueChange = _a.onValueChange, rest = tslib_1.__rest(_a, [\"onValueChange\"]);\r\n        return React.createElement(\"textarea\", tslib_1.__assign({ onChange: this.onChange, value: this.props.value }, rest, { onKeyDownCapture: this.onKeyDown }));\r\n    };\r\n    return PlainTextEditor;\r\n}(React.Component));\r\nexports.default = PlainTextEditor;\r\n\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar EditableElement_1 = __webpack_require__(26);\r\nvar Heading_1 = __webpack_require__(251);\r\nvar SingleLineEditor_1 = __webpack_require__(265);\r\nvar connectEditable_1 = __webpack_require__(27);\r\nvar React = __webpack_require__(0);\r\nvar EditableHeading = function (props) {\r\n    var EditableText = EditableElement_1.default;\r\n    var headingProps = {\r\n        level: props.level,\r\n    };\r\n    var inputProps = {\r\n        className: \"h\" + props.level,\r\n    };\r\n    return React.createElement(EditableText, tslib_1.__assign({}, props, { inputComponentClass: SingleLineEditor_1.default, staticComponentClass: Heading_1.default, inputProps: inputProps, staticProps: headingProps }));\r\n};\r\nexports.default = connectEditable_1.default()(EditableHeading);\r\n\n\n/***/ }),\n\n/***/ 134:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar metaElements = {\r\n    InstructionList: \"InstructionList\",\r\n    OrderedList: \"OrderedList\",\r\n    Table: \"Table\",\r\n    TableCell: \"TableCell\",\r\n    TableHeader: \"TableHeader\",\r\n    TableRow: \"TableRow\",\r\n    UnorderedList: \"UnorderedList\",\r\n    Manual: \"Manual\",\r\n};\r\nfunction isMetaElement(element) {\r\n    return isMetaElementType(element.elementType);\r\n}\r\nexports.isMetaElement = isMetaElement;\r\nfunction isMetaElementType(elementType) {\r\n    return Object.getOwnPropertyNames(metaElements).find(function (value) { return elementType === value; }) !== undefined;\r\n}\r\nexports.isMetaElementType = isMetaElementType;\r\n\n\n/***/ }),\n\n/***/ 135:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar removable_1 = __webpack_require__(269);\r\nvar EditableCode_1 = __webpack_require__(283);\r\nvar EditableHeading_1 = __webpack_require__(133);\r\nvar EditableHtml_1 = __webpack_require__(284);\r\nvar EditableImage_1 = __webpack_require__(285);\r\nvar EditableKeyboardShortcut_1 = __webpack_require__(286);\r\nvar EditableListItem_1 = __webpack_require__(287);\r\nvar EditableRichText_1 = __webpack_require__(288);\r\nvar EditableSidebarNote_1 = __webpack_require__(289);\r\nvar EditableToolbox_1 = __webpack_require__(290);\r\nvar InstructionList_1 = __webpack_require__(280);\r\nvar ItemTree_1 = __webpack_require__(85);\r\nvar React = __webpack_require__(0);\r\nfunction MetaElement(Container) {\r\n    return function (props) { return (React.createElement(Container, null, props.items && props.items.map(createElement))); };\r\n}\r\nvar elementTypes = {\r\n    Heading: removable_1.default(EditableHeading_1.default),\r\n    SingleImage: removable_1.default(EditableImage_1.default.EditableSingleImage),\r\n    SideBySideImage: removable_1.default(EditableImage_1.default.EditableSideBySideImage),\r\n    RichText: removable_1.default(EditableRichText_1.default),\r\n    RawHtml: removable_1.default(EditableHtml_1.default),\r\n    Code: removable_1.default(EditableCode_1.default),\r\n    SidebarNote: removable_1.default(EditableSidebarNote_1.default),\r\n    Toolbox: removable_1.default(EditableToolbox_1.default),\r\n    UnorderedList: MetaElement(function (_a) {\r\n        var children = _a.children;\r\n        return React.createElement(\"ul\", null, children);\r\n    }),\r\n    OrderedList: MetaElement(function (_a) {\r\n        var children = _a.children;\r\n        return React.createElement(\"ol\", null, children);\r\n    }),\r\n    InstructionList: InstructionList_1.default,\r\n    ListItem: removable_1.default(EditableListItem_1.default),\r\n    Table: removable_1.default(MetaElement(function (_a) {\r\n        var children = _a.children;\r\n        return React.createElement(\"table\", null,\r\n            React.createElement(\"tbody\", null, children));\r\n    })),\r\n    TableRow: MetaElement(function (_a) {\r\n        var children = _a.children;\r\n        return React.createElement(\"tr\", null, children);\r\n    }),\r\n    TableCell: MetaElement(function (_a) {\r\n        var children = _a.children;\r\n        return React.createElement(\"td\", null, children);\r\n    }),\r\n    TableHeader: MetaElement(function (_a) {\r\n        var children = _a.children;\r\n        return React.createElement(\"th\", null, children);\r\n    }),\r\n    KeyboardShortcut: removable_1.default(EditableKeyboardShortcut_1.default),\r\n    Manual: MetaElement(function (_a) {\r\n        var children = _a.children;\r\n        return React.createElement(\"div\", null, children);\r\n    }),\r\n};\r\nfunction createElement(props) {\r\n    if (ItemTree_1.isItemTreeLeaf(props)) {\r\n        var Element_1 = elementTypes[props.elementType];\r\n        return React.createElement(Element_1, { itemId: props.itemId, key: props.itemId });\r\n    }\r\n    else {\r\n        var Element_2 = elementTypes[props.elementType];\r\n        return React.createElement(Element_2, { itemId: props.itemId, key: props.itemId, items: props.items });\r\n    }\r\n}\r\nexports.default = createElement;\r\n\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initialState = {\r\n    id: null,\r\n    options: {},\r\n};\r\n\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nexports.initialState = {};\r\nfunction emptyImagesStore(store) {\r\n    for (var key in store) {\r\n        if (store.hasOwnProperty(key)) {\r\n            var element = store[key];\r\n            URL.revokeObjectURL(element.imageUrl);\r\n        }\r\n    }\r\n    return {};\r\n}\r\nexports.emptyImagesStore = emptyImagesStore;\r\nfunction addOrUpdateBlobImageToStore(store, friendlyUrl, image) {\r\n    var newStore = tslib_1.__assign({}, store);\r\n    var imageUrl = URL.createObjectURL(image);\r\n    newStore[friendlyUrl] = { image: image, imageUrl: imageUrl };\r\n    return newStore;\r\n}\r\nexports.addOrUpdateBlobImageToStore = addOrUpdateBlobImageToStore;\r\n\n\n/***/ }),\n\n/***/ 157:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 19:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar Flyout_1 = __webpack_require__(278);\r\nvar React = __webpack_require__(0);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar MenuItem = (function (_super) {\r\n    tslib_1.__extends(MenuItem, _super);\r\n    function MenuItem() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.toggleFlyout = function (e) {\r\n            if (_this.props.toggleFlyout !== undefined) {\r\n                _this.props.toggleFlyout(_this.props.menuItemId);\r\n            }\r\n        };\r\n        _this.onCreate = function (e) {\r\n            if (_this.props.onCreate) {\r\n                _this.props.onCreate(_this.props.items, _this.props.itemToEdit || 0, e.currentTarget.value);\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    MenuItem.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: \"has-flyout\" },\r\n            React.createElement(\"button\", { \"data-flyout-id\": this.props.menuItemId, onClick: this.toggleFlyout }, this.props.menuItemText),\r\n            React.createElement(Flyout_1.default, { id: this.props.menuItemId, options: { align: \"bottom middle\" } },\r\n                React.createElement(\"div\", null,\r\n                    React.createElement(\"header\", null, this.props.menuItemHeading),\r\n                    this.props.children,\r\n                    React.createElement(\"div\", { className: \"create-buttons\" },\r\n                        React.createElement(\"button\", { disabled: !this.props.enableRelativeInsert || !this.props.insertEnabled, value: \"before\", onClick: this.onCreate }, \"Insert Before Current Element\"),\r\n                        React.createElement(\"button\", { disabled: !this.props.enableRelativeInsert || !this.props.insertEnabled, value: \"after\", onClick: this.onCreate }, \"Insert After Current Element\"),\r\n                        React.createElement(\"button\", { disabled: !this.props.insertEnabled, value: \"end\", onClick: this.onCreate }, \"Insert At End\"))))));\r\n    };\r\n    return MenuItem;\r\n}(React.Component));\r\nfunction mapStateToProps(state, props) {\r\n    var enableRelativeInsert = false;\r\n    for (var i = 3; i < state.document.nextItemId; ++i) {\r\n        if (state.document[i] && state.document[i].editing) {\r\n            enableRelativeInsert = true;\r\n            break;\r\n        }\r\n    }\r\n    return tslib_1.__assign({}, props, { enableRelativeInsert: enableRelativeInsert });\r\n}\r\nvar mapActionsToProps = ({\r\n    onCreate: function (items, itemToEdit, ordering) { return ({\r\n        itemToEdit: itemToEdit,\r\n        items: items,\r\n        type: \"addToDocument\",\r\n        ordering: ordering,\r\n    }); },\r\n    toggleFlyout: function (id) { return ({\r\n        type: \"flyout-toggle\",\r\n        id: id,\r\n    }); },\r\n});\r\nexports.default = react_redux_1.connect(mapStateToProps, mapActionsToProps)(MenuItem);\r\n\n\n/***/ }),\n\n/***/ 237:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar AboutPage_1 = __webpack_require__(246);\r\nvar CoverPage_1 = __webpack_require__(248);\r\nvar TableOfContents_1 = __webpack_require__(282);\r\nvar createElement_1 = __webpack_require__(135);\r\nvar ItemTree_1 = __webpack_require__(85);\r\nvar React = __webpack_require__(0);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar Manual = (function (_super) {\r\n    tslib_1.__extends(Manual, _super);\r\n    function Manual(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        _this.state = {\r\n            tree: createElementTree(props.items),\r\n        };\r\n        return _this;\r\n    }\r\n    Manual.prototype.componentWillReceiveProps = function (props) {\r\n        this.setState({\r\n            tree: createElementTree(props.items),\r\n        });\r\n    };\r\n    Manual.prototype.render = function () {\r\n        return (React.createElement(\"div\", { id: \"manual\" },\r\n            React.createElement(CoverPage_1.default, { date: new Date() }),\r\n            React.createElement(AboutPage_1.default, null),\r\n            React.createElement(TableOfContents_1.default, null),\r\n            createElement_1.default(this.state.tree)));\r\n    };\r\n    return Manual;\r\n}(React.Component));\r\nfunction createElementTree(elementOrdering) {\r\n    var itemTree = {\r\n        elementType: \"Manual\",\r\n        itemId: -1,\r\n        items: [],\r\n    };\r\n    var treeStack = [itemTree];\r\n    elementOrdering.forEach(function (item) {\r\n        var topTree = treeStack[treeStack.length - 1];\r\n        if (ItemTree_1.isItemTreeLeaf(topTree)) {\r\n            throw new Error(\"Top tree on the stack is a leaf element (does not have children).\");\r\n        }\r\n        if (ItemTree_1.isMetaItemOrdering(item)) {\r\n            if (item.metaItemType === \"open\") {\r\n                var newSubTree = tslib_1.__assign({}, item, { items: [] });\r\n                topTree.items.push(newSubTree);\r\n                treeStack.push(newSubTree);\r\n            }\r\n            else if (item.metaItemType === \"close\") {\r\n                if (topTree.elementType !== item.elementType) {\r\n                    throw new Error(\"Mismatched closing element type\");\r\n                }\r\n                if (topTree.itemId !== item.itemId) {\r\n                    throw new Error(\"Mismatched closing item id\");\r\n                }\r\n                treeStack.pop();\r\n            }\r\n        }\r\n        else {\r\n            topTree.items.push(tslib_1.__assign({}, item, { items: [] }));\r\n        }\r\n    });\r\n    if (treeStack[0] !== itemTree) {\r\n        throw new Error(\"Mismatched element tree.\");\r\n    }\r\n    return itemTree;\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        items: state.document.elementOrdering,\r\n    };\r\n}\r\nexports.default = react_redux_1.connect(mapStateToProps, {})(Manual);\r\n\n\n/***/ }),\n\n/***/ 238:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ImageButtons_1 = __webpack_require__(270);\r\nvar KeyboardShortcutButton_1 = __webpack_require__(271);\r\nvar ListButtons = __webpack_require__(272);\r\nvar ListItemButton_1 = __webpack_require__(273);\r\nvar ParagraphButton_1 = __webpack_require__(274);\r\nvar RawHtmlButton_1 = __webpack_require__(275);\r\nvar SidebarNoteButton_1 = __webpack_require__(276);\r\nvar ToolboxButton_1 = __webpack_require__(277);\r\nvar CodeSnippetButton_1 = __webpack_require__(291);\r\nvar HeadingButton_1 = __webpack_require__(292);\r\nvar ImportButton_1 = __webpack_require__(293);\r\nvar LoadButton_1 = __webpack_require__(294);\r\nvar SaveButton_1 = __webpack_require__(295);\r\nvar TableButton_1 = __webpack_require__(296);\r\nvar React = __webpack_require__(0);\r\nfunction Menu() {\r\n    return (React.createElement(\"div\", { id: \"menu\" },\r\n        React.createElement(HeadingButton_1.default, null),\r\n        React.createElement(ImageButtons_1.default.SingleImageButton, null),\r\n        React.createElement(ImageButtons_1.default.SideBySideImageButton, null),\r\n        React.createElement(ParagraphButton_1.default, null),\r\n        React.createElement(RawHtmlButton_1.default, null),\r\n        React.createElement(CodeSnippetButton_1.default, null),\r\n        React.createElement(SidebarNoteButton_1.default, null),\r\n        React.createElement(KeyboardShortcutButton_1.default, null),\r\n        React.createElement(ToolboxButton_1.default, null),\r\n        React.createElement(ListButtons.UnorderedListButton, null),\r\n        React.createElement(ListButtons.OrderedListButton, null),\r\n        React.createElement(ListButtons.InstructionListButton, null),\r\n        React.createElement(ListItemButton_1.default, null),\r\n        React.createElement(TableButton_1.default, null),\r\n        React.createElement(\"div\", null,\r\n            React.createElement(SaveButton_1.default, null),\r\n            React.createElement(LoadButton_1.default, null),\r\n            React.createElement(ImportButton_1.default, null))));\r\n}\r\nexports.default = Menu;\r\n\n\n/***/ }),\n\n/***/ 239:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DocumentReducers_1 = __webpack_require__(299);\r\nvar FlyoutReducers_1 = __webpack_require__(300);\r\nvar ImageReducers_1 = __webpack_require__(301);\r\nvar MenuReducers_1 = __webpack_require__(302);\r\nvar redux_1 = __webpack_require__(16);\r\nvar redux_dialog_1 = __webpack_require__(32);\r\nexports.default = redux_1.combineReducers({ document: DocumentReducers_1.default, flyout: FlyoutReducers_1.default, menu: MenuReducers_1.default, images: ImageReducers_1.default, dialogReducer: redux_dialog_1.dialogReducer });\r\n\n\n/***/ }),\n\n/***/ 240:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 245:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\nvar ReactDOM = __webpack_require__(13);\r\nvar ReactRedux = __webpack_require__(10);\r\nvar reducers_1 = __webpack_require__(239);\r\nvar Redux = __webpack_require__(16);\r\nvar ReduxDevTools = __webpack_require__(79);\r\nvar redux_thunk_1 = __webpack_require__(80);\r\nvar Manual_1 = __webpack_require__(237);\r\nvar Menu_1 = __webpack_require__(238);\r\n__webpack_require__(240);\r\nvar enhancer;\r\nif (false) {\r\n    enhancer = ReduxDevTools.composeWithDevTools(Redux.applyMiddleware(redux_thunk_1.default));\r\n}\r\nelse {\r\n    enhancer = Redux.applyMiddleware(redux_thunk_1.default);\r\n}\r\nvar store = Redux.createStore(reducers_1.default, enhancer);\r\nReactDOM.render(React.createElement(ReactRedux.Provider, { store: store },\r\n    React.createElement(\"div\", null,\r\n        React.createElement(Menu_1.default, null),\r\n        React.createElement(Manual_1.default, null))), document.getElementById(\"root\"));\r\n\n\n/***/ }),\n\n/***/ 246:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\nvar Images = __webpack_require__(131);\r\nvar PageBreak_1 = __webpack_require__(82);\r\nvar AboutPage = function () {\r\n    return (React.createElement(\"div\", null,\r\n        React.createElement(\"h1\", { className: \"no-top-margin\" }, \"About Software Training for Students\"),\r\n        React.createElement(\"div\", { id: \"about-page\" },\r\n            React.createElement(\"p\", null,\r\n                \"Software Training for Students is an organization on campus that provides free software training to all students and faculty. Our services include custom workshops, open-enrollment classes, one-on-one project help, and access to Lynda.com. For more information on the Software Training for Students (STS) program, visit our website at \",\r\n                React.createElement(\"strong\", null,\r\n                    React.createElement(\"a\", { href: \"https://wisc.edu/sts\" }, \"wisc.edu/sts\")),\r\n                \".\"),\r\n            React.createElement(Images.SingleImage, { value: {\r\n                    className: \"full-width-image\",\r\n                    source: \"https://software-training-for-students.github.io/manual-master-files/sts-services.png\",\r\n                } }),\r\n            React.createElement(\"p\", null,\r\n                \"STS is part of the Division of Information Technology (DoIT) - Academic Technology at UW-Madison. For more information regarding DoIT Academic Technology, visit \",\r\n                React.createElement(\"strong\", null,\r\n                    React.createElement(\"a\", { href: \"https://at.doit.wisc.edu/\" }, \"at.doit.wisc.edu\")),\r\n                \".\"),\r\n            React.createElement(\"p\", null,\r\n                React.createElement(\"strong\", null, \"\\u00A9 University of Wisconsin Board of Regents.\")),\r\n            React.createElement(\"p\", null, \"This manual and any accompanying files were developed for use by current students at the University of Wisconsin-Madison. The names of software products referred to in these materials are claimed as trademarks of their respective companies or trademark holder.\"),\r\n            React.createElement(\"p\", null, \"If you are not a current member of the UW-Madison community and would like to use STS materials for self-study or to teach others, please contact sts@doit.wisc.edu. Thank you.\")),\r\n        React.createElement(PageBreak_1.default, null)));\r\n};\r\nexports.default = AboutPage;\r\n\n\n/***/ }),\n\n/***/ 247:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\nvar react_highlight_js_1 = __webpack_require__(129);\r\nvar CodePresenter = function (props) {\r\n    return (React.createElement(\"div\", null,\r\n        React.createElement(react_highlight_js_1.default, { language: props.language }, props.value)));\r\n};\r\nexports.default = CodePresenter;\r\n\n\n/***/ }),\n\n/***/ 248:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EditableHeading_1 = __webpack_require__(133);\r\nvar React = __webpack_require__(0);\r\nvar CoverPageDescription_1 = __webpack_require__(249);\r\nvar PageBreak_1 = __webpack_require__(82);\r\nvar CoverPage = function (props) {\r\n    return (React.createElement(\"div\", null,\r\n        React.createElement(\"div\", { id: \"coverpage-title\" },\r\n            React.createElement(EditableHeading_1.default, { itemId: 1, level: 1 }),\r\n            React.createElement(EditableHeading_1.default, { itemId: 2, level: 2 }),\r\n            React.createElement(\"h3\", null,\r\n                React.createElement(\"em\", null, \"Classroom Course Material\"))),\r\n        React.createElement(CoverPageDescription_1.default, { date: props.date }),\r\n        React.createElement(PageBreak_1.default, null)));\r\n};\r\nexports.default = CoverPage;\r\n\n\n/***/ }),\n\n/***/ 249:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\nvar CoverPageDescription = function (props) {\r\n    return (React.createElement(\"div\", { id: \"coverpage-description\" },\r\n        React.createElement(\"img\", { src: \"http://software-training-for-students.github.io/manual-master-files/uwlogo.png\" }),\r\n        React.createElement(\"p\", null, \"Written, designed, and produced by\"),\r\n        React.createElement(\"p\", null, \"DoIT Software Training for Students\"),\r\n        React.createElement(\"p\", null,\r\n            React.createElement(\"em\", null,\r\n                \"Last Updated \",\r\n                props.date.toDateString()))));\r\n};\r\nexports.default = CoverPageDescription;\r\n\n\n/***/ }),\n\n/***/ 250:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar autoUnfocus_1 = __webpack_require__(268);\r\nvar React = __webpack_require__(0);\r\nvar inputComponentCache = [];\r\nfunction enhanceComponent(component) {\r\n    var filtered = inputComponentCache.filter(function (value) { return value.inputType === component; });\r\n    if (filtered.length > 0) {\r\n        return filtered[0].outputType;\r\n    }\r\n    var outputType = autoUnfocus_1.default(component);\r\n    inputComponentCache.push({\r\n        inputType: component,\r\n        outputType: outputType,\r\n    });\r\n    return outputType;\r\n}\r\nvar EditableContent = (function (_super) {\r\n    tslib_1.__extends(EditableContent, _super);\r\n    function EditableContent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.toggleIsEditing = function () {\r\n            return _this.props.toggleIsEditing();\r\n        };\r\n        _this.onStaticClicked = function (e) {\r\n            e.stopPropagation();\r\n            _this.toggleIsEditing();\r\n        };\r\n        _this.onValueChanged = function (value) {\r\n            return _this.props.updateValue(value);\r\n        };\r\n        return _this;\r\n    }\r\n    EditableContent.prototype.render = function () {\r\n        if (this.props.editing) {\r\n            var InputComponent = enhanceComponent(this.props.inputComponentClass);\r\n            return React.createElement(InputComponent, tslib_1.__assign({ autoFocus: true, onComplete: this.toggleIsEditing, onValueChange: this.onValueChanged, value: this.props.value }, this.props.inputProps));\r\n        }\r\n        else {\r\n            var StaticComponent = this.props.staticComponentClass;\r\n            return (React.createElement(\"div\", { onClick: this.onStaticClicked },\r\n                React.createElement(StaticComponent, tslib_1.__assign({ value: this.props.value }, this.props.staticProps))));\r\n        }\r\n    };\r\n    return EditableContent;\r\n}(React.Component));\r\n;\r\nexports.default = EditableContent;\r\n\n\n/***/ }),\n\n/***/ 251:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar React = __webpack_require__(0);\r\nfunction Heading(props) {\r\n    var level = props.level, rest = tslib_1.__rest(props, [\"level\"]);\r\n    var Tag = \"h\" + level.toString();\r\n    return React.createElement(Tag, tslib_1.__assign({}, rest), props.value);\r\n}\r\nexports.default = Heading;\r\n;\r\n\n\n/***/ }),\n\n/***/ 252:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar React = __webpack_require__(0);\r\nvar onClickHandler = function (e) {\r\n    for (var target = e.target; target !== e.currentTarget; target = target.parentElement) {\r\n        if (target.tagName === \"A\") {\r\n            e.stopPropagation();\r\n        }\r\n    }\r\n};\r\nvar HtmlPresenter = function (props) {\r\n    var value = props.value, rest = tslib_1.__rest(props, [\"value\"]);\r\n    return React.createElement(\"div\", tslib_1.__assign({ onClick: onClickHandler, dangerouslySetInnerHTML: { __html: value } }, rest));\r\n};\r\nexports.default = HtmlPresenter;\r\n\n\n/***/ }),\n\n/***/ 253:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar ImagePicker_1 = __webpack_require__(83);\r\nvar React = __webpack_require__(0);\r\nvar SingleImageEditor = (function (_super) {\r\n    tslib_1.__extends(SingleImageEditor, _super);\r\n    function SingleImageEditor() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onSourceChanged = function (source) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { source: source }));\r\n        };\r\n        _this.onBorderChanged = function (event) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { border: event.target.checked }));\r\n        };\r\n        _this.onCaptionChanged = function (event) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { caption: event.target.value }));\r\n        };\r\n        _this.onCssClassChanged = function (event) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { className: event.target.value }));\r\n        };\r\n        return _this;\r\n    }\r\n    SingleImageEditor.prototype.render = function () {\r\n        var imageProps = this.props.value;\r\n        return (React.createElement(\"div\", { className: \"image-editor\" },\r\n            React.createElement(\"section\", null,\r\n                React.createElement(ImagePicker_1.default, { onImageChanged: this.onSourceChanged, currentImage: imageProps.source })),\r\n            React.createElement(\"section\", null,\r\n                React.createElement(\"input\", { type: \"checkbox\", onChange: this.onBorderChanged, checked: imageProps.border }),\r\n                React.createElement(\"label\", null, \"Has Border?\")),\r\n            React.createElement(\"section\", null,\r\n                React.createElement(\"label\", null, \"Caption\"),\r\n                React.createElement(\"input\", { type: \"text\", onChange: this.onCaptionChanged, value: imageProps.caption })),\r\n            React.createElement(\"section\", null,\r\n                React.createElement(\"label\", null, \"Image Style\"),\r\n                React.createElement(\"select\", { value: imageProps.className, onChange: this.onCssClassChanged },\r\n                    React.createElement(\"option\", { value: \"full-width-image\" }, \"Full Width\"),\r\n                    React.createElement(\"option\", { value: \"centered-image-tiny\" }, \"Tiny, Centered\"),\r\n                    React.createElement(\"option\", { value: \"centered-image-small\" }, \"Small, Centered\"),\r\n                    React.createElement(\"option\", { value: \"centered-image-medium\" }, \"Medium, Centered\"),\r\n                    React.createElement(\"option\", { value: \"centered-image-large\" }, \"Large, Centered\"),\r\n                    React.createElement(\"option\", { value: \"side-image-small\" }, \"Small, Aside\"),\r\n                    React.createElement(\"option\", { value: \"side-image-medium\" }, \"Medium, Aside\"),\r\n                    React.createElement(\"option\", { value: \"side-image-large\" }, \"Large, Aside\"),\r\n                    React.createElement(\"option\", { value: \"sidebar-icon\" }, \"Sidebar Icon\")))));\r\n    };\r\n    return SingleImageEditor;\r\n}(React.Component));\r\nvar SideBySideImageEditor = (function (_super) {\r\n    tslib_1.__extends(SideBySideImageEditor, _super);\r\n    function SideBySideImageEditor() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onLeftSourceChanged = function (leftSource) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { leftSource: leftSource }));\r\n        };\r\n        _this.onRightSourceChanged = function (rightSource) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { rightSource: rightSource }));\r\n        };\r\n        _this.onBorderChanged = function (event) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { border: event.target.checked }));\r\n        };\r\n        _this.onCaptionChanged = function (event) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { caption: event.target.value }));\r\n        };\r\n        _this.onCssClassChanged = function (event) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { className: event.target.value }));\r\n        };\r\n        return _this;\r\n    }\r\n    SideBySideImageEditor.prototype.render = function () {\r\n        var imageProps = this.props.value;\r\n        return (React.createElement(\"div\", { className: \"image-editor\" },\r\n            React.createElement(\"section\", { className: \"leftSource\" },\r\n                React.createElement(ImagePicker_1.default, { onImageChanged: this.onLeftSourceChanged, currentImage: imageProps.leftSource })),\r\n            React.createElement(\"section\", { className: \"rightSource\" },\r\n                React.createElement(ImagePicker_1.default, { onImageChanged: this.onRightSourceChanged, currentImage: imageProps.rightSource })),\r\n            React.createElement(\"section\", { className: \"commonSettings\" },\r\n                React.createElement(\"div\", null,\r\n                    React.createElement(\"input\", { type: \"checkbox\", onChange: this.onBorderChanged, checked: imageProps.border }),\r\n                    React.createElement(\"label\", null, \"Has Border?\")),\r\n                React.createElement(\"div\", null,\r\n                    React.createElement(\"label\", null, \"Caption\"),\r\n                    React.createElement(\"input\", { type: \"text\", onChange: this.onCaptionChanged, value: imageProps.caption })),\r\n                React.createElement(\"div\", null,\r\n                    React.createElement(\"label\", null, \"Image Size\"),\r\n                    React.createElement(\"select\", { value: imageProps.className, onChange: this.onCssClassChanged },\r\n                        React.createElement(\"option\", { value: \"sidebyside-image-large\" }, \"Large\"),\r\n                        React.createElement(\"option\", { value: \"sidebyside-image-small\" }, \"Small\"))))));\r\n    };\r\n    return SideBySideImageEditor;\r\n}(React.Component));\r\nexports.default = {\r\n    SideBySideImageEditor: SideBySideImageEditor,\r\n    SingleImageEditor: SingleImageEditor,\r\n};\r\n\n\n/***/ }),\n\n/***/ 254:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\nvar ImagePicker = function (props) {\r\n    var defaultSelectorValue = props.uploadedImages.filter(function (src) { return src === props.defaultImage; }).length > 0 ? props.defaultImage : \"\";\r\n    return (React.createElement(\"div\", null,\r\n        React.createElement(\"h4\", null, \"Select an Image\"),\r\n        React.createElement(\"div\", null,\r\n            React.createElement(\"span\", null, \"Re-use an already included image:\"),\r\n            React.createElement(\"select\", { onChange: props.onCurrentImageChange, defaultValue: defaultSelectorValue },\r\n                React.createElement(\"option\", { value: \"\", disabled: true, hidden: true }),\r\n                props.uploadedImages.map(function (image) { return (React.createElement(\"option\", { key: image, value: image }, image)); }))),\r\n        React.createElement(\"div\", null,\r\n            React.createElement(\"span\", null, \"Use an image from a url:\"),\r\n            React.createElement(\"input\", { type: \"text\", onChange: props.onImageUrlChange, defaultValue: defaultSelectorValue ? undefined : props.defaultImage })),\r\n        React.createElement(\"div\", null,\r\n            React.createElement(\"span\", null, \"Upload a new image:\"),\r\n            React.createElement(\"input\", { type: \"file\", accept: \"image/*\", onChange: props.onFileUploadChange }))));\r\n};\r\nexports.default = ImagePicker;\r\n\n\n/***/ }),\n\n/***/ 255:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar KeyToImageMap_1 = __webpack_require__(297);\r\nvar React = __webpack_require__(0);\r\nvar KeyboardKeyEditor = (function (_super) {\r\n    tslib_1.__extends(KeyboardKeyEditor, _super);\r\n    function KeyboardKeyEditor() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onIconChanged = function (e) {\r\n            _this.props.onIconChanged(_this.props.index, e.target.value);\r\n        };\r\n        _this.onDelete = function (e) {\r\n            _this.props.deleteKey(_this.props.index);\r\n        };\r\n        return _this;\r\n    }\r\n    KeyboardKeyEditor.prototype.render = function () {\r\n        return (React.createElement(\"span\", null,\r\n            React.createElement(\"select\", { value: this.props.icon, onChange: this.onIconChanged }, Object.getOwnPropertyNames(KeyToImageMap_1.default).map(function (image) { return (React.createElement(\"option\", { key: image, value: image, disabled: image === \"none\", hidden: image === \"none\" }, KeyToImageMap_1.default[image])); })),\r\n            React.createElement(\"button\", { onClick: this.onDelete }, \"X\")));\r\n    };\r\n    return KeyboardKeyEditor;\r\n}(React.Component));\r\nexports.default = KeyboardKeyEditor;\r\n\n\n/***/ }),\n\n/***/ 256:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar React = __webpack_require__(0);\r\nvar KeyboardKeyPresenter = (function (_super) {\r\n    tslib_1.__extends(KeyboardKeyPresenter, _super);\r\n    function KeyboardKeyPresenter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    KeyboardKeyPresenter.prototype.render = function () {\r\n        var icon = this.props.icon;\r\n        return icon !== \"none\" ? React.createElement(\"img\", { src: \"https://software-training-for-students.github.io/keyboard-icons/icon-\" + icon + \".svg\" }) : null;\r\n    };\r\n    return KeyboardKeyPresenter;\r\n}(React.Component));\r\nexports.default = KeyboardKeyPresenter;\r\n\n\n/***/ }),\n\n/***/ 257:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar KeyboardKeyEditor_1 = __webpack_require__(255);\r\nvar React = __webpack_require__(0);\r\nvar KeyboardShortcutEditor = (function (_super) {\r\n    tslib_1.__extends(KeyboardShortcutEditor, _super);\r\n    function KeyboardShortcutEditor() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onIconChanged = function (index, icon) {\r\n            var keys = _this.props.keys.slice();\r\n            keys[index] = icon;\r\n            _this.props.onShortcutChanged(_this.props.os, keys);\r\n        };\r\n        _this.deleteKey = function (index) {\r\n            var keys = _this.props.keys.slice();\r\n            keys.splice(index, 1);\r\n            _this.props.onShortcutChanged(_this.props.os, keys);\r\n        };\r\n        _this.addKey = function () {\r\n            _this.props.onShortcutChanged(_this.props.os, _this.props.keys.concat([\"none\"]));\r\n        };\r\n        return _this;\r\n    }\r\n    KeyboardShortcutEditor.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"div\", null,\r\n            this.props.keys.map(function (item, idx) {\r\n                return React.createElement(KeyboardKeyEditor_1.default, { key: idx, icon: item, index: idx, onIconChanged: _this.onIconChanged, deleteKey: _this.deleteKey });\r\n            }),\r\n            React.createElement(\"button\", { onClick: this.addKey }, \"+\")));\r\n    };\r\n    return KeyboardShortcutEditor;\r\n}(React.Component));\r\nexports.default = KeyboardShortcutEditor;\r\n\n\n/***/ }),\n\n/***/ 258:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar KeyboardKeyPresenter_1 = __webpack_require__(256);\r\nvar React = __webpack_require__(0);\r\nvar KeyboardShortcutEditor = (function (_super) {\r\n    tslib_1.__extends(KeyboardShortcutEditor, _super);\r\n    function KeyboardShortcutEditor() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    KeyboardShortcutEditor.prototype.render = function () {\r\n        return (React.createElement(\"div\", null, this.props.keys.map(function (item, idx) {\r\n            return React.createElement(KeyboardKeyPresenter_1.default, { key: idx, icon: item });\r\n        })));\r\n    };\r\n    return KeyboardShortcutEditor;\r\n}(React.Component));\r\nexports.default = KeyboardShortcutEditor;\r\n\n\n/***/ }),\n\n/***/ 259:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar KeyboardShortcutEditor_1 = __webpack_require__(257);\r\nvar RichText_1 = __webpack_require__(36);\r\nvar React = __webpack_require__(0);\r\nvar KeyboardShortcutSidebarEditor = (function (_super) {\r\n    tslib_1.__extends(KeyboardShortcutSidebarEditor, _super);\r\n    function KeyboardShortcutSidebarEditor() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.titleChanged = function (e) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { title: e.currentTarget.value }));\r\n        };\r\n        _this.contentChanged = function (content) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { content: content }));\r\n        };\r\n        _this.typeChanged = function (e) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { type: e.currentTarget.value }));\r\n        };\r\n        _this.shortcutChanged = function (os, keys) {\r\n            if (_this.props.value.type === \"no-shortcut\") {\r\n                console.warn(\"Shortcut update from a no-shortcut editor.\");\r\n                return;\r\n            }\r\n            else if (_this.props.value.type === \"shortcut\") {\r\n                _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { shortcuts: [keys] }));\r\n                return;\r\n            }\r\n            else if (_this.props.value.type === \"multi-shortcut\") {\r\n                var shortcuts = _this.props.value.shortcuts.slice();\r\n                if (os === \"mac\") {\r\n                    shortcuts[0] = keys;\r\n                }\r\n                else if (os === \"win\") {\r\n                    shortcuts[1] = keys;\r\n                }\r\n                _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { shortcuts: shortcuts }));\r\n                return;\r\n            }\r\n            throw new Error(\"Invalid shortcut type \" + _this.props.value.type);\r\n        };\r\n        return _this;\r\n    }\r\n    KeyboardShortcutSidebarEditor.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: \"keyboard-shortcut\" },\r\n            React.createElement(\"input\", { type: \"text\", value: this.props.value.title, placeholder: \"Keyboard Shortcut Title\", onChange: this.titleChanged }),\r\n            React.createElement(RichText_1.Editor, { value: this.props.value.content, onValueChange: this.contentChanged }),\r\n            React.createElement(\"div\", null,\r\n                React.createElement(\"label\", null, \"Shortcut Element Type\"),\r\n                React.createElement(\"select\", { value: this.props.value.type, defaultValue: \"no-shortcut\", onChange: this.typeChanged },\r\n                    React.createElement(\"option\", { value: \"no-shortcut\" }, \"No Keyboard Icons\"),\r\n                    React.createElement(\"option\", { value: \"shortcut\" }, \"One Keyboard Shortcut\"),\r\n                    React.createElement(\"option\", { value: \"multi-shortcut\" }, \"Shortcuts for Mac and Windows\"))),\r\n            this.renderShortcut()));\r\n    };\r\n    KeyboardShortcutSidebarEditor.prototype.renderShortcut = function () {\r\n        switch (this.props.value.type) {\r\n            case \"no-shortcut\":\r\n                return null;\r\n            case \"shortcut\":\r\n                return React.createElement(KeyboardShortcutEditor_1.default, { os: \"\", keys: this.props.value.shortcuts[0], onShortcutChanged: this.shortcutChanged });\r\n            case \"multi-shortcut\":\r\n                return (React.createElement(\"div\", null,\r\n                    React.createElement(\"h3\", null, \"Mac:\"),\r\n                    React.createElement(KeyboardShortcutEditor_1.default, { os: \"mac\", keys: this.props.value.shortcuts[0], onShortcutChanged: this.shortcutChanged }),\r\n                    React.createElement(\"h3\", null, \"Windows:\"),\r\n                    React.createElement(KeyboardShortcutEditor_1.default, { os: \"win\", keys: this.props.value.shortcuts[1], onShortcutChanged: this.shortcutChanged })));\r\n            default:\r\n                throw new Error(\"Invalid shortcut type \" + this.props.value.type);\r\n        }\r\n    };\r\n    return KeyboardShortcutSidebarEditor;\r\n}(React.Component));\r\nexports.default = KeyboardShortcutSidebarEditor;\r\n\n\n/***/ }),\n\n/***/ 26:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar EditableContent_1 = __webpack_require__(250);\r\nvar React = __webpack_require__(0);\r\nvar EditableElement = (function (_super) {\r\n    tslib_1.__extends(EditableElement, _super);\r\n    function EditableElement() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.toggleIsEditing = function () {\r\n            _this.props.setIsEditing(_this.props.itemId, !_this.props.editing);\r\n        };\r\n        _this.updateValue = function (value) {\r\n            _this.props.onEdited(_this.props.itemId, value);\r\n        };\r\n        return _this;\r\n    }\r\n    EditableElement.prototype.render = function () {\r\n        var Content = EditableContent_1.default;\r\n        var childProps = Object.assign({}, this.props, {\r\n            toggleIsEditing: this.toggleIsEditing,\r\n            updateValue: this.updateValue,\r\n        });\r\n        return React.createElement(Content, tslib_1.__assign({}, childProps));\r\n    };\r\n    return EditableElement;\r\n}(React.Component));\r\nexports.default = EditableElement;\r\n\n\n/***/ }),\n\n/***/ 260:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar KeyboardShortcutPresenter_1 = __webpack_require__(258);\r\nvar RichText_1 = __webpack_require__(36);\r\nvar React = __webpack_require__(0);\r\nvar KeyboardShortcutSidebarPresenter = (function (_super) {\r\n    tslib_1.__extends(KeyboardShortcutSidebarPresenter, _super);\r\n    function KeyboardShortcutSidebarPresenter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    KeyboardShortcutSidebarPresenter.prototype.render = function () {\r\n        return (React.createElement(\"div\", null,\r\n            React.createElement(\"span\", { className: \"edit-hint\" }, \"Click here to edit shortcut below.\"),\r\n            React.createElement(\"div\", { className: \"keyboard-shortcut\" },\r\n                React.createElement(\"h2\", null, this.props.value.title),\r\n                React.createElement(RichText_1.Presenter, { value: this.props.value.content }),\r\n                this.renderShortcut())));\r\n    };\r\n    KeyboardShortcutSidebarPresenter.prototype.renderShortcut = function () {\r\n        switch (this.props.value.type) {\r\n            case \"no-shortcut\":\r\n                return null;\r\n            case \"shortcut\":\r\n                return React.createElement(KeyboardShortcutPresenter_1.default, { keys: this.props.value.shortcuts[0] });\r\n            case \"multi-shortcut\":\r\n                return (React.createElement(\"div\", null,\r\n                    React.createElement(\"h3\", null, \"Mac:\"),\r\n                    React.createElement(KeyboardShortcutPresenter_1.default, { keys: this.props.value.shortcuts[0] }),\r\n                    React.createElement(\"h3\", null, \"Windows:\"),\r\n                    React.createElement(KeyboardShortcutPresenter_1.default, { keys: this.props.value.shortcuts[1] })));\r\n            default:\r\n                throw new Error(\"Invalid shortcut type \" + this.props.value.type);\r\n        }\r\n    };\r\n    return KeyboardShortcutSidebarPresenter;\r\n}(React.Component));\r\nexports.default = KeyboardShortcutSidebarPresenter;\r\n\n\n/***/ }),\n\n/***/ 261:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar RichText_1 = __webpack_require__(36);\r\nvar React = __webpack_require__(0);\r\nfunction ListItem(props) {\r\n    return (React.createElement(\"li\", null,\r\n        React.createElement(RichText_1.Presenter, tslib_1.__assign({}, props))));\r\n}\r\nexports.default = ListItem;\r\n\n\n/***/ }),\n\n/***/ 262:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar RichText_1 = __webpack_require__(36);\r\nvar React = __webpack_require__(0);\r\nfunction ListItemEditor(props) {\r\n    var value = props.value, onValueChange = props.onValueChange, rest = tslib_1.__rest(props, [\"value\", \"onValueChange\"]);\r\n    return (React.createElement(\"li\", tslib_1.__assign({}, rest),\r\n        React.createElement(RichText_1.Editor, { value: value, onValueChange: onValueChange })));\r\n}\r\nexports.default = ListItemEditor;\r\n\n\n/***/ }),\n\n/***/ 263:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar RichText_1 = __webpack_require__(36);\r\nvar ImagePicker_1 = __webpack_require__(83);\r\nvar React = __webpack_require__(0);\r\nvar SidebarEditor = (function (_super) {\r\n    tslib_1.__extends(SidebarEditor, _super);\r\n    function SidebarEditor() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.titleChanged = function (e) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { title: e.currentTarget.value }));\r\n        };\r\n        _this.contentChanged = function (state) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { content: state }));\r\n        };\r\n        _this.imgSourceChanged = function (src) {\r\n            _this.props.onValueChange(tslib_1.__assign({}, _this.props.value, { imgSource: src }));\r\n        };\r\n        return _this;\r\n    }\r\n    SidebarEditor.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: \"sidebar-note\" },\r\n            React.createElement(\"input\", { type: \"text\", value: this.props.value.title, placeholder: \"Sidebar Title\", onChange: this.titleChanged }),\r\n            React.createElement(RichText_1.Editor, { value: this.props.value.content, onValueChange: this.contentChanged }),\r\n            React.createElement(ImagePicker_1.default, { currentImage: this.props.value.imgSource, onImageChanged: this.imgSourceChanged })));\r\n    };\r\n    return SidebarEditor;\r\n}(React.PureComponent));\r\nexports.default = SidebarEditor;\r\n\n\n/***/ }),\n\n/***/ 264:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar RichText_1 = __webpack_require__(36);\r\nvar SmartImagePresenter_1 = __webpack_require__(84);\r\nvar React = __webpack_require__(0);\r\nvar SidebarNote = function (props) {\r\n    var value = props.value, rest = tslib_1.__rest(props, [\"value\"]);\r\n    return (React.createElement(\"div\", tslib_1.__assign({}, rest),\r\n        React.createElement(\"span\", { className: \"edit-hint\" }, \"Click here to edit note below.\"),\r\n        React.createElement(\"div\", { className: \"sidebar-note\" },\r\n            React.createElement(\"h2\", null, value.title),\r\n            React.createElement(RichText_1.Presenter, { value: value.content }),\r\n            React.createElement(SmartImagePresenter_1.default, { src: value.imgSource }))));\r\n};\r\nexports.default = SidebarNote;\r\n\n\n/***/ }),\n\n/***/ 265:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar React = __webpack_require__(0);\r\nvar minInputSize = 20;\r\nvar extraInputSpace = 2;\r\nvar SingleLineEditor = (function (_super) {\r\n    tslib_1.__extends(SingleLineEditor, _super);\r\n    function SingleLineEditor() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onChange = function (event) {\r\n            _this.props.onValueChange(event.target.value);\r\n            if (_this.props.onChange !== undefined) {\r\n                _this.props.onChange(event);\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    SingleLineEditor.prototype.render = function () {\r\n        var textLength = this.props.value.length;\r\n        var _a = this.props, onChange = _a.onChange, onValueChange = _a.onValueChange, rest = tslib_1.__rest(_a, [\"onChange\", \"onValueChange\"]);\r\n        return React.createElement(\"input\", tslib_1.__assign({ type: \"text\", size: Math.max(minInputSize, textLength) + extraInputSpace, onChange: this.onChange }, rest));\r\n    };\r\n    return SingleLineEditor;\r\n}(React.Component));\r\nexports.default = SingleLineEditor;\r\n\n\n/***/ }),\n\n/***/ 266:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SmartImagePresenter_1 = __webpack_require__(84);\r\nvar React = __webpack_require__(0);\r\nvar Toolbox = function (props) {\r\n    return (React.createElement(\"div\", { className: \"toolbox\" }, props.value.map(function (entry, idx) { return (React.createElement(\"div\", { key: idx },\r\n        entry.imgSrc ? React.createElement(SmartImagePresenter_1.default, { src: entry.imgSrc }) : null,\r\n        React.createElement(\"p\", null,\r\n            React.createElement(\"strong\", null, entry.name),\r\n            entry.description))); })));\r\n};\r\nexports.default = Toolbox;\r\n\n\n/***/ }),\n\n/***/ 267:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar ImagePicker_1 = __webpack_require__(83);\r\nvar React = __webpack_require__(0);\r\nvar ToolboxEditor = (function (_super) {\r\n    tslib_1.__extends(ToolboxEditor, _super);\r\n    function ToolboxEditor() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onChangeImage = function (imageUrl, index) {\r\n            var value = _this.props.value.slice();\r\n            value[index] = tslib_1.__assign({}, value[index], { imgSrc: imageUrl });\r\n            _this.props.onValueChange(value);\r\n        };\r\n        _this.onChangeName = function (e, index) {\r\n            var value = _this.props.value.slice();\r\n            value[index] = tslib_1.__assign({}, value[index], { name: e.target.value });\r\n            _this.props.onValueChange(value);\r\n        };\r\n        _this.onChangeDescription = function (e, index) {\r\n            var value = _this.props.value.slice();\r\n            value[index] = tslib_1.__assign({}, value[index], { description: e.target.value });\r\n            _this.props.onValueChange(value);\r\n        };\r\n        _this.onKeyPress = function (e, index) {\r\n            var keyEvent = e.nativeEvent;\r\n            if (keyEvent.keyCode === 13) {\r\n                var value = _this.props.value.slice();\r\n                value.splice(index + 1, 0, {\r\n                    description: \"\",\r\n                    imgSrc: \"\",\r\n                    name: \"\",\r\n                });\r\n                _this.props.onValueChange(value);\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    ToolboxEditor.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"div\", { className: \"toolbox\" }, this.props.value.map(function (entry, idx) { return (React.createElement(\"div\", { key: idx },\r\n            React.createElement(ImagePicker_1.default, { currentImage: entry.imgSrc, onImageChanged: function (source) { return _this.onChangeImage(source, idx); } }),\r\n            React.createElement(\"input\", { type: \"text\", placeholder: \"Tool Name\", value: entry.name, onChange: function (e) { return _this.onChangeName(e, idx); }, onKeyPress: function (e) { return _this.onKeyPress(e, idx); } }),\r\n            React.createElement(\"input\", { type: \"text\", placeholder: \"Tool Description\", value: entry.description, onChange: function (e) { return _this.onChangeDescription(e, idx); }, onKeyPress: function (e) { return _this.onKeyPress(e, idx); } }))); })));\r\n    };\r\n    return ToolboxEditor;\r\n}(React.Component));\r\nexports.ToolboxEditor = ToolboxEditor;\r\nexports.default = ToolboxEditor;\r\n\n\n/***/ }),\n\n/***/ 268:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar React = __webpack_require__(0);\r\nvar ReactDOM = __webpack_require__(13);\r\nfunction autoUnfocus(Component) {\r\n    return (function (_super) {\r\n        tslib_1.__extends(class_1, _super);\r\n        function class_1() {\r\n            var _this = _super !== null && _super.apply(this, arguments) || this;\r\n            _this.onWindowClick = function (e) {\r\n                var editorElement = ReactDOM.findDOMNode(_this);\r\n                var menuRoot = document.getElementById(\"menu\");\r\n                var element = e.target;\r\n                if (!menuRoot.contains(element) && !editorElement.contains(element)) {\r\n                    if (_this.props.onComplete) {\r\n                        _this.props.onComplete();\r\n                    }\r\n                }\r\n            };\r\n            return _this;\r\n        }\r\n        class_1.prototype.componentDidMount = function () {\r\n            window.addEventListener(\"click\", this.onWindowClick);\r\n        };\r\n        class_1.prototype.componentWillUnmount = function () {\r\n            window.removeEventListener(\"click\", this.onWindowClick);\r\n        };\r\n        class_1.prototype.render = function () {\r\n            var childProps = Object.assign({}, this.props);\r\n            delete childProps.onComplete;\r\n            return React.createElement(Component, tslib_1.__assign({}, childProps));\r\n        };\r\n        return class_1;\r\n    }(React.Component));\r\n}\r\nexports.default = autoUnfocus;\r\n\n\n/***/ }),\n\n/***/ 269:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar React = __webpack_require__(0);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar redux_1 = __webpack_require__(16);\r\nfunction removableCore(Component) {\r\n    return (function (_super) {\r\n        tslib_1.__extends(class_1, _super);\r\n        function class_1() {\r\n            var _this = _super !== null && _super.apply(this, arguments) || this;\r\n            _this.onRemoveClick = function () {\r\n                _this.props.onRemove(_this.props.itemId);\r\n            };\r\n            return _this;\r\n        }\r\n        class_1.prototype.render = function () {\r\n            var childProps = Object.assign({}, this.props);\r\n            return (React.createElement(\"div\", { className: \"removable\" },\r\n                React.createElement(\"button\", { onClick: this.onRemoveClick }, \"X\"),\r\n                React.createElement(Component, tslib_1.__assign({}, childProps))));\r\n        };\r\n        return class_1;\r\n    }(React.Component));\r\n}\r\nfunction mapStateToProps(state, props) {\r\n    return {};\r\n}\r\nvar mapActionsToProps = {\r\n    onRemove: function (itemId) { return ({\r\n        type: \"removeFromDocument\",\r\n        itemId: itemId,\r\n    }); },\r\n};\r\nfunction removable(component) {\r\n    return redux_1.compose(react_redux_1.connect(mapStateToProps, mapActionsToProps), removableCore)(component);\r\n}\r\nexports.default = removable;\r\n\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar stores_1 = __webpack_require__(50);\r\nfunction mapItemStateToDefaultProps(state) {\r\n    return tslib_1.__assign({}, state);\r\n}\r\nfunction mapItemStateToAdditionalPropsDefault(itemState, updatedBaseProps) {\r\n    return tslib_1.__assign({}, itemState, updatedBaseProps);\r\n}\r\nfunction createEditableStateToPropsMapper(mapItemStateToAdditionalProps) {\r\n    return function (state, oldProps) {\r\n        if (state === void 0) { state = stores_1.initialState; }\r\n        var itemId = oldProps.itemId;\r\n        var itemState = state.document[itemId];\r\n        if (itemState) {\r\n            var updatedBaseProps = mapItemStateToDefaultProps(itemState);\r\n            return mapItemStateToAdditionalProps(itemState, updatedBaseProps);\r\n        }\r\n        return oldProps;\r\n    };\r\n}\r\nvar mapBaseActionsToProps = {\r\n    onEdited: function (id, newValue) { return ({\r\n        itemId: id,\r\n        type: \"onEdited\",\r\n        value: newValue,\r\n    }); },\r\n    setIsEditing: function (id, isEditing) { return ({\r\n        editing: isEditing,\r\n        itemId: id,\r\n        type: \"setIsEditing\",\r\n    }); },\r\n};\r\nfunction connectEditable(mapItemStateToProps) {\r\n    if (mapItemStateToProps === void 0) { mapItemStateToProps = mapItemStateToAdditionalPropsDefault; }\r\n    return react_redux_1.connect(createEditableStateToPropsMapper(mapItemStateToProps), mapBaseActionsToProps);\r\n}\r\nexports.default = connectEditable;\r\n\n\n/***/ }),\n\n/***/ 270:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MenuItem_1 = __webpack_require__(19);\r\nvar React = __webpack_require__(0);\r\nvar defaultSingleImageValue = {\r\n    value: {\r\n        border: true,\r\n        className: \"full-width-image\",\r\n        source: \"\",\r\n    },\r\n};\r\nfunction SingleImageButton() {\r\n    return (React.createElement(MenuItem_1.default, { menuItemId: \"single-images\", menuItemText: \"Single Image\", menuItemHeading: \"Create Single Image\", insertEnabled: true, items: [\r\n            {\r\n                elementState: defaultSingleImageValue,\r\n                elementType: \"SingleImage\",\r\n            },\r\n        ] }));\r\n}\r\nvar defaultSideBySideImageValue = {\r\n    value: {\r\n        border: true,\r\n        className: \"sidebyside-image-large\",\r\n        leftSource: \"\",\r\n        rightSource: \"\",\r\n    },\r\n};\r\nfunction SideBySideImageButton() {\r\n    return (React.createElement(MenuItem_1.default, { menuItemId: \"sidebyside-images\", menuItemText: \"Side By Side Images\", menuItemHeading: \"Create Side By Side Images\", insertEnabled: true, items: [\r\n            {\r\n                elementState: defaultSideBySideImageValue,\r\n                elementType: \"SideBySideImage\",\r\n            },\r\n        ] }));\r\n}\r\nexports.default = {\r\n    SideBySideImageButton: SideBySideImageButton,\r\n    SingleImageButton: SingleImageButton,\r\n};\r\n\n\n/***/ }),\n\n/***/ 271:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MenuItem_1 = __webpack_require__(19);\r\nvar draft_js_1 = __webpack_require__(22);\r\nvar React = __webpack_require__(0);\r\nfunction KeyboardShortcutButton() {\r\n    return (React.createElement(MenuItem_1.default, { insertEnabled: true, menuItemHeading: \"Create Keyboard Shortcut\", menuItemId: \"keyboard-shortcut\", menuItemText: \"Keyboard Shortcut\", items: [\r\n            {\r\n                elementState: {\r\n                    value: {\r\n                        content: draft_js_1.convertToRaw(draft_js_1.EditorState.createEmpty().getCurrentContent()),\r\n                        shortcuts: [[\"none\"], [\"none\"]],\r\n                        title: \"\",\r\n                        type: \"no-shortcut\",\r\n                    },\r\n                },\r\n                elementType: \"KeyboardShortcut\",\r\n            },\r\n        ] }));\r\n}\r\nexports.default = KeyboardShortcutButton;\r\n\n\n/***/ }),\n\n/***/ 272:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MenuItem_1 = __webpack_require__(19);\r\nvar draft_js_1 = __webpack_require__(22);\r\nvar React = __webpack_require__(0);\r\nvar defaultListItemValue = draft_js_1.convertToRaw(draft_js_1.EditorState.createEmpty().getCurrentContent());\r\nexports.UnorderedListButton = function () {\r\n    return React.createElement(MenuItem_1.default, { insertEnabled: true, menuItemText: \"Unordered List\", menuItemHeading: \"Create Unordered List\", menuItemId: \"unordered-list\", items: [\r\n            {\r\n                elementType: \"UnorderedList\",\r\n                metaItemType: \"open\",\r\n            },\r\n            {\r\n                elementState: {\r\n                    value: defaultListItemValue,\r\n                },\r\n                elementType: \"ListItem\",\r\n            },\r\n            {\r\n                elementType: \"UnorderedList\",\r\n                metaItemType: \"close\",\r\n            },\r\n        ], itemToEdit: 1 });\r\n};\r\nexports.OrderedListButton = function () {\r\n    return React.createElement(MenuItem_1.default, { insertEnabled: true, menuItemText: \"Ordered List\", menuItemHeading: \"Create Ordered List\", menuItemId: \"ordered-list\", items: [\r\n            {\r\n                elementType: \"OrderedList\",\r\n                metaItemType: \"open\",\r\n            },\r\n            {\r\n                elementState: {\r\n                    value: defaultListItemValue,\r\n                },\r\n                elementType: \"ListItem\",\r\n            },\r\n            {\r\n                elementType: \"OrderedList\",\r\n                metaItemType: \"close\",\r\n            },\r\n        ], itemToEdit: 1 });\r\n};\r\nexports.InstructionListButton = function () {\r\n    return React.createElement(MenuItem_1.default, { insertEnabled: true, menuItemText: \"Instruction List\", menuItemHeading: \"Create Instruction List\", menuItemId: \"instruction-list\", items: [\r\n            {\r\n                elementType: \"InstructionList\",\r\n                metaItemType: \"open\",\r\n            },\r\n            {\r\n                elementState: {\r\n                    value: defaultListItemValue,\r\n                },\r\n                elementType: \"ListItem\",\r\n            },\r\n            {\r\n                elementType: \"InstructionList\",\r\n                metaItemType: \"close\",\r\n            },\r\n        ], itemToEdit: 1 });\r\n};\r\n\n\n/***/ }),\n\n/***/ 273:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MenuItem_1 = __webpack_require__(19);\r\nvar draft_js_1 = __webpack_require__(22);\r\nvar React = __webpack_require__(0);\r\nfunction ListItemButtion() {\r\n    return React.createElement(MenuItem_1.default, { insertEnabled: true, menuItemText: \"List Item\", menuItemHeading: \"Create List Item\", menuItemId: \"list-item\", items: [\r\n            {\r\n                elementState: {\r\n                    value: draft_js_1.convertToRaw(draft_js_1.EditorState.createEmpty().getCurrentContent()),\r\n                },\r\n                elementType: \"ListItem\",\r\n            },\r\n        ] });\r\n}\r\nexports.default = ListItemButtion;\r\n;\r\n\n\n/***/ }),\n\n/***/ 274:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MenuItem_1 = __webpack_require__(19);\r\nvar draft_js_1 = __webpack_require__(22);\r\nvar React = __webpack_require__(0);\r\nfunction ParagraphButton() {\r\n    return React.createElement(MenuItem_1.default, { insertEnabled: true, menuItemText: \"Paragraph\", menuItemHeading: \"Create Paragraph\", menuItemId: \"paragraph\", items: [\r\n            {\r\n                elementState: {\r\n                    value: draft_js_1.convertToRaw(draft_js_1.EditorState.createEmpty().getCurrentContent()),\r\n                },\r\n                elementType: \"RichText\",\r\n            },\r\n        ] });\r\n}\r\nexports.default = ParagraphButton;\r\n;\r\n\n\n/***/ }),\n\n/***/ 275:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MenuItem_1 = __webpack_require__(19);\r\nvar React = __webpack_require__(0);\r\nfunction HtmlButton() {\r\n    return React.createElement(MenuItem_1.default, { insertEnabled: true, menuItemText: \"Raw HTML\", menuItemHeading: \"Create Raw HTML Block\", menuItemId: \"raw-html\", items: [\r\n            {\r\n                elementState: {\r\n                    value: \"\",\r\n                },\r\n                elementType: \"RawHtml\",\r\n            },\r\n        ] });\r\n}\r\nexports.default = HtmlButton;\r\n;\r\n\n\n/***/ }),\n\n/***/ 276:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MenuItem_1 = __webpack_require__(19);\r\nvar draft_js_1 = __webpack_require__(22);\r\nvar React = __webpack_require__(0);\r\nfunction SidebarNoteButton() {\r\n    return (React.createElement(MenuItem_1.default, { insertEnabled: true, menuItemHeading: \"Create Sidebar Note\", menuItemId: \"sidebar-note\", menuItemText: \"Sidebar Note\", items: [\r\n            {\r\n                elementState: {\r\n                    value: {\r\n                        content: draft_js_1.convertToRaw(draft_js_1.EditorState.createEmpty().getCurrentContent()),\r\n                        imgSource: \"\",\r\n                        title: \"\",\r\n                    },\r\n                },\r\n                elementType: \"SidebarNote\",\r\n            },\r\n        ] }));\r\n}\r\nexports.default = SidebarNoteButton;\r\n\n\n/***/ }),\n\n/***/ 277:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MenuItem_1 = __webpack_require__(19);\r\nvar React = __webpack_require__(0);\r\nfunction ToolboxButton() {\r\n    return (React.createElement(MenuItem_1.default, { menuItemId: \"toolbox\", menuItemText: \"Toolbox\", menuItemHeading: \"Create Toolbox\", items: [\r\n            {\r\n                elementState: {\r\n                    value: [\r\n                        {\r\n                            description: \"Tool description\",\r\n                            imgSrc: \"\",\r\n                            name: \"Tool Name\",\r\n                        },\r\n                    ],\r\n                },\r\n                elementType: \"Toolbox\",\r\n            },\r\n        ], insertEnabled: true }));\r\n}\r\nexports.default = ToolboxButton;\r\n;\r\n\n\n/***/ }),\n\n/***/ 278:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar react_flyout_1 = __webpack_require__(126);\r\n__webpack_require__(370);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar mapStateToProps = function (state, oldProps) {\r\n    if (state.flyout.id === oldProps.id) {\r\n        return {\r\n            open: state.flyout.open,\r\n            options: tslib_1.__assign({}, oldProps.options, state.flyout.options),\r\n        };\r\n    }\r\n    return {};\r\n};\r\nvar mapDispatchToProps = {\r\n    onWindowClick: function () { return ({\r\n        type: \"flyout-toggle\",\r\n    }); },\r\n};\r\nvar Flyout = react_redux_1.connect(mapStateToProps, mapDispatchToProps)(react_flyout_1.default);\r\nexports.default = Flyout;\r\n\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar ImportLegacyManual_1 = __webpack_require__(130);\r\nvar React = __webpack_require__(0);\r\nvar react_activity_indicator_1 = __webpack_require__(78);\r\n__webpack_require__(157);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar redux_1 = __webpack_require__(16);\r\nvar redux_dialog_1 = __webpack_require__(32);\r\nvar boxDownload = __webpack_require__(391);\r\nvar boxFolder = __webpack_require__(392);\r\nvar ImportWizard = (function (_super) {\r\n    tslib_1.__extends(ImportWizard, _super);\r\n    function ImportWizard() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.fileChanged = function (event) {\r\n            if (event.currentTarget.files) {\r\n                _this.props.onFileChanged(event.currentTarget.files[0]);\r\n            }\r\n        };\r\n        _this.onImport = function () {\r\n            if (_this.props.fileToImport) {\r\n                _this.props.onImport(_this.props.fileToImport);\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    ImportWizard.prototype.render = function () {\r\n        if (this.props.importing) {\r\n            return (React.createElement(\"div\", { style: contentContainerStyle },\r\n                React.createElement(react_activity_indicator_1.default, { duration: 100 })));\r\n        }\r\n        else {\r\n            return (React.createElement(\"div\", { style: contentContainerStyle },\r\n                React.createElement(\"button\", { onClick: this.props.onRequestClose }, \"Close\"),\r\n                React.createElement(\"header\", null, \"Import Legacy (HTML) Manual Zip File\"),\r\n                React.createElement(\"input\", { type: \"file\", accept: \".zip\", onChange: this.fileChanged }),\r\n                React.createElement(\"button\", { disabled: !this.props.fileToImport, onClick: this.onImport }, \"Import\"),\r\n                React.createElement(\"h1\", null, \"How to Create the Zip File\"),\r\n                React.createElement(\"ol\", { className: \"instruction-list\" },\r\n                    React.createElement(\"li\", null,\r\n                        React.createElement(\"p\", null, \"Open your Box.com Account\")),\r\n                    React.createElement(\"li\", null,\r\n                        React.createElement(\"p\", null, \"Navigate to the Current Manuals (HTML) folder\")),\r\n                    React.createElement(\"li\", null,\r\n                        React.createElement(\"p\", null, \"Open the folder for the class manual you are importing\")),\r\n                    React.createElement(\"li\", null,\r\n                        React.createElement(\"p\", null, \"Download the folder. This will create the Zip file.\")),\r\n                    React.createElement(\"div\", { className: \"full-width-image\" },\r\n                        React.createElement(\"img\", { src: boxFolder })),\r\n                    React.createElement(\"div\", { className: \"full-width-image\" },\r\n                        React.createElement(\"img\", { src: boxDownload })))));\r\n        }\r\n    };\r\n    return ImportWizard;\r\n}(React.Component));\r\n;\r\nvar contentContainerStyle = {\r\n    margin: \"auto\",\r\n    textAlign: \"left\",\r\n    width: \"50%\",\r\n};\r\nfunction mapStateToProps(store) {\r\n    return {\r\n        fileToImport: store.menu.import.file,\r\n        importing: store.menu.import.importing,\r\n    };\r\n}\r\nvar mapActionsToProps = ({\r\n    onFileChanged: function (file) { return ({\r\n        file: file,\r\n        type: \"import-file-changed\",\r\n    }); },\r\n    onImport: ImportLegacyManual_1.default,\r\n});\r\nexports.default = redux_1.compose(redux_dialog_1.default({\r\n    contentLabel: \"Import Wizard\",\r\n    name: \"import-wizard\",\r\n    shouldCloseOnOverlayClick: false,\r\n}), react_redux_1.connect(mapStateToProps, mapActionsToProps))(ImportWizard);\r\n\n\n/***/ }),\n\n/***/ 280:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar createElement_1 = __webpack_require__(135);\r\nvar React = __webpack_require__(0);\r\nfunction InstructionList(props) {\r\n    var children = [];\r\n    for (var i = 0; i < props.items.length; ++i) {\r\n        var childItem = props.items[i];\r\n        if (childItem.elementType === \"ListItem\") {\r\n            var itemChildren = [];\r\n            var j = i + 1;\r\n            for (; j < props.items.length && props.items[j].elementType !== \"ListItem\"; ++j) {\r\n                itemChildren.push(React.createElement(\"div\", { key: props.items[j].itemId }, createElement_1.default(props.items[j])));\r\n            }\r\n            children.push(React.createElement(\"li\", { key: props.items[i].itemId },\r\n                createElement_1.default(tslib_1.__assign({}, props.items[i], { elementType: \"RichText\" })),\r\n                itemChildren));\r\n            i = j - 1;\r\n        }\r\n        else {\r\n            children.push(createElement_1.default(props.items[i]));\r\n        }\r\n    }\r\n    return (React.createElement(\"ol\", { className: \"instruction-list\" }, children));\r\n}\r\nexports.default = InstructionList;\r\n\n\n/***/ }),\n\n/***/ 281:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar SaveLoadActions_1 = __webpack_require__(62);\r\nvar React = __webpack_require__(0);\r\nvar react_activity_indicator_1 = __webpack_require__(78);\r\n__webpack_require__(157);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar redux_1 = __webpack_require__(16);\r\nvar redux_dialog_1 = __webpack_require__(32);\r\nvar LoadWizard = (function (_super) {\r\n    tslib_1.__extends(LoadWizard, _super);\r\n    function LoadWizard() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.fileChanged = function (event) {\r\n            if (event.currentTarget.files) {\r\n                _this.props.onFileChanged(event.currentTarget.files[0]);\r\n            }\r\n        };\r\n        _this.onLoad = function () {\r\n            if (_this.props.fileToLoad) {\r\n                _this.props.onLoad(_this.props.fileToLoad);\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    LoadWizard.prototype.render = function () {\r\n        if (this.props.loading) {\r\n            return (React.createElement(\"div\", { style: contentContainerStyle },\r\n                React.createElement(react_activity_indicator_1.default, { duration: 100 })));\r\n        }\r\n        else {\r\n            return (React.createElement(\"div\", { style: contentContainerStyle },\r\n                React.createElement(\"button\", { onClick: this.props.onRequestClose }, \"Close\"),\r\n                React.createElement(\"header\", null, \"Load STS Manual File\"),\r\n                React.createElement(\"input\", { type: \"file\", accept: \".uwstsmanual\", onChange: this.fileChanged }),\r\n                React.createElement(\"button\", { disabled: !this.props.fileToLoad, onClick: this.onLoad }, \"Load\")));\r\n        }\r\n    };\r\n    return LoadWizard;\r\n}(React.Component));\r\n;\r\nvar contentContainerStyle = {\r\n    margin: \"auto\",\r\n    textAlign: \"left\",\r\n    width: \"50%\",\r\n};\r\nfunction mapStateToProps(store) {\r\n    return {\r\n        fileToLoad: store.menu.load.file,\r\n        loading: store.menu.load.loading,\r\n    };\r\n}\r\nvar mapActionsToProps = ({\r\n    onFileChanged: function (file) { return ({\r\n        file: file,\r\n        type: \"load-file-changed\",\r\n    }); },\r\n    onLoad: SaveLoadActions_1.loadThunkAction,\r\n});\r\nexports.default = redux_1.compose(redux_dialog_1.default({\r\n    contentLabel: \"Load Wizard\",\r\n    name: \"load-wizard\",\r\n    shouldCloseOnOverlayClick: false,\r\n}), react_redux_1.connect(mapStateToProps, mapActionsToProps))(LoadWizard);\r\n\n\n/***/ }),\n\n/***/ 282:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar PageBreak_1 = __webpack_require__(82);\r\nvar React = __webpack_require__(0);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar TableOfContents = function (props) {\r\n    return (React.createElement(\"div\", null,\r\n        React.createElement(\"h1\", { className: \"no-top-margin\" }, \"Topics Outline\"),\r\n        React.createElement(\"div\", { id: \"outline\" },\r\n            React.createElement(\"ol\", null, props.headings.map(function (heading) {\r\n                return React.createElement(\"li\", { key: heading },\r\n                    React.createElement(\"p\", null, heading));\r\n            }))),\r\n        React.createElement(PageBreak_1.default, null)));\r\n};\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        headings: state.document.elementOrdering.filter(function (element) {\r\n            return element.elementType === \"Heading\" && state.document[element.itemId].level === 1;\r\n        }).map(function (element) { return state.document[element.itemId].value; }),\r\n    };\r\n}\r\nexports.default = react_redux_1.connect(mapStateToProps)(TableOfContents);\r\n\n\n/***/ }),\n\n/***/ 283:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar CodePresenter_1 = __webpack_require__(247);\r\nvar EditableElement_1 = __webpack_require__(26);\r\nvar PlainTextEditor_1 = __webpack_require__(132);\r\nvar connectEditable_1 = __webpack_require__(27);\r\nvar React = __webpack_require__(0);\r\nvar EditableCode = function (props) {\r\n    var EditableCodeBlock = EditableElement_1.default;\r\n    return React.createElement(EditableCodeBlock, tslib_1.__assign({}, props, { inputComponentClass: PlainTextEditor_1.default, staticComponentClass: CodePresenter_1.default, staticProps: { language: props.language }, inputProps: {\r\n            rows: 15,\r\n        } }));\r\n};\r\nexports.default = connectEditable_1.default()(EditableCode);\r\n\n\n/***/ }),\n\n/***/ 284:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar EditableElement_1 = __webpack_require__(26);\r\nvar HtmlPresenter_1 = __webpack_require__(252);\r\nvar PlainTextEditor_1 = __webpack_require__(132);\r\nvar connectEditable_1 = __webpack_require__(27);\r\nvar React = __webpack_require__(0);\r\nvar EditableHtml = function (props) {\r\n    var EditableHtmlBlock = EditableElement_1.default;\r\n    return React.createElement(EditableHtmlBlock, tslib_1.__assign({}, props, { inputComponentClass: PlainTextEditor_1.default, staticComponentClass: HtmlPresenter_1.default }));\r\n};\r\nexports.default = connectEditable_1.default()(EditableHtml);\r\n\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar EditableElement_1 = __webpack_require__(26);\r\nvar ImageEditor_1 = __webpack_require__(253);\r\nvar Images = __webpack_require__(131);\r\nvar connectEditable_1 = __webpack_require__(27);\r\nvar React = __webpack_require__(0);\r\nvar EditableSingleImage = function (props) {\r\n    var EditableImageContainer = EditableElement_1.default;\r\n    return React.createElement(EditableImageContainer, tslib_1.__assign({}, props, { inputComponentClass: ImageEditor_1.default.SingleImageEditor, staticComponentClass: Images.SingleImage }));\r\n};\r\nvar EditableSideBySideImage = function (props) {\r\n    var EditableImageContainer = EditableElement_1.default;\r\n    return React.createElement(EditableImageContainer, tslib_1.__assign({}, props, { inputComponentClass: ImageEditor_1.default.SideBySideImageEditor, staticComponentClass: Images.SideBySideImages }));\r\n};\r\nexports.default = {\r\n    EditableSideBySideImage: connectEditable_1.default()(EditableSideBySideImage),\r\n    EditableSingleImage: connectEditable_1.default()(EditableSingleImage),\r\n};\r\n\n\n/***/ }),\n\n/***/ 286:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar EditableElement_1 = __webpack_require__(26);\r\nvar KeyboardShortcutSidebarEditor_1 = __webpack_require__(259);\r\nvar KeyboardShortcutSidebarPresenter_1 = __webpack_require__(260);\r\nvar connectEditable_1 = __webpack_require__(27);\r\nvar React = __webpack_require__(0);\r\nvar EditableKeyboardShortcut = function (props) {\r\n    var EditableShortcut = EditableElement_1.default;\r\n    return React.createElement(EditableShortcut, tslib_1.__assign({}, props, { inputComponentClass: KeyboardShortcutSidebarEditor_1.default, staticComponentClass: KeyboardShortcutSidebarPresenter_1.default }));\r\n};\r\nexports.default = connectEditable_1.default()(EditableKeyboardShortcut);\r\n\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar EditableElement_1 = __webpack_require__(26);\r\nvar ListItem_1 = __webpack_require__(261);\r\nvar ListItemEditor_1 = __webpack_require__(262);\r\nvar connectEditable_1 = __webpack_require__(27);\r\nvar React = __webpack_require__(0);\r\nvar EditableListItem = function (props) {\r\n    var EditableListItemContainer = EditableElement_1.default;\r\n    return React.createElement(EditableListItemContainer, tslib_1.__assign({}, props, { inputComponentClass: ListItemEditor_1.default, staticComponentClass: ListItem_1.default }));\r\n};\r\nexports.default = connectEditable_1.default()(EditableListItem);\r\n\n\n/***/ }),\n\n/***/ 288:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar EditableElement_1 = __webpack_require__(26);\r\nvar RichText = __webpack_require__(36);\r\nvar connectEditable_1 = __webpack_require__(27);\r\nvar React = __webpack_require__(0);\r\nvar EditableRichText = function (props) {\r\n    var EditableRichTextContainer = EditableElement_1.default;\r\n    return React.createElement(EditableRichTextContainer, tslib_1.__assign({}, props, { staticComponentClass: RichText.Presenter, inputComponentClass: RichText.Editor }));\r\n};\r\nexports.default = connectEditable_1.default()(EditableRichText);\r\n\n\n/***/ }),\n\n/***/ 289:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar EditableElement_1 = __webpack_require__(26);\r\nvar SidebarEditor_1 = __webpack_require__(263);\r\nvar SidebarNote_1 = __webpack_require__(264);\r\nvar connectEditable_1 = __webpack_require__(27);\r\nvar React = __webpack_require__(0);\r\nvar EditableSidebarNote = function (props) {\r\n    var EditableSidebar = EditableElement_1.default;\r\n    return React.createElement(EditableSidebar, tslib_1.__assign({}, props, { inputComponentClass: SidebarEditor_1.default, staticComponentClass: SidebarNote_1.default }));\r\n};\r\nexports.default = connectEditable_1.default()(EditableSidebarNote);\r\n\n\n/***/ }),\n\n/***/ 290:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar EditableElement_1 = __webpack_require__(26);\r\nvar Toolbox_1 = __webpack_require__(266);\r\nvar ToolboxEditor_1 = __webpack_require__(267);\r\nvar connectEditable_1 = __webpack_require__(27);\r\nvar React = __webpack_require__(0);\r\nvar EditableToolbox = function (props) {\r\n    var EditableToolboxContainer = EditableElement_1.default;\r\n    return React.createElement(EditableToolboxContainer, tslib_1.__assign({}, props, { inputComponentClass: ToolboxEditor_1.default, staticComponentClass: Toolbox_1.default }));\r\n};\r\nexports.default = connectEditable_1.default()(EditableToolbox);\r\n\n\n/***/ }),\n\n/***/ 291:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar MenuItem_1 = __webpack_require__(19);\r\nvar React = __webpack_require__(0);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar CodeSnippetButton = (function (_super) {\r\n    tslib_1.__extends(CodeSnippetButton, _super);\r\n    function CodeSnippetButton() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onChangeLanguage = function (event) {\r\n            _this.props.onChangeLanguage(event.target.value);\r\n        };\r\n        return _this;\r\n    }\r\n    CodeSnippetButton.prototype.render = function () {\r\n        return React.createElement(MenuItem_1.default, { insertEnabled: !!this.props.language, menuItemHeading: \"Insert Code Snippet\", menuItemId: \"code-snippet\", menuItemText: \"Code Snippet\", items: [\r\n                {\r\n                    elementState: {\r\n                        language: this.props.language,\r\n                        value: \"\",\r\n                    },\r\n                    elementType: \"Code\",\r\n                },\r\n            ] },\r\n            React.createElement(\"select\", { value: this.props.language, onChange: this.onChangeLanguage },\r\n                React.createElement(\"option\", { value: \"html-css-javascript\" }, \"HTML/CSS/JavaScript\"),\r\n                React.createElement(\"option\", { value: \"python\" }, \"Python\"),\r\n                React.createElement(\"option\", { value: \"excel\" }, \"Excel\"),\r\n                React.createElement(\"option\", { value: \"java\" }, \"Java\"),\r\n                React.createElement(\"option\", { value: \"mathematica\" }, \"Mathematica\"),\r\n                React.createElement(\"option\", { value: \"matlab\" }, \"Matlab\"),\r\n                React.createElement(\"option\", { value: \"php-sql\" }, \"PHP/SQL\"),\r\n                React.createElement(\"option\", { value: \"r\" }, \"R\"),\r\n                React.createElement(\"option\", { value: \"tex\" }, \"LaTeX\")));\r\n    };\r\n    return CodeSnippetButton;\r\n}(React.Component));\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        language: state.menu.code.language,\r\n    };\r\n}\r\nvar mapActionsToProps = ({\r\n    onChangeLanguage: function (language) { return ({\r\n        language: language,\r\n        type: \"update-code-language\",\r\n    }); },\r\n});\r\nexports.default = react_redux_1.connect(mapStateToProps, mapActionsToProps)(CodeSnippetButton);\r\n\n\n/***/ }),\n\n/***/ 292:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar MenuItem_1 = __webpack_require__(19);\r\nvar React = __webpack_require__(0);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar stores_1 = __webpack_require__(50);\r\nvar HeadingButton = (function (_super) {\r\n    tslib_1.__extends(HeadingButton, _super);\r\n    function HeadingButton() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.levelChanged = function (e) {\r\n            if (_this.props.levelChanged) {\r\n                _this.props.levelChanged(parseInt(e.target.value, 10));\r\n            }\r\n        };\r\n        _this.textChanged = function (e) {\r\n            if (_this.props.textChanged) {\r\n                _this.props.textChanged(e.target.value);\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    HeadingButton.prototype.render = function () {\r\n        return (React.createElement(MenuItem_1.default, { menuItemId: \"headings\", menuItemText: \"Headings\", menuItemHeading: \"Create Heading\", insertEnabled: this.props.headingText.length !== 0, items: [\r\n                {\r\n                    elementState: {\r\n                        level: this.props.headingLevel,\r\n                        value: this.props.headingText,\r\n                    },\r\n                    elementType: \"Heading\",\r\n                },\r\n            ] },\r\n            React.createElement(\"section\", null,\r\n                React.createElement(\"select\", { onChange: this.levelChanged, value: this.props.headingLevel },\r\n                    React.createElement(\"option\", { value: 1 }, \"Section Heading\"),\r\n                    React.createElement(\"option\", { value: 2 }, \"Subsection Heading\"),\r\n                    React.createElement(\"option\", { value: 3 }, \"Sub-Subsection Heading\"),\r\n                    React.createElement(\"option\", { value: 4 }, \"Paragraph Heading\"),\r\n                    React.createElement(\"option\", { value: 5 }, \"Sub-paragraph Heading\"))),\r\n            React.createElement(\"section\", null,\r\n                React.createElement(\"input\", { placeholder: \"Heading Text\", value: this.props.headingText, onChange: this.textChanged }))));\r\n    };\r\n    return HeadingButton;\r\n}(React.Component));\r\nfunction mapStateToProps(state) {\r\n    if (state === void 0) { state = stores_1.initialState; }\r\n    return {\r\n        headingLevel: state.menu.heading.level,\r\n        headingText: state.menu.heading.text,\r\n    };\r\n}\r\nvar mapActionsToProps = ({\r\n    levelChanged: function (newLevel) { return ({\r\n        level: newLevel,\r\n        type: \"update-heading-level\",\r\n    }); },\r\n    textChanged: function (newText) { return ({\r\n        text: newText,\r\n        type: \"update-heading-text\",\r\n    }); },\r\n});\r\nexports.default = react_redux_1.connect(mapStateToProps, mapActionsToProps)(HeadingButton);\r\n\n\n/***/ }),\n\n/***/ 293:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar ImportWizard_1 = __webpack_require__(279);\r\nvar React = __webpack_require__(0);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar redux_dialog_1 = __webpack_require__(32);\r\nvar ImportButton = (function (_super) {\r\n    tslib_1.__extends(ImportButton, _super);\r\n    function ImportButton() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.toggleWizard = function () {\r\n            _this.props.toggleWizard();\r\n        };\r\n        return _this;\r\n    }\r\n    ImportButton.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: \"has-flyout\" },\r\n            React.createElement(\"button\", { onClick: this.toggleWizard }, \"Import\"),\r\n            React.createElement(ImportWizard_1.default, null)));\r\n    };\r\n    return ImportButton;\r\n}(React.Component));\r\nfunction mapStateToProps(state) {\r\n    return {};\r\n}\r\nvar mapActionsToProps = ({\r\n    toggleWizard: function () { return redux_dialog_1.openDialog(\"import-wizard\"); },\r\n});\r\nexports.default = react_redux_1.connect(mapStateToProps, mapActionsToProps)(ImportButton);\r\n\n\n/***/ }),\n\n/***/ 294:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar LoadWizard_1 = __webpack_require__(281);\r\nvar React = __webpack_require__(0);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar redux_dialog_1 = __webpack_require__(32);\r\nvar LoadButton = (function (_super) {\r\n    tslib_1.__extends(LoadButton, _super);\r\n    function LoadButton() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.toggleWizard = function () {\r\n            _this.props.toggleWizard();\r\n        };\r\n        return _this;\r\n    }\r\n    LoadButton.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: \"has-flyout\" },\r\n            React.createElement(\"button\", { onClick: this.toggleWizard }, \"Load\"),\r\n            React.createElement(LoadWizard_1.default, null)));\r\n    };\r\n    return LoadButton;\r\n}(React.Component));\r\nfunction mapStateToProps(state) {\r\n    return {};\r\n}\r\nvar mapActionsToProps = ({\r\n    toggleWizard: function () { return redux_dialog_1.openDialog(\"load-wizard\"); },\r\n});\r\nexports.default = react_redux_1.connect(mapStateToProps, mapActionsToProps)(LoadButton);\r\n\n\n/***/ }),\n\n/***/ 295:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SaveLoadActions_1 = __webpack_require__(62);\r\nvar React = __webpack_require__(0);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar SaveButton = function (props) {\r\n    return React.createElement(\"button\", { onClick: props.onSave }, \"Save\");\r\n};\r\nfunction mapStateToProps(state, props) {\r\n    return {};\r\n}\r\nvar mapActionsToProps = ({\r\n    onSave: SaveLoadActions_1.saveAsThunkAction,\r\n});\r\nexports.default = react_redux_1.connect(mapStateToProps, mapActionsToProps)(SaveButton);\r\n\n\n/***/ }),\n\n/***/ 296:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar MenuItem_1 = __webpack_require__(19);\r\nvar draft_js_1 = __webpack_require__(22);\r\nvar React = __webpack_require__(0);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar stores_1 = __webpack_require__(50);\r\nfunction generateItems(rows, columns) {\r\n    var items = [];\r\n    items.push({\r\n        elementType: \"Table\",\r\n        metaItemType: \"open\",\r\n    });\r\n    for (var i = 0; i < rows; i++) {\r\n        items.push({\r\n            elementType: \"TableRow\",\r\n            metaItemType: \"open\",\r\n        });\r\n        for (var j = 0; j < columns; j++) {\r\n            items.push({\r\n                elementType: i === 0 ? \"TableHeader\" : \"TableCell\",\r\n                metaItemType: \"open\",\r\n            });\r\n            items.push({\r\n                elementState: {\r\n                    value: draft_js_1.convertToRaw(draft_js_1.EditorState.createEmpty().getCurrentContent()),\r\n                },\r\n                elementType: \"RichText\",\r\n            });\r\n            items.push({\r\n                elementType: i === 0 ? \"TableHeader\" : \"TableCell\",\r\n                metaItemType: \"close\",\r\n            });\r\n        }\r\n        items.push({\r\n            elementType: \"TableRow\",\r\n            metaItemType: \"close\",\r\n        });\r\n    }\r\n    items.push({\r\n        elementType: \"Table\",\r\n        metaItemType: \"close\",\r\n    });\r\n    return items;\r\n}\r\nvar TableButton = (function (_super) {\r\n    tslib_1.__extends(TableButton, _super);\r\n    function TableButton(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        _this.rowsChanged = function (e) {\r\n            if (_this.props.rowsChanged) {\r\n                _this.props.rowsChanged(parseInt(e.target.value, 10));\r\n            }\r\n        };\r\n        _this.columnsChanged = function (e) {\r\n            if (_this.props.columnsChanged) {\r\n                _this.props.columnsChanged(parseInt(e.target.value, 10));\r\n            }\r\n        };\r\n        _this.state = {\r\n            items: generateItems(props.rows, props.columns),\r\n        };\r\n        return _this;\r\n    }\r\n    TableButton.prototype.componentWillReceiveProps = function (props) {\r\n        if (props.rows !== this.props.rows || props.columns !== this.props.columns) {\r\n            this.setState({\r\n                items: generateItems(props.rows, props.columns),\r\n            });\r\n        }\r\n    };\r\n    TableButton.prototype.render = function () {\r\n        return (React.createElement(MenuItem_1.default, { menuItemId: \"table\", menuItemText: \"Table\", menuItemHeading: \"Create Table\", insertEnabled: this.props.rows > 0 && this.props.columns > 0, items: this.state.items, itemToEdit: 3 },\r\n            React.createElement(\"section\", null,\r\n                React.createElement(\"label\", { htmlFor: \"table-rows\" }, \"Rows:\"),\r\n                React.createElement(\"input\", { type: \"number\", value: this.props.rows, onChange: this.rowsChanged })),\r\n            React.createElement(\"section\", null,\r\n                React.createElement(\"label\", { htmlFor: \"table-columns\" }, \"Columns:\"),\r\n                React.createElement(\"input\", { type: \"number\", value: this.props.columns, onChange: this.columnsChanged }))));\r\n    };\r\n    return TableButton;\r\n}(React.Component));\r\nfunction mapStateToProps(state) {\r\n    if (state === void 0) { state = stores_1.initialState; }\r\n    return {\r\n        columns: state.menu.table.columns,\r\n        rows: state.menu.table.rows,\r\n    };\r\n}\r\nvar mapActionsToProps = ({\r\n    columnsChanged: function (columns) { return ({\r\n        columns: columns,\r\n        type: \"update-table-columns\",\r\n    }); },\r\n    rowsChanged: function (rows) { return ({\r\n        rows: rows,\r\n        type: \"update-table-rows\",\r\n    }); },\r\n});\r\nexports.default = react_redux_1.connect(mapStateToProps, mapActionsToProps)(TableButton);\r\n\n\n/***/ }),\n\n/***/ 297:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar KeyToImageMap = {\r\n    0: \"0\",\r\n    1: \"1\",\r\n    2: \"2\",\r\n    3: \"3\",\r\n    4: \"4\",\r\n    5: \"5\",\r\n    6: \"6\",\r\n    7: \"7\",\r\n    8: \"8\",\r\n    9: \"9\",\r\n    a: \"a\",\r\n    alt: \"Alt\",\r\n    b: \"b\",\r\n    backslash: \"Backslash\",\r\n    backspace: \"Backspace\",\r\n    bracketleft: \"Left Bracket\",\r\n    bracketright: \"Right Bracket\",\r\n    c: \"c\",\r\n    caps: \"Caps Lock\",\r\n    colon: \"Colon\",\r\n    comma: \"Comma\",\r\n    command: \"Command\",\r\n    control: \"Control\",\r\n    d: \"d\",\r\n    dash: \"Dash\",\r\n    delete: \"Delete\",\r\n    downarrow: \"Down Arrow\",\r\n    e: \"e\",\r\n    enter: \"Enter\",\r\n    escape: \"Escape\",\r\n    f: \"f\",\r\n    fn: \"Fn\",\r\n    g: \"g\",\r\n    h: \"h\",\r\n    i: \"i\",\r\n    j: \"j\",\r\n    k: \"k\",\r\n    l: \"l\",\r\n    leftarrow: \"Left Arrow\",\r\n    m: \"m\",\r\n    n: \"n\",\r\n    none: \"\",\r\n    o: \"o\",\r\n    option: \"Option\",\r\n    p: \"p\",\r\n    period: \"Period\",\r\n    plus: \"Plus\",\r\n    q: \"q\",\r\n    questionmark: \"Question Mark\",\r\n    quote: \"Quote\",\r\n    r: \"r\",\r\n    return: \"Return\",\r\n    rightarrow: \"Right Arrow\",\r\n    s: \"s\",\r\n    shift: \"Shift\",\r\n    t: \"t\",\r\n    tab: \"Tab\",\r\n    tilde: \"Tilde\",\r\n    u: \"u\",\r\n    uparrow: \"Up Arrow\",\r\n    v: \"v\",\r\n    w: \"w\",\r\n    windows: \"Windows\",\r\n    x: \"x\",\r\n    y: \"y\",\r\n    z: \"z\",\r\n};\r\nexports.default = KeyToImageMap;\r\n\n\n/***/ }),\n\n/***/ 298:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar draft_js_1 = __webpack_require__(22);\r\nvar he_1 = __webpack_require__(128);\r\nvar Document_1 = __webpack_require__(86);\r\nvar legacyImagesFolder = \"images/\";\r\nvar legacyKeyboardIconsFolder = \"keyboard-icons/\";\r\nfunction extractElements(parentElement) {\r\n    var encounteredIntro = !(parentElement instanceof HTMLBodyElement);\r\n    var items = [];\r\n    for (var i = 0; i < parentElement.childNodes.length; ++i) {\r\n        var currentElement = parentElement.childNodes.item(i);\r\n        if (!encounteredIntro) {\r\n            if (currentElement.textContent === \"Introduction\") {\r\n                encounteredIntro = true;\r\n            }\r\n            continue;\r\n        }\r\n        if (currentElement.nodeType === Node.ELEMENT_NODE) {\r\n            items = items.concat(convertCurrentElement(currentElement));\r\n        }\r\n        if (currentElement.nodeType === Node.TEXT_NODE && currentElement.textContent && currentElement.textContent.trim().length) {\r\n            items.push({\r\n                elementState: {\r\n                    value: draft_js_1.convertToRaw(draft_js_1.ContentState.createFromBlockArray(draft_js_1.convertFromHTML(currentElement.textContent))),\r\n                },\r\n                elementType: \"RichText\",\r\n            });\r\n        }\r\n    }\r\n    return items;\r\n}\r\nfunction convertCurrentElement(currentElement) {\r\n    switch (currentElement.tagName.toLowerCase()) {\r\n        case \"h1\":\r\n        case \"h2\":\r\n        case \"h3\":\r\n        case \"h4\":\r\n        case \"h5\":\r\n        case \"h6\":\r\n            return [\r\n                {\r\n                    elementState: {\r\n                        level: parseInt(currentElement.tagName[1], 10),\r\n                        value: currentElement.innerText,\r\n                    },\r\n                    elementType: \"Heading\",\r\n                },\r\n            ];\r\n        case \"ul\":\r\n            return generateMetaItem(\"UnorderedList\", currentElement);\r\n        case \"li\":\r\n            {\r\n                return extractElements(currentElement).map(function (element) {\r\n                    if (element.elementType === \"RichText\") {\r\n                        element = {\r\n                            elementType: \"ListItem\",\r\n                            elementState: element.elementState,\r\n                        };\r\n                    }\r\n                    return element;\r\n                });\r\n            }\r\n        case \"ol\":\r\n            {\r\n                var elementType = currentElement.classList.contains(\"instruction-list\") ? \"InstructionList\" : \"OrderedList\";\r\n                return generateMetaItem(elementType, currentElement);\r\n            }\r\n        case \"p\":\r\n            {\r\n                var content = draft_js_1.ContentState.createFromBlockArray(draft_js_1.convertFromHTML(currentElement.outerHTML));\r\n                return [\r\n                    {\r\n                        elementState: {\r\n                            value: draft_js_1.convertToRaw(content),\r\n                        },\r\n                        elementType: \"RichText\",\r\n                    },\r\n                ];\r\n            }\r\n        case \"pre\":\r\n            {\r\n                var codeLanguage = \"\";\r\n                var head = currentElement.ownerDocument.head;\r\n                for (var j = 0; j < head.children.length; ++j) {\r\n                    var headElement = head.children.item(j);\r\n                    if (headElement.tagName.toLowerCase() === \"script\") {\r\n                        var scriptTag = headElement;\r\n                        var found = scriptTag.src.match(/([A-Za-z-]+)-highlight.js/);\r\n                        if (found) {\r\n                            codeLanguage = found[1];\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                return [\r\n                    {\r\n                        elementState: {\r\n                            language: codeLanguage,\r\n                            value: he_1.decode(currentElement.children[0].innerHTML),\r\n                        },\r\n                        elementType: \"Code\",\r\n                    },\r\n                ];\r\n            }\r\n        case \"div\":\r\n            return [\r\n                generateDivItem(currentElement),\r\n            ];\r\n        case \"br\":\r\n            return [];\r\n        case \"table\":\r\n            return generateMetaItem(\"Table\", currentElement);\r\n        case \"tbody\":\r\n            return extractElements(currentElement);\r\n        case \"tr\":\r\n            return generateMetaItem(\"TableRow\", currentElement);\r\n        case \"th\":\r\n            return generateMetaItem(\"TableHeader\", currentElement);\r\n        case \"td\":\r\n            return generateMetaItem(\"TableCell\", currentElement);\r\n        default:\r\n            console.warn(\"Unsupported Tag \" + currentElement.tagName + \". Imported into a Raw HTML element.\");\r\n            return [\r\n                {\r\n                    elementState: {\r\n                        value: currentElement.outerHTML,\r\n                    },\r\n                    elementType: \"RawHtml\",\r\n                },\r\n            ];\r\n    }\r\n}\r\nfunction generateMetaItem(elementType, currentElement) {\r\n    var listElements = [\r\n        {\r\n            elementType: elementType,\r\n            metaItemType: \"open\",\r\n        },\r\n        {\r\n            elementType: elementType,\r\n            metaItemType: \"close\",\r\n        },\r\n    ];\r\n    Array.prototype.splice.apply(listElements, [1, 0].concat(extractElements(currentElement)));\r\n    return listElements;\r\n}\r\nfunction generateImageItem(element) {\r\n    var classList = element.classList;\r\n    var border = element.getAttribute(\"border\") !== null || classList.contains(\"border\");\r\n    var captionElement = element.querySelector(\"p\");\r\n    var caption = captionElement ? captionElement.innerText : \"\";\r\n    var className;\r\n    for (var i = 0; i < classList.length; ++i) {\r\n        if (classList.item(i).includes(\"image\")) {\r\n            className = classList.item(i);\r\n            if (className.includes(\"sidebyside\")) {\r\n                var leftSource = importImagePath(element.querySelectorAll(\"img\")[0].getAttribute(\"src\"));\r\n                var rightSource = importImagePath(element.querySelectorAll(\"img\")[1].getAttribute(\"src\"));\r\n                return {\r\n                    elementState: {\r\n                        value: {\r\n                            border: border,\r\n                            caption: caption,\r\n                            leftSource: leftSource,\r\n                            rightSource: rightSource,\r\n                            className: className,\r\n                        },\r\n                    },\r\n                    elementType: \"SideBySideImage\",\r\n                };\r\n            }\r\n            else {\r\n                var source = importImagePath(element.querySelector(\"img\").getAttribute(\"src\"));\r\n                return {\r\n                    elementState: {\r\n                        value: {\r\n                            border: border,\r\n                            caption: caption,\r\n                            source: source,\r\n                            className: className,\r\n                        },\r\n                    },\r\n                    elementType: \"SingleImage\",\r\n                };\r\n            }\r\n        }\r\n    }\r\n    throw new Error(\"Impossible error: Class-list does not contain an image class, but the className attribute does.\");\r\n}\r\nfunction generateDivItem(element) {\r\n    var classList = element.classList;\r\n    var classes = element.className;\r\n    if (classes.includes(\"image\") || classList.contains(\"sidebar-icon\")) {\r\n        return generateImageItem(element);\r\n    }\r\n    else if (classList.contains(\"sidebar-note\")) {\r\n        var titleElement = element.querySelector(\"h2\");\r\n        var title = titleElement ? titleElement.innerText : \"\";\r\n        var content = draft_js_1.convertToRaw(draft_js_1.ContentState.createFromBlockArray(draft_js_1.convertFromHTML(element.querySelector(\"p\").outerHTML)));\r\n        var imageElement = element.querySelector(\"img\");\r\n        var imgSource = imageElement ? imageElement.src : \"\";\r\n        return {\r\n            elementState: {\r\n                value: {\r\n                    title: title,\r\n                    content: content,\r\n                    imgSource: imgSource,\r\n                },\r\n            },\r\n            elementType: \"SidebarNote\",\r\n        };\r\n    }\r\n    else if (classList.contains(\"toolbox\")) {\r\n        var items = [];\r\n        for (var i = 0; i < element.children.length; ++i) {\r\n            var item = element.children.item(i);\r\n            var imgSrc = importImagePath(item.querySelector(\"img\").getAttribute(\"src\"));\r\n            var content = item.querySelector(\"p\");\r\n            var name_1 = content.querySelector(\"b\").innerText;\r\n            content.removeChild(content.querySelector(\"b\"));\r\n            var description = content.innerText;\r\n            items.push({\r\n                imgSrc: imgSrc,\r\n                name: name_1,\r\n                description: description,\r\n            });\r\n        }\r\n        return {\r\n            elementState: {\r\n                value: items,\r\n            },\r\n            elementType: \"Toolbox\",\r\n        };\r\n    }\r\n    else if (classList.contains(\"keyboard-shortcut\")) {\r\n        var titleElement = element.querySelector(\"h2\");\r\n        var title = titleElement ? titleElement.innerText : \"\";\r\n        var content = draft_js_1.convertToRaw(draft_js_1.ContentState.createFromBlockArray(draft_js_1.convertFromHTML(element.querySelector(\"p\").outerHTML)));\r\n        var labels = element.querySelectorAll(\"h3\");\r\n        switch (labels.length) {\r\n            case 0:\r\n            case 1:\r\n                {\r\n                    var keyImages = element.getElementsByTagName(\"img\");\r\n                    var keys = [];\r\n                    for (var i = 0; i < keyImages.length; ++i) {\r\n                        var image = keyImages.item(i);\r\n                        var regexMatch = image.getAttribute(\"src\").match(/icon-([a-z0-9]+).svg/i);\r\n                        keys.push(regexMatch[1]);\r\n                    }\r\n                    return {\r\n                        elementState: {\r\n                            value: {\r\n                                title: title,\r\n                                content: content,\r\n                                shortcuts: [keys],\r\n                                type: keys.length ? \"shortcut\" : \"no-shortcut\",\r\n                            },\r\n                        },\r\n                        elementType: \"KeyboardShortcut\",\r\n                    };\r\n                }\r\n            default:\r\n                console.warn(\"Unsupported number of labels. Only importing first 2 shortcuts\");\r\n            case 2:\r\n                var firstLabel = labels.item(0);\r\n                var secondLabel = labels.item(1);\r\n                var firstKeys = [];\r\n                for (var image = firstLabel.nextElementSibling; image !== secondLabel; image = image.nextElementSibling) {\r\n                    var regexMatch = image.getAttribute(\"src\").match(/icon-([a-z0-9]+).svg/i);\r\n                    firstKeys.push(regexMatch[1]);\r\n                }\r\n                var secondKeys = [];\r\n                for (var image = secondLabel.nextElementSibling; image && image !== labels.item(2); image = image.nextElementSibling) {\r\n                    var regexMatch = image.getAttribute(\"src\").match(/icon-([a-z0-9]+).svg/i);\r\n                    secondKeys.push(regexMatch[1]);\r\n                }\r\n                return {\r\n                    elementState: {\r\n                        value: {\r\n                            title: title,\r\n                            content: content,\r\n                            shortcuts: [firstKeys, secondKeys],\r\n                            type: \"multi-shortcut\",\r\n                        },\r\n                    },\r\n                    elementType: \"KeyboardShortcut\",\r\n                };\r\n        }\r\n    }\r\n    else {\r\n        console.warn(\"Unsupported div classes: \" + classes + \". Imported into a Raw HTML element\");\r\n        return {\r\n            elementState: {\r\n                value: element.outerHTML,\r\n            },\r\n            elementType: \"RawHtml\",\r\n        };\r\n    }\r\n}\r\nfunction importImagePath(imagePath) {\r\n    if (imagePath.startsWith(legacyImagesFolder)) {\r\n        return imagePath.substr(legacyImagesFolder.length);\r\n    }\r\n    if (imagePath.startsWith(legacyKeyboardIconsFolder)) {\r\n        return imagePath.substr(legacyKeyboardIconsFolder.length);\r\n    }\r\n    return imagePath;\r\n}\r\nfunction importManualHtml(html) {\r\n    var parser = new DOMParser();\r\n    var oldManual = parser.parseFromString(html, \"text/html\");\r\n    var newManual = {\r\n        1: {\r\n            editing: false,\r\n            itemId: 1,\r\n            level: 1,\r\n            value: oldManual.querySelector(\"#coverpage-title h1\").textContent,\r\n        },\r\n        2: {\r\n            editing: false,\r\n            itemId: 2,\r\n            level: 2,\r\n            value: oldManual.querySelector(\"#coverpage-title h2\").textContent,\r\n        },\r\n        3: {\r\n            editing: false,\r\n            itemId: 3,\r\n            level: 1,\r\n            value: \"Introduction\",\r\n        },\r\n        elementOrdering: [\r\n            { itemId: 3, elementType: \"Heading\" },\r\n        ],\r\n        nextItemId: 4,\r\n    };\r\n    Document_1.addElements(newManual, extractElements(oldManual.body));\r\n    return newManual;\r\n}\r\nexports.default = importManualHtml;\r\n\n\n/***/ }),\n\n/***/ 299:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar SaveLoadActions = __webpack_require__(62);\r\nvar Document_1 = __webpack_require__(86);\r\nvar setIsEditing = function (state, action) {\r\n    if (state === void 0) { state = Document_1.initialState; }\r\n    if (action.type === \"setIsEditing\") {\r\n        var newState = tslib_1.__assign({}, state);\r\n        newState[action.itemId] = tslib_1.__assign({}, newState[action.itemId]) || { itemId: action.itemId };\r\n        if (action.editing) {\r\n            for (var itemId in newState) {\r\n                if (newState[itemId].editing) {\r\n                    newState[itemId] = tslib_1.__assign({}, newState[itemId], { editing: false });\r\n                }\r\n            }\r\n        }\r\n        newState[action.itemId].editing = action.editing;\r\n        return newState;\r\n    }\r\n    return state;\r\n};\r\nvar onEdited = function (state, action) {\r\n    if (state === void 0) { state = Document_1.initialState; }\r\n    if (action.type === \"onEdited\") {\r\n        var newState = tslib_1.__assign({}, state);\r\n        newState[action.itemId] = tslib_1.__assign({}, newState[action.itemId]) || { itemId: action.itemId };\r\n        newState[action.itemId].value = action.value;\r\n        return newState;\r\n    }\r\n    return state;\r\n};\r\nvar onAddDocument = function (state, action) {\r\n    if (state === void 0) { state = Document_1.initialState; }\r\n    if (action.type === \"addToDocument\") {\r\n        var newState = tslib_1.__assign({}, state);\r\n        Document_1.addElements(newState, action.items, action.itemToEdit, action.ordering);\r\n        return newState;\r\n    }\r\n    return state;\r\n};\r\nvar onRemoveElement = function (state, action) {\r\n    if (state === void 0) { state = Document_1.initialState; }\r\n    if (action.type === \"removeFromDocument\") {\r\n        var newState = tslib_1.__assign({}, state);\r\n        Document_1.removeElement(newState, action.itemId);\r\n        return newState;\r\n    }\r\n    return state;\r\n};\r\nvar onSetDocument = function (state, action) {\r\n    if (state === void 0) { state = Document_1.initialState; }\r\n    if (action.type === \"set-document\") {\r\n        var document_1 = action.document;\r\n        if (action.version && action.version !== SaveLoadActions.saveVersion) {\r\n        }\r\n        return document_1;\r\n    }\r\n    return state;\r\n};\r\nvar editReducers = function (document, action) {\r\n    var newDoc = setIsEditing(document, action);\r\n    newDoc = onEdited(newDoc, action);\r\n    newDoc = onAddDocument(newDoc, action);\r\n    newDoc = onRemoveElement(newDoc, action);\r\n    newDoc = onSetDocument(newDoc, action);\r\n    return newDoc;\r\n};\r\nexports.default = editReducers;\r\n\n\n/***/ }),\n\n/***/ 300:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar Flyout_1 = __webpack_require__(136);\r\nfunction default_1(state, action) {\r\n    if (state === void 0) { state = Flyout_1.initialState; }\r\n    if (action.type === \"flyout-toggle\") {\r\n        var s = void 0;\r\n        if (!state.id || state.id === action.id) {\r\n            s = !state.open;\r\n        }\r\n        else if (action.id === undefined) {\r\n            s = false;\r\n        }\r\n        else {\r\n            s = true;\r\n        }\r\n        return tslib_1.__assign({}, state, { id: action.id, open: s });\r\n    }\r\n    return state;\r\n}\r\nexports.default = default_1;\r\n\n\n/***/ }),\n\n/***/ 301:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ImagesStore = __webpack_require__(137);\r\nfunction default_1(store, action) {\r\n    if (store === void 0) { store = ImagesStore.initialState; }\r\n    if (action.type === \"uploadImage\") {\r\n        return ImagesStore.addOrUpdateBlobImageToStore(store, action.image.name, action.image);\r\n    }\r\n    else if (action.type === \"clear-images\") {\r\n        return ImagesStore.emptyImagesStore(store);\r\n    }\r\n    return store;\r\n}\r\nexports.default = default_1;\r\n\n\n/***/ }),\n\n/***/ 302:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CodeBlockReducers_1 = __webpack_require__(303);\r\nvar HeadingReducers_1 = __webpack_require__(304);\r\nvar ImportReducers_1 = __webpack_require__(305);\r\nvar SaveLoadReducers_1 = __webpack_require__(306);\r\nvar TableReducers_1 = __webpack_require__(307);\r\nvar Redux = __webpack_require__(16);\r\nexports.default = Redux.combineReducers({ heading: HeadingReducers_1.default, code: CodeBlockReducers_1.default, load: SaveLoadReducers_1.load, table: TableReducers_1.default, import: ImportReducers_1.default });\r\n\n\n/***/ }),\n\n/***/ 303:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar MenuActions_1 = __webpack_require__(81);\r\nvar Menu_1 = __webpack_require__(49);\r\nfunction updateCodeLanguage(store, action) {\r\n    if (store === void 0) { store = Menu_1.initialState.code; }\r\n    if (MenuActions_1.isUpdateCodeLanguage(action)) {\r\n        return tslib_1.__assign({}, store, { language: action.language });\r\n    }\r\n    return store;\r\n}\r\nexports.default = updateCodeLanguage;\r\n\n\n/***/ }),\n\n/***/ 304:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar MenuActions_1 = __webpack_require__(81);\r\nvar Menu_1 = __webpack_require__(49);\r\nvar reducer = function (store, action) {\r\n    if (store === void 0) { store = Menu_1.initialState.heading; }\r\n    if (MenuActions_1.isUpdateHeadingLevel(action)) {\r\n        var newStore = tslib_1.__assign({}, store, { level: action.level });\r\n        return newStore;\r\n    }\r\n    else if (MenuActions_1.isUpdateHeadingText(action)) {\r\n        var newStore = tslib_1.__assign({}, store, { text: action.text });\r\n        return newStore;\r\n    }\r\n    else {\r\n        return store;\r\n    }\r\n};\r\nexports.default = reducer;\r\n\n\n/***/ }),\n\n/***/ 305:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar ImportLegacyManual_1 = __webpack_require__(130);\r\nvar Menu_1 = __webpack_require__(49);\r\nfunction fileChanged(state, action) {\r\n    if (state === void 0) { state = Menu_1.initialState.import; }\r\n    if (ImportLegacyManual_1.isFileChanged(action)) {\r\n        return tslib_1.__assign({}, state, { file: action.file });\r\n    }\r\n    else if (ImportLegacyManual_1.isSetImporting(action)) {\r\n        return tslib_1.__assign({}, state, { importing: action.importing });\r\n    }\r\n    return state;\r\n}\r\nexports.default = fileChanged;\r\n\n\n/***/ }),\n\n/***/ 306:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar SaveLoadActions_1 = __webpack_require__(62);\r\nvar Menu_1 = __webpack_require__(49);\r\nfunction fileChanged(state, action) {\r\n    if (state === void 0) { state = Menu_1.initialState.load; }\r\n    if (SaveLoadActions_1.isFileChanged(action)) {\r\n        return tslib_1.__assign({}, state, { file: action.file });\r\n    }\r\n    else if (SaveLoadActions_1.isSetLoading(action)) {\r\n        return tslib_1.__assign({}, state, { loading: action.loading });\r\n    }\r\n    return state;\r\n}\r\nexports.load = fileChanged;\r\n\n\n/***/ }),\n\n/***/ 307:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MenuActions_1 = __webpack_require__(81);\r\nvar redux_1 = __webpack_require__(16);\r\nvar stores_1 = __webpack_require__(50);\r\nfunction rows(rows, action) {\r\n    if (rows === void 0) { rows = stores_1.initialState.menu.table.rows; }\r\n    if (MenuActions_1.isUpdateTableRows(action)) {\r\n        return action.rows;\r\n    }\r\n    return rows;\r\n}\r\nfunction columns(columns, action) {\r\n    if (columns === void 0) { columns = stores_1.initialState.menu.table.columns; }\r\n    if (MenuActions_1.isUpdateTableColumns(action)) {\r\n        return action.columns;\r\n    }\r\n    return columns;\r\n}\r\nexports.default = redux_1.combineReducers({ rows: rows, columns: columns });\r\n\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\n__webpack_require__(127);\r\nvar Draft = __webpack_require__(22);\r\n__webpack_require__(371);\r\nvar React = __webpack_require__(0);\r\nvar react_dom_1 = __webpack_require__(13);\r\nvar styleMap = {\r\n    HIGHLIGHT: {\r\n        backgroundColor: \"#BFF0FF\",\r\n        border: {\r\n            radius: \"0.25em\",\r\n        },\r\n    },\r\n    TELETYPE: {\r\n        backgroundColor: \"#F7F7F7\",\r\n        border: {\r\n            radius: \"0.25em\",\r\n        },\r\n        fontFamily: \"Source Code Pro, serif\",\r\n        fontSize: \"0.95em\",\r\n    },\r\n};\r\nfunction findEntityRanges(entityKey) {\r\n    return function (block, callback) {\r\n        block.findEntityRanges(function (character) {\r\n            var key = character.getEntity();\r\n            return key !== null && Draft.Entity.get(key).getType() === entityKey;\r\n        }, callback);\r\n    };\r\n}\r\nvar Link = function (props) {\r\n    var url = Draft.Entity.get(props.entityKey).getData().url;\r\n    return (React.createElement(\"a\", { href: url, target: \"_blank\" }, props.children));\r\n};\r\nvar decorator = new Draft.CompositeDecorator([\r\n    {\r\n        component: Link,\r\n        strategy: findEntityRanges(\"LINK\"),\r\n    },\r\n]);\r\nvar RichTextEditor = (function (_super) {\r\n    tslib_1.__extends(RichTextEditor, _super);\r\n    function RichTextEditor(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        _this.onBlur = function (e) {\r\n            var editorNode = react_dom_1.findDOMNode(_this);\r\n            var newFocus = e.relatedTarget;\r\n            if (!editorNode.contains(newFocus)) {\r\n                _this.props.onValueChange(Draft.convertToRaw(_this.state.editorState.getCurrentContent()));\r\n            }\r\n        };\r\n        _this.onUrlChange = function (e) {\r\n            _this.setState({\r\n                urlValue: e.target.value,\r\n            });\r\n        };\r\n        _this.setUrl = function (urlInput) {\r\n            _this.urlInput = urlInput;\r\n        };\r\n        _this.setEditor = function (editor) {\r\n            _this.editor = editor;\r\n        };\r\n        _this.onChangeEditorStateAllowBlur = function (value) {\r\n            _this.setState({\r\n                editorState: value,\r\n            });\r\n        };\r\n        _this.onChangeEditorState = function (value) {\r\n            _this.setState({\r\n                editorState: value,\r\n            }, function () { return setTimeout(function () { return _this.editor && _this.editor.focus(); }, 0); });\r\n        };\r\n        _this.toggleBold = function () {\r\n            _this.onChangeEditorState(Draft.RichUtils.toggleInlineStyle(_this.state.editorState, \"BOLD\"));\r\n        };\r\n        _this.toggleItalic = function () {\r\n            _this.onChangeEditorState(Draft.RichUtils.toggleInlineStyle(_this.state.editorState, \"ITALIC\"));\r\n        };\r\n        _this.toggleUnderline = function () {\r\n            _this.onChangeEditorState(Draft.RichUtils.toggleInlineStyle(_this.state.editorState, \"UNDERLINE\"));\r\n        };\r\n        _this.toggleTeletype = function () {\r\n            _this.onChangeEditorState(Draft.RichUtils.toggleInlineStyle(_this.state.editorState, \"TELETYPE\"));\r\n        };\r\n        _this.toggleHighlight = function () {\r\n            _this.onChangeEditorState(Draft.RichUtils.toggleInlineStyle(_this.state.editorState, \"HIGHLIGHT\"));\r\n        };\r\n        _this.handleKeyCommand = function (command) {\r\n            var state = Draft.RichUtils.handleKeyCommand(_this.state.editorState, command);\r\n            if (state) {\r\n                _this.onChangeEditorState(state);\r\n                return \"handled\";\r\n            }\r\n            return \"not-handled\";\r\n        };\r\n        _this.promptForLink = function () {\r\n            var selection = _this.state.editorState.getSelection();\r\n            if (!selection.isCollapsed()) {\r\n                _this.setState({\r\n                    showURLInput: true,\r\n                    urlValue: \"\",\r\n                }, function () { return setTimeout(_this.urlInput.focus(), 0); });\r\n            }\r\n        };\r\n        _this.confirmLink = function (e) {\r\n            e.preventDefault();\r\n            var entityKey = Draft.Entity.create(\"LINK\", \"MUTABLE\", { url: _this.state.urlValue });\r\n            _this.onChangeEditorState(Draft.RichUtils.toggleLink(_this.state.editorState, _this.state.editorState.getSelection(), entityKey));\r\n            _this.setState({\r\n                showURLInput: false,\r\n                urlValue: \"\",\r\n            }, function () { return setTimeout(function () { return _this.editor.focus(); }, 0); });\r\n        };\r\n        _this.onLinkInputKeyDown = function (e) {\r\n            if (e.nativeEvent.which === 13) {\r\n                _this.confirmLink(e);\r\n            }\r\n        };\r\n        _this.removeLink = function (e) {\r\n            e.preventDefault();\r\n            var selection = _this.state.editorState.getSelection();\r\n            if (!selection.isCollapsed()) {\r\n                _this.onChangeEditorState(Draft.RichUtils.toggleLink(_this.state.editorState, selection, null));\r\n            }\r\n        };\r\n        var content = Draft.convertFromRaw(props.value);\r\n        _this.state = {\r\n            editorState: Draft.EditorState.createWithContent(content, decorator),\r\n            showURLInput: false,\r\n            urlValue: \"\",\r\n        };\r\n        return _this;\r\n    }\r\n    RichTextEditor.prototype.render = function () {\r\n        var urlInput = null;\r\n        if (this.state.showURLInput) {\r\n            urlInput = (React.createElement(\"div\", { className: \"url-input\" },\r\n                React.createElement(\"input\", { onChange: this.onUrlChange, ref: this.setUrl, type: \"text\", value: this.state.urlValue, onKeyDown: this.onLinkInputKeyDown })));\r\n        }\r\n        return (React.createElement(\"div\", { className: \"editor\" },\r\n            React.createElement(\"div\", null,\r\n                React.createElement(\"ul\", null,\r\n                    React.createElement(\"li\", { tabIndex: 4, onClick: this.toggleBold }, \"Bold\"),\r\n                    React.createElement(\"li\", { tabIndex: 5, onClick: this.toggleItalic }, \"Italic\"),\r\n                    React.createElement(\"li\", { tabIndex: 6, onClick: this.toggleUnderline }, \"Underline\"),\r\n                    React.createElement(\"li\", { tabIndex: 7, onClick: this.toggleTeletype }, \"Teletype\"),\r\n                    React.createElement(\"li\", { tabIndex: 8, onClick: this.toggleHighlight }, \"Highlight\"),\r\n                    React.createElement(\"li\", { tabIndex: 9, onClick: this.promptForLink }, \"Add Link\"),\r\n                    React.createElement(\"li\", { tabIndex: 10, onClick: this.removeLink }, \"Remove Link\"))),\r\n            React.createElement(\"hr\", null),\r\n            urlInput,\r\n            React.createElement(\"div\", null,\r\n                React.createElement(Draft.Editor, { ref: this.setEditor, editorState: this.state.editorState, onChange: this.onChangeEditorStateAllowBlur, placeholder: \"Type your content here.\", handleKeyCommand: this.handleKeyCommand, onBlur: this.onBlur, customStyleMap: styleMap }))));\r\n    };\r\n    return RichTextEditor;\r\n}(React.Component));\r\nexports.Editor = RichTextEditor;\r\nvar RichTextPresenter = (function (_super) {\r\n    tslib_1.__extends(RichTextPresenter, _super);\r\n    function RichTextPresenter(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        _this.onChange = function () {\r\n        };\r\n        var content = Draft.convertFromRaw(props.value);\r\n        _this.state = {\r\n            editorState: Draft.EditorState.createWithContent(content, decorator),\r\n        };\r\n        return _this;\r\n    }\r\n    RichTextPresenter.prototype.componentWillReceiveProps = function (props) {\r\n        this.setState({\r\n            editorState: Draft.EditorState.createWithContent(Draft.convertFromRaw(props.value), decorator),\r\n        });\r\n    };\r\n    RichTextPresenter.prototype.render = function () {\r\n        return React.createElement(Draft.Editor, { readOnly: true, editorState: this.state.editorState, placeholder: \"Empty Paragraph\", customStyleMap: styleMap, onChange: this.onChange });\r\n    };\r\n    return RichTextPresenter;\r\n}(React.Component));\r\nexports.Presenter = RichTextPresenter;\r\n\n\n/***/ }),\n\n/***/ 370:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 371:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 391:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"7dcb072103f3057828635a78264ad6b1.png\";\n\n/***/ }),\n\n/***/ 392:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"f7070cc632f9080a0ed98717c6268037.png\";\n\n/***/ }),\n\n/***/ 393:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_RESULT__;/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((\"function\" !== \"undefined\" && __webpack_require__(745) !== null) && (__webpack_require__(235) !== null)) {\n  !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n    return saveAs;\n  }.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n}\n\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initialState = {\r\n    code: {\r\n        language: \"html-css-javascript\",\r\n    },\r\n    heading: {\r\n        level: 1,\r\n        text: \"\",\r\n    },\r\n    import: {\r\n        importing: false,\r\n    },\r\n    load: {\r\n        loading: false,\r\n    },\r\n    table: {\r\n        columns: 0,\r\n        rows: 0,\r\n    },\r\n};\r\n\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Document = __webpack_require__(86);\r\nvar Flyout = __webpack_require__(136);\r\nvar Images = __webpack_require__(137);\r\nvar Menu = __webpack_require__(49);\r\nexports.initialState = {\r\n    document: Document.initialState,\r\n    flyout: Flyout.initialState,\r\n    images: Images.initialState,\r\n    menu: Menu.initialState,\r\n};\r\n\n\n/***/ }),\n\n/***/ 62:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar file_saver_1 = __webpack_require__(393);\r\nvar redux_dialog_1 = __webpack_require__(32);\r\nexports.saveVersion = 1;\r\nfunction saveAsThunkAction() {\r\n    var _this = this;\r\n    return function (_, getStore) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n        var JSZip, manualFile, document, manual, key, image, blob;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, Promise.resolve().then(function () { return __webpack_require__(61); })];\r\n                case 1:\r\n                    JSZip = _a.sent();\r\n                    manualFile = new JSZip();\r\n                    document = getStore().document;\r\n                    manual = {\r\n                        elementOrdering: document.elementOrdering,\r\n                        nextItemId: document.nextItemId,\r\n                        1: document[1],\r\n                        2: document[2],\r\n                    };\r\n                    manual.elementOrdering.forEach(function (element) {\r\n                        manual[element.itemId] = tslib_1.__assign({}, document[element.itemId]);\r\n                    });\r\n                    manualFile.file(\"manual.json\", JSON.stringify(manual));\r\n                    manualFile.file(\"version\", exports.saveVersion.toString());\r\n                    for (key in getStore().images) {\r\n                        if (getStore().images.hasOwnProperty(key)) {\r\n                            image = getStore().images[key];\r\n                            manualFile.file(key, image.image);\r\n                        }\r\n                    }\r\n                    return [4, manualFile.generateAsync({ type: \"blob\" })];\r\n                case 2:\r\n                    blob = _a.sent();\r\n                    file_saver_1.saveAs(blob, manual[1].value.toString() + \".uwstsmanual\");\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n}\r\nexports.saveAsThunkAction = saveAsThunkAction;\r\nfunction loadThunkAction(zipFile) {\r\n    var _this = this;\r\n    return function (dispatch) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n        var _this = this;\r\n        var JSZip, zip, version, _a, document, _b, _c;\r\n        return tslib_1.__generator(this, function (_d) {\r\n            switch (_d.label) {\r\n                case 0:\r\n                    dispatch({\r\n                        loading: true,\r\n                        type: \"set-loading\",\r\n                    });\r\n                    return [4, Promise.resolve().then(function () { return __webpack_require__(61); })];\r\n                case 1:\r\n                    JSZip = _d.sent();\r\n                    zip = new JSZip();\r\n                    return [4, zip.loadAsync(zipFile)];\r\n                case 2:\r\n                    zip = _d.sent();\r\n                    _a = parseInt;\r\n                    return [4, zip.file(\"version\").async(\"text\")];\r\n                case 3:\r\n                    version = _a.apply(void 0, [_d.sent(), 10]);\r\n                    _c = (_b = JSON).parse;\r\n                    return [4, zip.file(\"manual.json\").async(\"text\")];\r\n                case 4:\r\n                    document = _c.apply(_b, [_d.sent()]);\r\n                    dispatch({\r\n                        document: document,\r\n                        type: \"set-document\",\r\n                        version: version,\r\n                    });\r\n                    dispatch({\r\n                        type: \"clear-images\",\r\n                    });\r\n                    return [4, Promise.all(Object.getOwnPropertyNames(zip.files).map(function (file) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n                            var blob;\r\n                            return tslib_1.__generator(this, function (_a) {\r\n                                switch (_a.label) {\r\n                                    case 0:\r\n                                        if (!(file === \"manual.json\" || file === \"version\")) return [3, 1];\r\n                                        return [2];\r\n                                    case 1: return [4, zip.files[file].async(\"blob\")];\r\n                                    case 2:\r\n                                        blob = _a.sent();\r\n                                        dispatch({\r\n                                            image: new File([blob], file),\r\n                                            type: \"uploadImage\",\r\n                                        });\r\n                                        _a.label = 3;\r\n                                    case 3: return [2];\r\n                                }\r\n                            });\r\n                        }); }))];\r\n                case 5:\r\n                    _d.sent();\r\n                    dispatch({\r\n                        loading: false,\r\n                        type: \"set-loading\",\r\n                    });\r\n                    dispatch(redux_dialog_1.closeDialog(\"load-wizard\"));\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n}\r\nexports.loadThunkAction = loadThunkAction;\r\nfunction isSetDocument(action) {\r\n    return action.type === \"set-document\";\r\n}\r\nexports.isSetDocument = isSetDocument;\r\nfunction isFileChanged(action) {\r\n    return action.type === \"load-file-changed\";\r\n}\r\nexports.isFileChanged = isFileChanged;\r\nfunction isClearImages(action) {\r\n    return action.type === \"clear-images\";\r\n}\r\nexports.isClearImages = isClearImages;\r\nfunction isSetLoading(action) {\r\n    return action.type === \"set-loading\";\r\n}\r\nexports.isSetLoading = isSetLoading;\r\n\n\n/***/ }),\n\n/***/ 745:\n/***/ (function(module, exports) {\n\nmodule.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n\n\n/***/ }),\n\n/***/ 81:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction isUpdateHeadingText(action) {\r\n    return action.type === \"update-heading-text\";\r\n}\r\nexports.isUpdateHeadingText = isUpdateHeadingText;\r\nfunction isUpdateHeadingLevel(action) {\r\n    return action.type === \"update-heading-level\";\r\n}\r\nexports.isUpdateHeadingLevel = isUpdateHeadingLevel;\r\nfunction isUpdateCodeLanguage(action) {\r\n    return action.type === \"update-code-lanaguage\";\r\n}\r\nexports.isUpdateCodeLanguage = isUpdateCodeLanguage;\r\nfunction isUpdateTableRows(action) {\r\n    return action.type === \"update-heading-rows\";\r\n}\r\nexports.isUpdateTableRows = isUpdateTableRows;\r\nfunction isUpdateTableColumns(action) {\r\n    return action.type === \"update-heading-columns\";\r\n}\r\nexports.isUpdateTableColumns = isUpdateTableColumns;\r\n\n\n/***/ }),\n\n/***/ 82:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\nvar PageBreak = function () { return React.createElement(\"div\", { className: \"page-break\" }); };\r\nexports.default = PageBreak;\r\n\n\n/***/ }),\n\n/***/ 83:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar ImagePicker_1 = __webpack_require__(254);\r\nvar React = __webpack_require__(0);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar stores_1 = __webpack_require__(50);\r\nvar ImagePickerWrapper = (function (_super) {\r\n    tslib_1.__extends(ImagePickerWrapper, _super);\r\n    function ImagePickerWrapper(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        _this.setReusedImage = function (e) {\r\n            _this.props.onImageChanged(e.currentTarget.value);\r\n        };\r\n        _this.setImageUrl = function (e) {\r\n            _this.props.onImageChanged(e.currentTarget.value);\r\n        };\r\n        _this.setUploadedImage = function (e) {\r\n            _this.props.uploadImage(e.target.files[0]);\r\n            _this.props.onImageChanged(e.target.files[0].name);\r\n        };\r\n        return _this;\r\n    }\r\n    ImagePickerWrapper.prototype.render = function () {\r\n        return React.createElement(ImagePicker_1.default, { uploadedImages: this.props.uploadedImages, onCurrentImageChange: this.setReusedImage, onImageUrlChange: this.setImageUrl, onFileUploadChange: this.setUploadedImage, defaultImage: this.props.currentImage });\r\n    };\r\n    return ImagePickerWrapper;\r\n}(React.Component));\r\nfunction mapStateToProps(state, oldProps) {\r\n    if (state === void 0) { state = stores_1.initialState; }\r\n    return {\r\n        uploadedImages: Object.getOwnPropertyNames(state.images),\r\n    };\r\n}\r\nvar mapActionsToProps = ({\r\n    uploadImage: function (image) { return ({\r\n        type: \"uploadImage\",\r\n        image: image,\r\n    }); },\r\n});\r\nexports.default = react_redux_1.connect(mapStateToProps, mapActionsToProps)(ImagePickerWrapper);\r\n\n\n/***/ }),\n\n/***/ 84:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar React = __webpack_require__(0);\r\nvar react_redux_1 = __webpack_require__(10);\r\nvar Image = (function (_super) {\r\n    tslib_1.__extends(Image, _super);\r\n    function Image() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Image.prototype.render = function () {\r\n        var _a = this.props, actualSource = _a.actualSource, rest = tslib_1.__rest(_a, [\"actualSource\"]);\r\n        return React.createElement(\"img\", tslib_1.__assign({}, rest, { src: actualSource }));\r\n    };\r\n    return Image;\r\n}(React.Component));\r\nfunction mapStateToProps(store, props) {\r\n    var src = props.src;\r\n    return tslib_1.__assign({}, props, { actualSource: store.images[src] ? store.images[src].imageUrl : src });\r\n}\r\nexports.default = react_redux_1.connect(mapStateToProps, {})(Image);\r\n\n\n/***/ }),\n\n/***/ 85:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ElementInfo_1 = __webpack_require__(134);\r\nfunction isMetaItemOrdering(ordering) {\r\n    return ElementInfo_1.isMetaElementType(ordering.elementType);\r\n}\r\nexports.isMetaItemOrdering = isMetaItemOrdering;\r\nfunction isItemTreeLeaf(tree) {\r\n    return !ElementInfo_1.isMetaElementType(tree.elementType);\r\n}\r\nexports.isItemTreeLeaf = isItemTreeLeaf;\r\n\n\n/***/ }),\n\n/***/ 86:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar ElementInfo_1 = __webpack_require__(134);\r\nvar ItemTree_1 = __webpack_require__(85);\r\nvar draft_js_1 = __webpack_require__(22);\r\nexports.initialState = {\r\n    1: {\r\n        editing: false,\r\n        itemId: 1,\r\n        level: 1,\r\n        value: \"Empty Manual Template\",\r\n    },\r\n    2: {\r\n        editing: false,\r\n        itemId: 2,\r\n        level: 2,\r\n        value: \"Small Tagline Description Here\",\r\n    },\r\n    3: {\r\n        editing: false,\r\n        itemId: 3,\r\n        level: 1,\r\n        value: \"Introduction\",\r\n    },\r\n    4: {\r\n        editing: false,\r\n        itemId: 4,\r\n        value: draft_js_1.convertToRaw(draft_js_1.EditorState.createEmpty().getCurrentContent()),\r\n    },\r\n    elementOrdering: [\r\n        {\r\n            elementType: \"Heading\",\r\n            itemId: 3,\r\n        },\r\n        {\r\n            elementType: \"RichText\",\r\n            itemId: 4,\r\n        },\r\n    ],\r\n    nextItemId: 5,\r\n};\r\nfunction exitEditModes(document) {\r\n    for (var i = 0; i < document.nextItemId; ++i) {\r\n        if (document[i]) {\r\n            document[i].editing = false;\r\n        }\r\n    }\r\n}\r\nfunction findLocation(document, relativeLocation) {\r\n    var location;\r\n    if (relativeLocation !== \"end\") {\r\n        var activeItemId = -1;\r\n        for (var i = 0; i < document.nextItemId; ++i) {\r\n            if (document[i] && document[i].editing) {\r\n                activeItemId = i;\r\n                break;\r\n            }\r\n        }\r\n        var orderIndex = document.elementOrdering.length - 1;\r\n        for (var i = 0; i < document.elementOrdering.length; ++i) {\r\n            if (document.elementOrdering[i].itemId === activeItemId) {\r\n                orderIndex = i;\r\n                break;\r\n            }\r\n        }\r\n        location = orderIndex;\r\n        if (relativeLocation === \"after\") {\r\n            ++location;\r\n        }\r\n    }\r\n    else {\r\n        location = document.elementOrdering.length;\r\n    }\r\n    return location;\r\n}\r\nfunction addElements(document, elements, elementToEdit, relativeLocation) {\r\n    if (elementToEdit === void 0) { elementToEdit = 0; }\r\n    if (relativeLocation === void 0) { relativeLocation = \"end\"; }\r\n    var location = findLocation(document, relativeLocation);\r\n    exitEditModes(document);\r\n    var orderings = [];\r\n    var idStack = [];\r\n    elements.forEach(function (element, idx) {\r\n        var metaItemType = ElementInfo_1.isMetaElement(element) ? element.metaItemType : undefined;\r\n        var elementState = ElementInfo_1.isMetaElement(element) ? undefined : element.elementState;\r\n        var itemId = metaItemType === \"close\" ? idStack.pop() : document.nextItemId;\r\n        document[itemId] = tslib_1.__assign({}, elementState, { editing: idx === elementToEdit, itemId: itemId });\r\n        if (metaItemType === \"open\") {\r\n            idStack.push(itemId);\r\n        }\r\n        document.nextItemId++;\r\n        if (ElementInfo_1.isMetaElement(element)) {\r\n            orderings.push({ itemId: itemId, elementType: element.elementType, metaItemType: element.metaItemType });\r\n        }\r\n        else {\r\n            orderings.push({ itemId: itemId, elementType: element.elementType });\r\n        }\r\n    });\r\n    var docOrdering = document.elementOrdering.slice();\r\n    Array.prototype.splice.apply(docOrdering, [location, 0].concat(orderings));\r\n    document.elementOrdering = docOrdering;\r\n}\r\nexports.addElements = addElements;\r\nfunction removeElement(document, itemId) {\r\n    delete document[itemId];\r\n    var elementOrdering = [];\r\n    var deletingRange = false;\r\n    document.elementOrdering.forEach(function (element) {\r\n        if (element.itemId !== itemId && !deletingRange) {\r\n            elementOrdering.push(element);\r\n        }\r\n        if (element.itemId === itemId) {\r\n            deletingRange = ItemTree_1.isMetaItemOrdering(element) && element.metaItemType === \"open\";\r\n        }\r\n    });\r\n    document.elementOrdering = elementOrdering;\r\n}\r\nexports.removeElement = removeElement;\r\n\n\n/***/ })\n\n},[245]);\n\n\n// WEBPACK FOOTER //\n// app.9f35799a359d1c3d360e.js","import importManualHtml from \"core/importManualHtml\";\r\nimport * as JSZip from \"jszip\";\r\nimport { Action } from \"redux\";\r\nimport {closeDialog} from \"redux-dialog\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {Store} from \"stores\";\r\nimport {UploadImage} from \"./ImageActions\";\r\nimport {ClearImagesAction, SetDocumentAction} from \"./SaveLoadActions\";\r\n\r\nexport default function(legacyFile: File): ThunkAction<void, Store, void> {\r\n    return async (dispatch) => {\r\n        dispatch(<SetImportingAction> {\r\n            importing: true,\r\n            type: \"set-import\",\r\n        });\r\n        let legacyZip = new JSZip();\r\n        legacyZip = await legacyZip.loadAsync(legacyFile);\r\n        legacyZip = legacyZip.folder(legacyFile.name.substr(0, legacyFile.name.length - \".zip\".length));\r\n\r\n        dispatch(<SetDocumentAction> {\r\n            document: importManualHtml(await legacyZip.file(\"manual.html\").async(\"text\")),\r\n            type: \"set-document\",\r\n        });\r\n        dispatch(<ClearImagesAction> {\r\n            type: \"clear-images\",\r\n        });\r\n\r\n        let promises: Array<Promise<any>> = [];\r\n        const uploadImage = (path: string, file: JSZipObject) => {\r\n            if (!file.dir) {\r\n                promises.push(file.async(\"blob\").then((image: Blob) => {\r\n                    dispatch(<UploadImage> {\r\n                        image: new File([image], path),\r\n                        type: \"uploadImage\",\r\n                    });\r\n                }));\r\n            }\r\n        };\r\n        legacyZip.folder(\"images\").forEach(uploadImage);\r\n        legacyZip.folder(\"keyboard-icons\").forEach(uploadImage);\r\n        await Promise.all(promises);\r\n\r\n        dispatch(<FileChangedAction> {\r\n            file: undefined,\r\n            type: \"import-file-changed\",\r\n        });\r\n        dispatch(<SetImportingAction> {\r\n            importing: false,\r\n            type: \"set-import\",\r\n        });\r\n        dispatch(closeDialog(\"import-wizard\"));\r\n    };\r\n}\r\n\r\nexport interface FileChangedAction {\r\n    type: \"import-file-changed\";\r\n    file?: File;\r\n}\r\n\r\nexport function isFileChanged(action: Action): action is FileChangedAction {\r\n    return action.type === \"import-file-changed\";\r\n}\r\n\r\nexport interface SetImportingAction {\r\n    type: \"set-import\";\r\n    importing: boolean;\r\n}\r\n\r\nexport function isSetImporting(action: Action): action is SetImportingAction {\r\n    return action.type === \"set-import\";\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./actions/ImportLegacyManual.ts","import SmartImagePresenter from \"containers/SmartImagePresenter\";\r\nimport {SideBySideImage as SideBySideImageProps, SingleImage as SingleImageProps} from \"core/ElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nexport function SingleImage({value}: SingleImageProps) {\r\n    return (\r\n        <div>\r\n            {value.className.startsWith(\"side\") ? (\r\n                <span className=\"edit-hint\">\r\n                    Click here to edit image below.\r\n                </span>\r\n            ) : null}\r\n            <div className={value.className + (value.border ? \" border\" : \"\")}>\r\n                <SmartImagePresenter src={value.source} />\r\n                <p>{value.caption}</p>\r\n            </div>\r\n         </div>\r\n    );\r\n}\r\n\r\nexport function SideBySideImages({value}: SideBySideImageProps) {\r\n    return (\r\n        <div className={value.className + (value.border ? \" border\" : \"\")}>\r\n            <SmartImagePresenter src={value.leftSource} />\r\n            <SmartImagePresenter src={value.rightSource} />\r\n            <p>{value.caption}</p>\r\n        </div>\r\n    );\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/Images.tsx","import * as React from \"react\";\r\n\r\ninterface Props {\r\n    autoFocus?: boolean;\r\n    onValueChange: (value: string) => void;\r\n    value: string;\r\n}\r\n\r\nclass PlainTextEditor extends React.Component<Props, {}> {\r\npublic render() {\r\n        // tslint:disable-next-line:no-unused-variable\r\n        let {onValueChange, ...rest} = this.props;\r\n        return <textarea onChange={this.onChange} value={this.props.value} {... rest} onKeyDownCapture={this.onKeyDown} />;\r\n    }\r\n\r\n    private onChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n        this.props.onValueChange(event.target.value);\r\n    }\r\n\r\n    private onKeyDown = (event: React.SyntheticEvent<HTMLTextAreaElement>) => {\r\n        let nativeEvent = event.nativeEvent as KeyboardEvent;\r\n        if (nativeEvent.keyCode === 9) { // Tab Key\r\n            event.preventDefault();\r\n            let selectionStart = event.currentTarget.selectionStart;\r\n            let selectionEnd = event.currentTarget.selectionEnd;\r\n            this.props.onValueChange(this.props.value.substring(0, selectionStart) + \"\\t\" + this.props.value.substring(selectionEnd));\r\n            event.currentTarget.selectionStart = event.currentTarget.selectionEnd = selectionStart + 1;\r\n        }\r\n    }\r\n}\r\n\r\nexport default PlainTextEditor;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/PlainTextEditor.tsx","import EditableElement from \"components/EditableElement\";\r\nimport Heading from \"components/Heading\";\r\nimport SingleLineEditor from \"components/SingleLineEditor\";\r\nimport connectEditable from \"core/connectEditable\";\r\nimport {Heading as ElementInfo} from \"core/ElementInfo\";\r\nimport InteractivePropsFromElementInfo from \"core/InteractivePropsFromElementInfo\";\r\nimport * as React from \"react\";\r\n\r\ntype Props = InteractivePropsFromElementInfo<ElementInfo>;\r\n\r\nconst EditableHeading: React.StatelessComponent<Props> = (props: Props) => {\r\n    const EditableText: new(...args: any[]) => EditableElement<ElementInfo> = EditableElement;\r\n    let headingProps: Pick<Props, \"level\"> = {\r\n        level : props.level,\r\n    };\r\n    let inputProps = {\r\n        className : \"h\" + props.level,\r\n    };\r\n    return <EditableText\r\n        {...props}\r\n        inputComponentClass = {SingleLineEditor}\r\n        staticComponentClass={Heading}\r\n        inputProps = {inputProps}\r\n        staticProps = {headingProps}\r\n    />;\r\n};\r\n\r\nexport default connectEditable<Props>()(EditableHeading);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/editors/EditableHeading.tsx","import KeyToImageMap from \"core/KeyToImageMap\";\r\nimport { RawDraftContentState } from \"draft-js\";\r\n\r\nexport interface Code {\r\n    language: string;\r\n    value: string;\r\n}\r\n\r\nexport interface RawHtml {\r\n    value: string;\r\n}\r\n\r\nexport type SingleImageClassName =\r\n    \"centered-image-tiny\"\r\n    | \"centered-image-small\"\r\n    | \"centered-image-medium\"\r\n    | \"centered-image-large\"\r\n    | \"full-width-image\"\r\n    | \"side-image-small\"\r\n    | \"side-image-medium\"\r\n    | \"side-image-large\"\r\n    | \"sidebar-icon\";\r\n\r\nexport type SideBySideImageClassName =\r\n    \"sidebyside-image-small\"\r\n    | \"sidebyside-image-large\";\r\n\r\nexport interface SingleImage {\r\n    value: {\r\n        className: SingleImageClassName;\r\n        border?: boolean;\r\n        source: string;\r\n        caption?: string;\r\n    };\r\n}\r\n\r\nexport interface SideBySideImage {\r\n    value: {\r\n        className: SideBySideImageClassName;\r\n        border?: boolean;\r\n        leftSource: string;\r\n        rightSource: string;\r\n        caption?: string;\r\n    };\r\n}\r\n\r\nexport interface Heading {\r\n    value: string;\r\n    level: 1 | 2 | 3 | 4 | 5 | 6;\r\n}\r\n\r\nexport type Keys = keyof typeof KeyToImageMap;\r\n\r\nexport interface KeyboardShortcut {\r\n    value: {\r\n        title: string;\r\n        content: RawDraftContentState;\r\n        shortcuts: Array<Array<keyof typeof KeyToImageMap>>;\r\n        type: \"no-shortcut\" | \"shortcut\" | \"multi-shortcut\";\r\n    };\r\n}\r\n\r\nexport interface RichText {\r\n    value: RawDraftContentState;\r\n}\r\n\r\nexport interface SidebarNote {\r\n    value: {\r\n        title: string;\r\n        content: RawDraftContentState;\r\n        imgSource: string;\r\n    };\r\n}\r\n\r\nexport interface Toolbox {\r\n    value: Array<{\r\n        imgSrc: string;\r\n        name: string;\r\n        description: string;\r\n    }>;\r\n}\r\n\r\nexport type MetaItemType = \"open\" | \"close\";\r\n\r\n// Make the list of meta elements available at runtime.\r\nconst metaElements = {\r\n    InstructionList: \"InstructionList\",\r\n    OrderedList: \"OrderedList\",\r\n    Table: \"Table\",\r\n    TableCell: \"TableCell\",\r\n    TableHeader: \"TableHeader\",\r\n    TableRow: \"TableRow\",\r\n    UnorderedList: \"UnorderedList\",\r\n    // This element type represents the manual as a whole. It is used as the root when building the element tree in Manual.tsx\r\n    Manual: \"Manual\",\r\n};\r\n\r\nexport type MetaElementType = keyof typeof metaElements;\r\n\r\n type MetaElementInfo = {\r\n    metaItemType: MetaItemType;\r\n    elementType: MetaElementType;\r\n};\r\n\r\ntype ContentElementInfo = {\r\n    elementType: \"Code\";\r\n    elementState: Code;\r\n} | {\r\n    elementType: \"RawHtml\";\r\n    elementState: RawHtml;\r\n} | {\r\n    elementType: \"SingleImage\";\r\n    elementState: SingleImage;\r\n} | {\r\n    elementType: \"SideBySideImage\";\r\n    elementState: SideBySideImage;\r\n} | {\r\n    elementType: \"Heading\";\r\n    elementState: Heading;\r\n} | {\r\n    elementType: \"KeyboardShortcut\";\r\n    elementState: KeyboardShortcut;\r\n} | {\r\n    elementType: \"RichText\";\r\n    elementState: RichText;\r\n} | {\r\n    elementType: \"ListItem\";\r\n    elementState: RichText;\r\n} | {\r\n    elementType: \"SidebarNote\";\r\n    elementState: SidebarNote;\r\n} | {\r\n    elementType: \"Toolbox\";\r\n    elementState: Toolbox;\r\n};\r\n\r\ntype ElementInfo = ContentElementInfo | MetaElementInfo;\r\n\r\nexport type ContentElementType = ContentElementInfo[\"elementType\"];\r\n\r\nexport function isMetaElement(element: ElementInfo): element is MetaElementInfo {\r\n    return isMetaElementType(element.elementType);\r\n}\r\n\r\nexport function isMetaElementType(elementType: string): elementType is MetaElementType {\r\n    return Object.getOwnPropertyNames(metaElements).find((value) => elementType === value) !== undefined;\r\n}\r\n\r\nexport default ElementInfo;\r\n\n\n\n// WEBPACK FOOTER //\n// ./core/ElementInfo.ts","import removable from \"components/higher-order/removable\";\r\nimport EditableCode from \"containers/editors/EditableCode\";\r\nimport EditableHeading from \"containers/editors/EditableHeading\";\r\nimport EditableHtml from \"containers/editors/EditableHtml\";\r\nimport EditableImage from \"containers/editors/EditableImage\";\r\nimport EditableKeyboardShortcut from \"containers/editors/EditableKeyboardShortcut\";\r\nimport EditableListItem from \"containers/editors/EditableListItem\";\r\nimport EditableRichText from \"containers/editors/EditableRichText\";\r\nimport EditableSidebarNote from \"containers/editors/EditableSidebarNote\";\r\nimport EditableToolbox from \"containers/editors/EditableToolbox\";\r\nimport InstructionList from \"containers/InstructionList\";\r\nimport {ContentElementType, MetaElementType} from \"core/ElementInfo\";\r\nimport {isItemTreeLeaf, ItemTree} from \"core/ItemTree\";\r\nimport * as React from \"react\";\r\n\r\ntype EditableElementProps = {\r\n    itemId: number;\r\n};\r\n\r\ntype EditableMetaElementProps = {\r\n    itemId: number;\r\n    items: ItemTree[];\r\n};\r\n\r\nfunction MetaElement(Container: React.ComponentClass<{}> | React.SFC<{}>) {\r\n    return (props: EditableMetaElementProps) => (\r\n        <Container>\r\n            {props.items && props.items.map(createElement)}\r\n        </Container>\r\n    );\r\n}\r\n\r\ntype ElementTypes = {\r\n    [name in ContentElementType]: React.ComponentClass<EditableElementProps> | React.SFC<EditableElementProps>;\r\n} & {\r\n    [name in MetaElementType]: React.ComponentClass<EditableMetaElementProps> | React.SFC<EditableMetaElementProps>;\r\n};\r\n\r\nlet elementTypes: ElementTypes = {\r\n    Heading : removable(EditableHeading),\r\n    SingleImage : removable(EditableImage.EditableSingleImage),\r\n    SideBySideImage: removable(EditableImage.EditableSideBySideImage),\r\n    RichText : removable(EditableRichText),\r\n    RawHtml : removable(EditableHtml),\r\n    Code : removable(EditableCode),\r\n    SidebarNote : removable(EditableSidebarNote),\r\n    Toolbox: removable(EditableToolbox),\r\n    UnorderedList: MetaElement(({children}) => <ul>{children}</ul>),\r\n    OrderedList : MetaElement(({children}) => <ol>{children}</ol>),\r\n    InstructionList,\r\n    ListItem : removable(EditableListItem),\r\n    Table : removable(MetaElement(({children}) => <table><tbody>{children}</tbody></table>)),\r\n    TableRow : MetaElement(({children}) => <tr>{children}</tr>),\r\n    TableCell : MetaElement(({children}) => <td>{children}</td>),\r\n    TableHeader : MetaElement(({children}) => <th>{children}</th>),\r\n    KeyboardShortcut: removable(EditableKeyboardShortcut),\r\n    Manual: MetaElement(({children}) => <div>{children}</div>),\r\n};\r\n\r\nexport default function createElement(props: ItemTree) {\r\n    if (isItemTreeLeaf(props)) {\r\n        const Element = elementTypes[props.elementType];\r\n        return <Element itemId={props.itemId} key={props.itemId} />;\r\n    } else {\r\n        const Element = elementTypes[props.elementType];\r\n        return <Element itemId={props.itemId} key={props.itemId} items={props.items} />;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./core/createElement.tsx","import * as Flyout from \"@aneves/react-flyout\";\r\n\r\nexport type FlyoutStore = Flyout.WrapperProps;\r\n\r\nexport let initialState: FlyoutStore = {\r\n    id : null,\r\n    options : {\r\n\r\n    },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./stores/Flyout.ts","interface ImageStore {\r\n    image: Blob;\r\n    imageUrl: string;\r\n}\r\n\r\nexport interface ImagesStore {\r\n    [friendlyUrl: string]: ImageStore;\r\n}\r\n\r\nexport let initialState: ImagesStore = {};\r\n\r\nexport function emptyImagesStore(store: ImagesStore) {\r\n    for (let key in store) {\r\n        if (store.hasOwnProperty(key)) {\r\n            let element = store[key];\r\n            URL.revokeObjectURL(element.imageUrl);\r\n        }\r\n    }\r\n    return {};\r\n}\r\n\r\nexport function addOrUpdateBlobImageToStore(store: ImagesStore, friendlyUrl: string, image: Blob): ImagesStore {\r\n    let newStore = {... store};\r\n    let imageUrl = URL.createObjectURL(image);\r\n    newStore[friendlyUrl] = {image, imageUrl};\r\n    return newStore;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./stores/Images.ts","import { AddToDocument } from \"actions/BaseEditActions\";\r\nimport {FlyoutToggle} from \"actions/FlyoutActions\";\r\nimport Flyout from \"containers/Flyout\";\r\nimport ElementInfo from \"core/ElementInfo\";\r\nimport * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport { Store } from \"stores\";\r\n\r\ntype Ordering = \"before\" | \"after\" | \"end\";\r\n\r\ninterface Props {\r\n    menuItemId: string;\r\n    menuItemText: string;\r\n    menuItemHeading: string;\r\n    items: ElementInfo[];\r\n    itemToEdit?: number;\r\n    onCreate?: (items: ElementInfo[],\r\n        itemToEdit: number,\r\n        ordering: Ordering) => void;\r\n    toggleFlyout?: (flyoutId: string) => void;\r\n    enableRelativeInsert?: boolean | undefined;\r\n    insertEnabled: boolean;\r\n}\r\n\r\nclass MenuItem extends React.Component<Props, {}> {\r\n    public render() {\r\n        return (\r\n            <div className=\"has-flyout\">\r\n                <button data-flyout-id={this.props.menuItemId} onClick={this.toggleFlyout}>{this.props.menuItemText}</button>\r\n                <Flyout id={this.props.menuItemId} options={{align: \"bottom middle\"}}>\r\n                    <div>\r\n                        <header>{this.props.menuItemHeading}</header>\r\n                        {this.props.children}\r\n                        <div className=\"create-buttons\">\r\n                        <button\r\n                            disabled={!this.props.enableRelativeInsert || !this.props.insertEnabled}\r\n                            value=\"before\"\r\n                            onClick={this.onCreate}\r\n                        >\r\n                            {\"Insert Before Current Element\"}\r\n                        </button>\r\n                        <button\r\n                            disabled={!this.props.enableRelativeInsert || !this.props.insertEnabled}\r\n                            value=\"after\"\r\n                            onClick={this.onCreate}\r\n                        >\r\n                            {\"Insert After Current Element\"}\r\n                        </button>\r\n                        <button\r\n                            disabled={!this.props.insertEnabled}\r\n                            value=\"end\"\r\n                            onClick={this.onCreate}\r\n                        >  \r\n                            {\"Insert At End\"}\r\n                        </button>\r\n                        </div>\r\n                    </div>\r\n                </Flyout>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private toggleFlyout = (e: React.SyntheticEvent<HTMLButtonElement>) => {\r\n        if (this.props.toggleFlyout !== undefined) {\r\n            this.props.toggleFlyout(this.props.menuItemId);\r\n        }\r\n    }\r\n\r\n    private onCreate = (e: React.SyntheticEvent<HTMLButtonElement>) => {\r\n        if (this.props.onCreate) {\r\n            this.props.onCreate(this.props.items, this.props.itemToEdit || 0, e.currentTarget.value as Ordering);\r\n        }\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state: Store, props: Props): Props {\r\n    let enableRelativeInsert: boolean = false;\r\n     // Start at 3 because item ids 1 and 2 are the title and subtitle, which are special ids\r\n    for (let i = 3; i < state.document.nextItemId; ++i) {\r\n        if (state.document[i] && state.document[i].editing) {\r\n            enableRelativeInsert = true;\r\n            break;\r\n        }\r\n    }\r\n    return {... props, enableRelativeInsert};\r\n}\r\n\r\nlet mapActionsToProps = ({\r\n    onCreate: (items: ElementInfo[],\r\n        itemToEdit: number,\r\n        ordering: Ordering) => ({\r\n            itemToEdit,\r\n            items,\r\n            type: \"addToDocument\",\r\n            ordering,\r\n        } as AddToDocument),\r\n    toggleFlyout: (id: string) => ({\r\n        type: \"flyout-toggle\",\r\n        id,\r\n    } as FlyoutToggle),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(MenuItem);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/MenuItem.tsx","import AboutPage from \"components/AboutPage\";\r\nimport CoverPage from \"components/CoverPage\";\r\nimport TableOfContents from \"containers/TableOfContents\";\r\nimport createElement from \"core/createElement\";\r\nimport {isItemTreeLeaf, isMetaItemOrdering, ItemOrdering, ItemTree} from \"core/ItemTree\";\r\nimport * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Store} from \"stores\";\r\n\r\ninterface Props {\r\n    items: ItemOrdering[];\r\n}\r\n\r\ninterface State {\r\n    tree: ItemTree;\r\n}\r\n\r\nclass Manual extends React.Component<Props, State> {\r\n    constructor(props: Props, context?: any) {\r\n        super(props, context);\r\n        this.state = {\r\n            tree: createElementTree(props.items),\r\n        };\r\n    }\r\n\r\n    public componentWillReceiveProps(props: Props) {\r\n        this.setState({\r\n            tree: createElementTree(props.items),\r\n        });\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <div id=\"manual\">\r\n                <CoverPage date={new Date()} />\r\n                <AboutPage />\r\n                <TableOfContents />\r\n                {createElement(this.state.tree)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction createElementTree(elementOrdering: ItemOrdering[]): ItemTree {\r\n    let itemTree: ItemTree = {\r\n        elementType: \"Manual\",\r\n        itemId: -1,\r\n        items: [],\r\n    };\r\n\r\n    let treeStack: ItemTree[] = [itemTree];\r\n\r\n    elementOrdering.forEach((item) => {\r\n        const topTree = treeStack[treeStack.length - 1];\r\n        if (isItemTreeLeaf(topTree)) {\r\n            // Note: this should be impossible but with this Typescript can ensure\r\n            // that our logic below is correct within the type system.\r\n            throw new Error(\"Top tree on the stack is a leaf element (does not have children).\");\r\n        }\r\n        if (isMetaItemOrdering(item)) {\r\n            if (item.metaItemType === \"open\") {\r\n                let newSubTree = {... item, items: []};\r\n                topTree.items.push(newSubTree);\r\n                treeStack.push(newSubTree);\r\n            } else if (item.metaItemType === \"close\") {\r\n                if (topTree.elementType !== item.elementType) {\r\n                    throw new Error(\"Mismatched closing element type\");\r\n                }\r\n                if (topTree.itemId !== item.itemId) {\r\n                    throw new Error(\"Mismatched closing item id\");\r\n                }\r\n                treeStack.pop();\r\n            }\r\n        } else {\r\n            topTree.items.push({... item, items: []});\r\n        }\r\n    });\r\n\r\n    if (treeStack[0] !== itemTree) {\r\n        throw new Error(\"Mismatched element tree.\");\r\n    }\r\n\r\n    return itemTree;\r\n}\r\n\r\nfunction mapStateToProps(state: Store): Props {\r\n    return {\r\n        items: state.document.elementOrdering,\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, {})(Manual);\r\n\n\n\n// WEBPACK FOOTER //\n// ./Manual.tsx","import ImageButtons from \"components/menu/ImageButtons\";\r\nimport KeyboardShortcutButton from \"components/menu/KeyboardShortcutButton\";\r\nimport * as ListButtons from \"components/menu/ListButtons\";\r\nimport ListItemButton from \"components/menu/ListItemButton\";\r\nimport ParagraphButton from \"components/menu/ParagraphButton\";\r\nimport HtmlButton from \"components/menu/RawHtmlButton\";\r\nimport SidebarNoteButton from \"components/menu/SidebarNoteButton\";\r\nimport ToolboxButton from \"components/menu/ToolboxButton\";\r\nimport CodeSnippetButton from \"containers/menu/CodeSnippetButton\";\r\nimport HeadingButton from \"containers/menu/HeadingButton\";\r\nimport ImportButton from \"containers/menu/ImportButton\";\r\nimport LoadButton from \"containers/menu/LoadButton\";\r\nimport SaveButton from \"containers/menu/SaveButton\";\r\nimport TableButton from \"containers/menu/TableButton\";\r\nimport * as React from \"react\";\r\n\r\nexport default function Menu () {\r\n    return (\r\n        <div id=\"menu\">\r\n            <HeadingButton />\r\n            <ImageButtons.SingleImageButton />\r\n            <ImageButtons.SideBySideImageButton />\r\n            <ParagraphButton />\r\n            <HtmlButton />\r\n            <CodeSnippetButton />\r\n            <SidebarNoteButton />\r\n            <KeyboardShortcutButton />\r\n            <ToolboxButton />\r\n            <ListButtons.UnorderedListButton />\r\n            <ListButtons.OrderedListButton />\r\n            <ListButtons.InstructionListButton />\r\n            <ListItemButton />\r\n            <TableButton />\r\n            <div>\r\n                <SaveButton />\r\n                <LoadButton />\r\n                <ImportButton />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./Menu.tsx","import document from \"reducers/DocumentReducers\";\r\nimport flyout from \"reducers/FlyoutReducers\";\r\nimport images from \"reducers/ImageReducers\";\r\nimport menu from \"reducers/MenuReducers\";\r\nimport {combineReducers} from \"redux\";\r\nimport {dialogReducer} from \"redux-dialog\";\r\nimport {Store} from \"stores\";\r\n\r\nexport default combineReducers<Store>({document, flyout, menu, images, dialogReducer});\r\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/index.ts","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport * as ReactRedux from \"react-redux\";\r\nimport reducer from \"reducers\";\r\nimport * as Redux from \"redux\";\r\nimport * as ReduxDevTools from \"redux-devtools-extension\";\r\nimport ReduxThunkMiddleware from \"redux-thunk\";\r\nimport {Store} from \"stores\";\r\nimport Manual from \"./Manual\";\r\nimport Menu from \"./Menu\";\r\nimport \"./styles.css\";\r\n\r\ndeclare const DEBUG: boolean;\r\n\r\nlet enhancer: Redux.StoreEnhancer<Store>;\r\n\r\nif (DEBUG) {\r\n    enhancer = ReduxDevTools.composeWithDevTools(Redux.applyMiddleware(ReduxThunkMiddleware));\r\n} else {\r\n    enhancer = Redux.applyMiddleware(ReduxThunkMiddleware);\r\n}\r\n\r\nconst store = Redux.createStore<Store>(reducer, enhancer);\r\n\r\nReactDOM.render(\r\n<ReactRedux.Provider store={store}>\r\n    <div>\r\n    <Menu />\r\n    <Manual />\r\n    </div>\r\n</ReactRedux.Provider>,\r\ndocument.getElementById(\"root\"));\r\n\n\n\n// WEBPACK FOOTER //\n// ./app.tsx","import * as React from \"react\";\r\nimport * as Images from \"./Images\";\r\nimport PageBreak from \"./PageBreak\";\r\n\r\nconst AboutPage = () => {\r\n    return (\r\n        <div>           \r\n            <h1 className=\"no-top-margin\">About Software Training for Students</h1>\r\n            <div id=\"about-page\">\r\n                <p>Software Training for Students is an organization on campus\r\n                     that provides free software training to all students and faculty.\r\n                     Our services include custom workshops, open-enrollment classes,\r\n                      one-on-one project help, and access to Lynda.com.\r\n                      For more information on the Software Training for Students (STS) program,\r\n                       visit our website at <strong><a href=\"https://wisc.edu/sts\">wisc.edu/sts</a></strong>.</p>\r\n                <Images.SingleImage\r\n                    value ={{\r\n                        className: \"full-width-image\",\r\n                        source: \"https://software-training-for-students.github.io/manual-master-files/sts-services.png\",\r\n                    }}\r\n                />\r\n                <p>\r\n                    STS is part of the Division of Information Technology (DoIT) - Academic Technology at UW-Madison.\r\n                    For more information regarding DoIT Academic Technology,\r\n                      visit <strong><a href=\"https://at.doit.wisc.edu/\">at.doit.wisc.edu</a></strong>.\r\n                </p>\r\n                <p><strong>© University of Wisconsin Board of Regents.</strong></p>\r\n                <p>\r\n                    This manual and any accompanying files were developed for use\r\n                     by current students at the University of Wisconsin-Madison.\r\n                     The names of software products referred to in these materials\r\n                      are claimed as trademarks of their respective companies or trademark holder.\r\n                </p>\r\n                <p>\r\n                    If you are not a current member of the UW-Madison community and would like to use\r\n                     STS materials for self-study or to teach others, please contact sts@doit.wisc.edu. Thank you.\r\n                </p>\r\n                </div>\r\n                <PageBreak />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AboutPage;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/AboutPage.tsx","import {Code as Props} from \"core/ElementInfo\";\r\nimport * as React from \"react\";\r\nimport Highlight from \"react-highlight.js\";\r\n\r\nconst CodePresenter = (props: Props) => {\r\n    return (\r\n        <div>\r\n            <Highlight language={props.language}>\r\n                {props.value}\r\n            </Highlight>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CodePresenter;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/CodePresenter.tsx","import EditableHeading from \"containers/editors/EditableHeading\";\r\nimport * as React from \"react\";\r\nimport CoverPageDescription from \"./CoverPageDescription\";\r\nimport PageBreak from \"./PageBreak\";\r\n\r\nexport interface CoverPageProps {\r\n    date: Date;\r\n}\r\n\r\nconst CoverPage = (props: CoverPageProps) => {\r\n    return (\r\n        <div>\r\n            <div id=\"coverpage-title\">\r\n                <EditableHeading itemId={1} level={1} />\r\n                <EditableHeading itemId={2} level={2} />\r\n                <h3><em>Classroom Course Material</em></h3>\r\n            </div>\r\n            <CoverPageDescription date={props.date} />\r\n            <PageBreak />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CoverPage;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/CoverPage.tsx","import * as React from \"react\";\r\n\r\nexport interface CoverPageProps {\r\n    date: Date;\r\n}\r\n\r\nconst CoverPageDescription = (props: CoverPageProps) => {\r\n    return (\r\n    <div id=\"coverpage-description\">\r\n        <img src=\"http://software-training-for-students.github.io/manual-master-files/uwlogo.png\" />\r\n        <p>Written, designed, and produced by</p>\r\n        <p>DoIT Software Training for Students</p>\r\n        <p><em>Last Updated {props.date.toDateString()}</em></p>\r\n    </div>);\r\n};\r\n\r\nexport default CoverPageDescription;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/CoverPageDescription.tsx","import autoUnfocus from \"components/higher-order/autoUnfocus\";\r\nimport * as React from \"react\";\r\n\r\ntype ComponentType<TProps> = React.StatelessComponent<TProps> | React.ComponentClass<TProps>;\r\n\r\ninterface InputProps<T> {\r\n    autoFocus?: boolean;\r\n    onValueChange: (value: T) => void;\r\n    value: T;\r\n}\r\n\r\ninterface StaticProps<T> {\r\n    value: T;\r\n}\r\n\r\ninterface Props<T> {\r\n    editing: boolean;\r\n    value: T;\r\n    inputProps?: any;\r\n    staticProps?: any;\r\n    inputComponentClass: ComponentType<InputProps<T>>;\r\n    staticComponentClass: ComponentType<StaticProps<T>>;\r\n    toggleIsEditing: () => void;\r\n    updateValue: (value: T) => void;\r\n}\r\n\r\ntype ComponentCache = {\r\n    inputType: ComponentType<any>;\r\n    outputType: ComponentType<any>;\r\n};\r\n\r\nlet inputComponentCache: ComponentCache[] = [];\r\n\r\n// We need to cache the results of applying the higher order components/enhancers because otherwise\r\n// the creation of the new anonymous classes causes the controls to lose focus in the browser\r\n// (React cannot tell that they are the same type)\r\nfunction enhanceComponent<T>(component: ComponentType<InputProps<T>>): ComponentType<InputProps<T> & {onComplete: () => void}> {\r\n    const filtered = inputComponentCache.filter((value) => value.inputType === component);\r\n    if (filtered.length > 0) {\r\n        return filtered[0].outputType;\r\n    }\r\n    let outputType = autoUnfocus(component);\r\n    inputComponentCache.push({\r\n        inputType: component,\r\n        outputType,\r\n    });\r\n    return outputType;\r\n}\r\n\r\nclass EditableContent<T> extends React.Component<Props<T> , {}> {\r\n    public render() {\r\n        if (this.props.editing) {\r\n            let InputComponent = enhanceComponent(this.props.inputComponentClass);\r\n            return <InputComponent\r\n                autoFocus\r\n                onComplete = {this.toggleIsEditing}\r\n                onValueChange = {this.onValueChanged}\r\n                value = {this.props.value}\r\n                {... this.props.inputProps}\r\n            />;\r\n        } else {\r\n            let StaticComponent = this.props.staticComponentClass;\r\n            return (\r\n                <div onClick={this.onStaticClicked}>\r\n                    <StaticComponent\r\n                        value = {this.props.value}\r\n                        {... this.props.staticProps}\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    private toggleIsEditing = () =>\r\n        this.props.toggleIsEditing();\r\n\r\n    private onStaticClicked = (e: React.SyntheticEvent<HTMLElement>) => {\r\n        e.stopPropagation();\r\n        this.toggleIsEditing();\r\n    }\r\n\r\n    private onValueChanged = (value: T) =>\r\n     this.props.updateValue(value);\r\n\r\n};\r\n\r\nexport default EditableContent;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/EditableContent.tsx","import {Heading as ElementInfo} from \"core/ElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nexport default function Heading (props: ElementInfo) {\r\n    const {level, ... rest} = props;\r\n    const Tag = \"h\" + level.toString();\r\n    return <Tag {...rest}>{props.value}</Tag>;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/Heading.tsx","import {RawHtml as Props} from \"core/ElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nconst onClickHandler = (e: React.SyntheticEvent<HTMLDivElement>) => {\r\n    for (let target = e.target as HTMLElement; target !== e.currentTarget; target = target.parentElement!) {\r\n        if (target.tagName === \"A\") {\r\n            e.stopPropagation();\r\n        }\r\n    }\r\n};\r\n\r\nconst HtmlPresenter = (props: Props) => {\r\n    const {value, ...rest} = props;\r\n\r\n    return <div onClick={onClickHandler} dangerouslySetInnerHTML={{ __html : value}} {...rest} />;\r\n};\r\n\r\nexport default HtmlPresenter;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/HtmlPresenter.tsx","import ImagePicker from \"containers/ImagePicker\";\r\nimport {SideBySideImage as SideBySideImageProps, SideBySideImageClassName, SingleImage as SingleImageProps, SingleImageClassName} from \"core/ElementInfo\";\r\nimport * as React from \"react\";\r\n\r\ntype ImageEditorProps<TImageProps extends {value: any}> = TImageProps & {\r\n    onValueChange: (newProps: TImageProps[\"value\"]) => void;\r\n};\r\n\r\nclass SingleImageEditor extends React.Component<ImageEditorProps<SingleImageProps>, {}> {\r\n    public render() {\r\n        const imageProps = this.props.value;\r\n        return (\r\n            <div className=\"image-editor\">\r\n                <section>\r\n                    <ImagePicker onImageChanged={this.onSourceChanged}  currentImage={imageProps.source} />\r\n                </section>\r\n                <section>\r\n                    <input type=\"checkbox\" onChange={this.onBorderChanged} checked={imageProps.border} />\r\n                    <label>Has Border?</label>\r\n                </section>\r\n                <section>\r\n                    <label>Caption</label>\r\n                    <input type = \"text\" onChange={this.onCaptionChanged} value={imageProps.caption} />\r\n                </section>\r\n                <section>\r\n                    <label>Image Style</label>\r\n                    <select value={imageProps.className} onChange={this.onCssClassChanged}>\r\n                        <option value=\"full-width-image\" >Full Width</option>\r\n                        <option value=\"centered-image-tiny\" >Tiny, Centered</option>\r\n                        <option value=\"centered-image-small\" >Small, Centered</option>\r\n                        <option value=\"centered-image-medium\" >Medium, Centered</option>\r\n                        <option value=\"centered-image-large\" >Large, Centered</option>\r\n                        <option value=\"side-image-small\" >Small, Aside</option>\r\n                        <option value=\"side-image-medium\" >Medium, Aside</option>\r\n                        <option value=\"side-image-large\" >Large, Aside</option>\r\n                        <option value=\"sidebar-icon\" >Sidebar Icon</option>\r\n                    </select>\r\n                </section>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private onSourceChanged = (source: string) => {\r\n        this.props.onValueChange({... this.props.value, source});\r\n    }\r\n\r\n    private onBorderChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.props.onValueChange({... this.props.value, border : event.target.checked});\r\n    }\r\n\r\n    private onCaptionChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.props.onValueChange({... this.props.value, caption : event.target.value});\r\n    }\r\n\r\n    private onCssClassChanged = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n        this.props.onValueChange({... this.props.value, className : event.target.value as SingleImageClassName});\r\n    }\r\n\r\n}\r\n\r\n// tslint:disable-next-line:max-classes-per-file\r\nclass SideBySideImageEditor extends React.Component<ImageEditorProps<SideBySideImageProps>, {}> {\r\n    public render() {\r\n        const imageProps = this.props.value;\r\n        return (\r\n            <div className=\"image-editor\">\r\n                <section className=\"leftSource\">\r\n                    <ImagePicker onImageChanged={this.onLeftSourceChanged} currentImage={imageProps.leftSource} />\r\n                </section>\r\n                <section className=\"rightSource\">\r\n                    <ImagePicker onImageChanged={this.onRightSourceChanged} currentImage={imageProps.rightSource} />\r\n                </section>\r\n                <section className=\"commonSettings\">\r\n                    <div>\r\n                        <input type=\"checkbox\" onChange={this.onBorderChanged} checked={imageProps.border} />\r\n                        <label>Has Border?</label>\r\n                    </div>\r\n                    <div>\r\n                        <label>Caption</label>\r\n                        <input type = \"text\" onChange={this.onCaptionChanged} value={imageProps.caption} />\r\n                    </div>\r\n                    <div>\r\n                        <label>Image Size</label>\r\n                        <select value={imageProps.className} onChange={this.onCssClassChanged}>\r\n                            <option value=\"sidebyside-image-large\">Large</option>\r\n                            <option value=\"sidebyside-image-small\">Small</option>\r\n                        </select>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private onLeftSourceChanged = (leftSource: string) => {\r\n        this.props.onValueChange({... this.props.value, leftSource});\r\n    }\r\n\r\n    private onRightSourceChanged = (rightSource: string) => {\r\n        this.props.onValueChange({... this.props.value, rightSource});\r\n    }\r\n\r\n    private onBorderChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.props.onValueChange({... this.props.value, border : event.target.checked});\r\n    }\r\n\r\n    private onCaptionChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.props.onValueChange({... this.props.value, caption : event.target.value});\r\n    }\r\n\r\n    private onCssClassChanged = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n        this.props.onValueChange({... this.props.value, className : event.target.value as SideBySideImageClassName});\r\n    }\r\n}\r\n\r\nexport default {\r\n    SideBySideImageEditor,\r\n    SingleImageEditor,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/ImageEditor.tsx","import * as React from \"react\";\r\n\r\ninterface Props {\r\n    uploadedImages: string[];\r\n    defaultImage?: string;\r\n    onImageUrlChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n    onFileUploadChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n    onCurrentImageChange?: (e: React.ChangeEvent<HTMLSelectElement>) => void;\r\n}\r\n\r\nconst ImagePicker = (props: Props) => {\r\n    let defaultSelectorValue = props.uploadedImages.filter((src) => src === props.defaultImage).length > 0 ? props.defaultImage : \"\";\r\n\r\n    return (\r\n        <div>\r\n            <h4>Select an Image</h4>\r\n            <div>\r\n                <span>Re-use an already included image:</span>\r\n                <select onChange={props.onCurrentImageChange} defaultValue={defaultSelectorValue}>\r\n                    <option value=\"\" disabled hidden />\r\n                    {\r\n                        props.uploadedImages.map((image) => (\r\n                            <option key={image} value={image}>{image}</option>\r\n                        ))\r\n                    }\r\n                </select>\r\n            </div>\r\n            <div>\r\n                <span>Use an image from a url:</span>\r\n                <input type=\"text\" onChange={props.onImageUrlChange} defaultValue={defaultSelectorValue ? undefined : props.defaultImage} />\r\n            </div>\r\n            <div>\r\n                <span>Upload a new image:</span>\r\n                <input type=\"file\" accept=\"image/*\" onChange={props.onFileUploadChange} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ImagePicker;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/ImagePicker.tsx","import KeyToImageMap from \"core/KeyToImageMap\";\r\nimport * as React from \"react\";\r\n\r\ninterface KeyProps {\r\n    index: number;\r\n    icon: keyof typeof KeyToImageMap;\r\n    onIconChanged: (index: number, icon: keyof typeof KeyToImageMap) => void;\r\n    deleteKey: (index: number) => void;\r\n}\r\n\r\nclass KeyboardKeyEditor extends React.Component<KeyProps, {}> {\r\n     public render() {\r\n         return (\r\n            <span>\r\n                <select value={this.props.icon} onChange={this.onIconChanged}>\r\n                    {\r\n                        Object.getOwnPropertyNames(KeyToImageMap).map((image: keyof typeof KeyToImageMap) => (\r\n                            <option key={image} value={image} disabled={image === \"none\"} hidden={image === \"none\"}>{KeyToImageMap[image]}</option>\r\n                        ))\r\n                    }\r\n                </select>\r\n                <button onClick={this.onDelete}>X</button>\r\n            </span>\r\n        );\r\n    }\r\n\r\n    private onIconChanged = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n        this.props.onIconChanged(this.props.index, e.target.value as keyof typeof KeyToImageMap);\r\n    }\r\n\r\n    private onDelete = (e: React.SyntheticEvent<HTMLButtonElement>) => {\r\n        this.props.deleteKey(this.props.index);\r\n    }\r\n}\r\n\r\nexport default KeyboardKeyEditor;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/KeyboardKeyEditor.tsx","import KeyToImageMap from \"core/KeyToImageMap\";\r\nimport * as React from \"react\";\r\n\r\ninterface Props {\r\n    icon: keyof typeof KeyToImageMap;\r\n}\r\n\r\nexport default class KeyboardKeyPresenter extends React.Component<Props, {}> {\r\n    public render() {\r\n        let icon = this.props.icon;\r\n        return icon !== \"none\" ? <img src={`https://software-training-for-students.github.io/keyboard-icons/icon-${icon}.svg`} /> : null;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/KeyboardKeyPresenter.tsx","import KeyboardKeyEditor from \"components/KeyboardKeyEditor\";\r\nimport KeyToImageMap from \"core/KeyToImageMap\";\r\nimport * as React from \"react\";\r\n\r\ninterface Props {\r\n    os: string;\r\n    keys: Array<keyof typeof KeyToImageMap>;\r\n    onShortcutChanged: (os: string, keys: Array<keyof typeof KeyToImageMap>) => void;\r\n}\r\n\r\nclass KeyboardShortcutEditor extends React.Component<Props, {}> {\r\n    public render() {\r\n        return (\r\n            <div>\r\n                {\r\n                    this.props.keys.map((item, idx) =>\r\n                        <KeyboardKeyEditor\r\n                            key={idx}\r\n                            icon={item}\r\n                            index={idx}\r\n                            onIconChanged={this.onIconChanged}\r\n                            deleteKey={this.deleteKey}\r\n                        />,\r\n                    )\r\n                }\r\n                <button onClick={this.addKey}>+</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private onIconChanged = (index: number, icon: keyof typeof KeyToImageMap) => {\r\n        let keys = this.props.keys.slice();\r\n        keys[index] = icon;\r\n        this.props.onShortcutChanged(this.props.os, keys);\r\n    }\r\n\r\n    private deleteKey = (index: number) => {\r\n        let keys = this.props.keys.slice();\r\n        keys.splice(index, 1);\r\n        this.props.onShortcutChanged(this.props.os, keys);\r\n    }\r\n\r\n    private addKey = () => {\r\n        this.props.onShortcutChanged(this.props.os, this.props.keys.concat([\"none\"]));\r\n    }\r\n}\r\n\r\nexport default KeyboardShortcutEditor;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/KeyboardShortcutEditor.tsx","import KeyboardKeyPresenter from \"components/KeyboardKeyPresenter\";\r\nimport KeyToImageMap from \"core/KeyToImageMap\";\r\nimport * as React from \"react\";\r\n\r\ninterface Props {\r\n    keys: Array<keyof typeof KeyToImageMap>;\r\n}\r\n\r\nclass KeyboardShortcutEditor extends React.Component<Props, {}> {\r\n    public render() {\r\n        return (\r\n            <div>\r\n                {\r\n                    this.props.keys.map((item, idx) =>\r\n                        <KeyboardKeyPresenter\r\n                            key={idx}\r\n                            icon={item}\r\n                        />,\r\n                    )\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default KeyboardShortcutEditor;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/KeyboardShortcutPresenter.tsx","import KeyboardShortcutEditor from \"components/KeyboardShortcutEditor\";\r\nimport {Editor as RichTextEditor} from \"components/RichText\";\r\nimport {KeyboardShortcut as KeyboardShortcutProps} from \"core/ElementInfo\";\r\nimport KeyToImageMap from \"core/KeyToImageMap\";\r\nimport {RawDraftContentState} from \"draft-js\";\r\nimport * as React from \"react\";\r\n\r\ntype ShortcutType = \"no-shortcut\" | \"shortcut\" | \"multi-shortcut\";\r\n\r\ntype Props = KeyboardShortcutProps & {\r\n    onValueChange: (value: KeyboardShortcutProps[\"value\"]) => void;\r\n};\r\n\r\nexport default class KeyboardShortcutSidebarEditor extends React.Component<Props, {}> {\r\n    public render() {\r\n        return (\r\n            <div className=\"keyboard-shortcut\">\r\n                <input type=\"text\" value={this.props.value.title} placeholder=\"Keyboard Shortcut Title\" onChange={this.titleChanged} />\r\n                <RichTextEditor value={this.props.value.content} onValueChange={this.contentChanged} />\r\n                <div>\r\n                    <label>Shortcut Element Type</label>\r\n                    <select value={this.props.value.type} defaultValue={\"no-shortcut\"} onChange={this.typeChanged}>\r\n                        <option value=\"no-shortcut\">No Keyboard Icons</option>\r\n                        <option value=\"shortcut\">One Keyboard Shortcut</option>\r\n                        <option value=\"multi-shortcut\">Shortcuts for Mac and Windows</option>\r\n                    </select>\r\n                </div>\r\n                {this.renderShortcut()}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private renderShortcut() {\r\n        switch (this.props.value.type) {\r\n            case \"no-shortcut\":\r\n                return null;\r\n            case \"shortcut\":\r\n                return <KeyboardShortcutEditor os=\"\" keys={this.props.value.shortcuts[0]} onShortcutChanged={this.shortcutChanged} />;\r\n            case \"multi-shortcut\":\r\n                return (\r\n                    <div>\r\n                        <h3>Mac:</h3>\r\n                        <KeyboardShortcutEditor os=\"mac\" keys={this.props.value.shortcuts[0]} onShortcutChanged={this.shortcutChanged} />\r\n                        <h3>Windows:</h3>\r\n                        <KeyboardShortcutEditor os=\"win\" keys={this.props.value.shortcuts[1]} onShortcutChanged={this.shortcutChanged} />\r\n                    </div>\r\n                );\r\n            default:\r\n                throw new Error(`Invalid shortcut type ${this.props.value.type}`);\r\n        }\r\n    }\r\n\r\n    private titleChanged = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.props.onValueChange({... this.props.value, title: e.currentTarget.value});\r\n    }\r\n\r\n    private contentChanged = (content: RawDraftContentState) => {\r\n        this.props.onValueChange({... this.props.value, content});\r\n    }\r\n\r\n    private typeChanged = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n        this.props.onValueChange({... this.props.value, type: e.currentTarget.value as ShortcutType});\r\n    }\r\n\r\n    private shortcutChanged = (os: string, keys: Array<keyof typeof KeyToImageMap>) => {\r\n        if (this.props.value.type === \"no-shortcut\") {\r\n            console.warn(\"Shortcut update from a no-shortcut editor.\");\r\n            return;\r\n        } else if (this.props.value.type === \"shortcut\") {\r\n            this.props.onValueChange({... this.props.value, shortcuts: [keys]});\r\n            return;\r\n        } else if (this.props.value.type === \"multi-shortcut\") {\r\n            let shortcuts = this.props.value.shortcuts.slice();\r\n            if (os === \"mac\") {\r\n                shortcuts[0] = keys;\r\n            } else if (os === \"win\") {\r\n                shortcuts[1] = keys;\r\n            }\r\n            this.props.onValueChange({... this.props.value, shortcuts});\r\n            return;\r\n        }\r\n        throw new Error(`Invalid shortcut type ${this.props.value.type}`);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/KeyboardShortcutSidebarEditor.tsx","import EditableContent from \"components/EditableContent\";\r\nimport * as React from \"react\";\r\n\r\ntype ComponentType<TProps> = React.StatelessComponent<TProps> | React.ComponentClass<TProps>;\r\n\r\ntype InputProps<TElementValue> = {\r\n    value: TElementValue;\r\n    autoFocus?: boolean;\r\n    onValueChange: (value: TElementValue) => void;\r\n};\r\n\r\ntype Props<TElementInfo extends {value: any}> = TElementInfo & {\r\n    itemId: number;\r\n    editing: boolean;\r\n    inputProps?: any;\r\n    staticProps?: any;\r\n    inputComponentClass: ComponentType<InputProps<TElementInfo[\"value\"]>>;\r\n    staticComponentClass: ComponentType<TElementInfo>;\r\n    setIsEditing: (id: number, mode: boolean) => void;\r\n    onEdited: (id: number, newValue: TElementInfo[\"value\"]) => void;\r\n};\r\n\r\nexport default class EditableElement<TElementInfo extends {value: any}> extends React.Component<Props<TElementInfo>, {}> {\r\n    public render() {\r\n        const Content: new(...args: any[]) => EditableContent<TElementInfo[\"value\"]> = EditableContent;\r\n        let childProps: any = Object.assign({}, this.props, {\r\n            toggleIsEditing: this.toggleIsEditing,\r\n            updateValue: this.updateValue,\r\n        });\r\n        return <Content {...childProps} />;\r\n    }\r\n\r\n    private toggleIsEditing = () => {\r\n        this.props.setIsEditing(this.props.itemId, !this.props.editing);\r\n    }\r\n\r\n    private updateValue = (value: TElementInfo[\"value\"]) => {\r\n        this.props.onEdited(this.props.itemId, value);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/EditableElement.tsx","import KeyboardShortcutPresenter from \"components/KeyboardShortcutPresenter\";\r\nimport {Presenter as RichTextPresenter} from \"components/RichText\";\r\nimport {KeyboardShortcut as Props} from \"core/ElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nexport default class KeyboardShortcutSidebarPresenter extends React.Component<Props, {}> {\r\n    public render() {\r\n        return (\r\n            <div>\r\n                <span className=\"edit-hint\">\r\n                    Click here to edit shortcut below.\r\n                </span>\r\n                <div className=\"keyboard-shortcut\">\r\n                    <h2>{this.props.value.title}</h2>\r\n                    <RichTextPresenter value={this.props.value.content} />\r\n                    {this.renderShortcut()}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private renderShortcut() {\r\n        switch (this.props.value.type) {\r\n            case \"no-shortcut\":\r\n            return null;\r\n            case \"shortcut\":\r\n            return <KeyboardShortcutPresenter keys={this.props.value.shortcuts[0]} />;\r\n            case \"multi-shortcut\":\r\n            return (\r\n                <div>\r\n                    <h3>Mac:</h3>\r\n                    <KeyboardShortcutPresenter keys={this.props.value.shortcuts[0]} />\r\n                    <h3>Windows:</h3>\r\n                    <KeyboardShortcutPresenter  keys={this.props.value.shortcuts[1]} />\r\n                </div>\r\n            );\r\n            default:\r\n            throw new Error(`Invalid shortcut type ${this.props.value.type}`);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/KeyboardShortcutSidebarPresenter.tsx","import {Presenter as RichTextPresenter} from \"components/RichText\";\r\nimport {RichText as Props} from \"core/ElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nexport default function ListItem(props: Props) {\r\n    return (\r\n        <li>\r\n            <RichTextPresenter {... props} />\r\n        </li>\r\n    );\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/ListItem.tsx","import {Editor as RichTextEditor} from \"components/RichText\";\r\nimport {RichText as ListItemProps} from \"core/ElementInfo\";\r\nimport * as React from \"react\";\r\n\r\ntype Props = ListItemProps & {\r\n    onValueChange: (value: ListItemProps[\"value\"]) => void;\r\n};\r\n\r\nexport default function ListItemEditor(props: Props) {\r\n    let {value, onValueChange, ...rest} = props;\r\n    return (\r\n        <li {...rest} >\r\n            <RichTextEditor value={value} onValueChange={onValueChange} />\r\n        </li>\r\n    );\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/ListItemEditor.tsx","import {Editor as RichTextEditor} from \"components/RichText\";\r\nimport ImagePicker from \"containers/ImagePicker\";\r\nimport {SidebarNote as SidebarInfo} from \"core/ElementInfo\";\r\nimport {RawDraftContentState} from \"draft-js\";\r\nimport * as React from \"react\";\r\n\r\ntype Props = SidebarInfo & {\r\n    onValueChange: (value: SidebarInfo[\"value\"]) => void;\r\n};\r\n\r\nclass SidebarEditor extends React.PureComponent<Props, {}> {\r\n    public render() {\r\n        return(\r\n            <div className=\"sidebar-note\">\r\n                <input type=\"text\" value={this.props.value.title} placeholder=\"Sidebar Title\" onChange={this.titleChanged} />\r\n                <RichTextEditor value={this.props.value.content} onValueChange={this.contentChanged} />\r\n                <ImagePicker currentImage={this.props.value.imgSource} onImageChanged={this.imgSourceChanged} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private titleChanged = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.props.onValueChange({... this.props.value, title: e.currentTarget.value});\r\n    }\r\n\r\n    private contentChanged = (state: RawDraftContentState) => {\r\n        this.props.onValueChange({... this.props.value, content: state});\r\n    }\r\n\r\n    private imgSourceChanged = (src: string) => {\r\n        this.props.onValueChange({... this.props.value, imgSource: src});\r\n    }\r\n}\r\n\r\nexport default SidebarEditor;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/SidebarEditor.tsx","import {Presenter as RichTextPresenter} from \"components/RichText\";\r\nimport SmartImagePresenter from \"containers/SmartImagePresenter\";\r\nimport {SidebarNote as Props} from \"core/ElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nconst SidebarNote: React.StatelessComponent<Props> = (props: Props) => {\r\n    let {value, ...rest} = props;\r\n    return (\r\n        <div {...rest}>\r\n            <span className=\"edit-hint\">\r\n                Click here to edit note below.\r\n            </span>\r\n            <div className=\"sidebar-note\">\r\n                <h2>{value.title}</h2>\r\n                <RichTextPresenter value={value.content} />\r\n                <SmartImagePresenter src={value.imgSource} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SidebarNote;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/SidebarNote.tsx","import * as React from \"react\";\r\n\r\ntype EditorProps = React.HTMLAttributes<HTMLInputElement> & {\r\n    value: string;\r\n    onValueChange: (value: string) => void;\r\n};\r\n\r\nconst minInputSize = 20;\r\nconst extraInputSpace = 2; // Extra whitespace at the end to account for any buttons in the text box.\r\n\r\nclass SingleLineEditor extends React.Component<EditorProps, {}> {\r\n    public render() {\r\n        const textLength = this.props.value.length;\r\n        // tslint:disable-next-line:no-unused-variable\r\n        let {onChange, onValueChange, ...rest} = this.props;\r\n        return <input\r\n            type=\"text\"\r\n            size={Math.max(minInputSize, textLength) + extraInputSpace}\r\n            onChange={this.onChange}\r\n            {...rest}\r\n        />;\r\n    }\r\n\r\n    private onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n            this.props.onValueChange(event.target.value);\r\n            if (this.props.onChange !== undefined) {\r\n                this.props.onChange(event);\r\n            }\r\n    }\r\n}\r\n\r\nexport default SingleLineEditor;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/SingleLineEditor.tsx","import SmartImagePresenter from \"containers/SmartImagePresenter\";\r\nimport {Toolbox as Props} from \"core/ElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nconst Toolbox = (props: Props) => {\r\n    return (\r\n        <div className=\"toolbox\">\r\n            {\r\n                props.value.map((entry, idx) => (\r\n                    <div key={idx}>\r\n                        {\r\n                            entry.imgSrc ? <SmartImagePresenter src={entry.imgSrc} /> : null}\r\n                        <p>\r\n                            <strong>{entry.name}</strong>\r\n                            {entry.description}\r\n                        </p>\r\n                    </div>\r\n                ))\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Toolbox;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/Toolbox.tsx","import ImagePicker from \"containers/ImagePicker\";\r\nimport {Toolbox as ToolboxProps} from \"core/ElementInfo\";\r\nimport * as React from \"react\";\r\n\r\ntype Props = ToolboxProps & {\r\n    onValueChange: (value: ToolboxProps[\"value\"]) => void;\r\n};\r\n\r\n// I can't think of a way to do the callbacks without lambdas or bind (which both have the same perf problem)\r\n// tslint:disable:jsx-no-lambda\r\n\r\nexport class ToolboxEditor extends React.Component<Props, {}> {\r\n    public render() {\r\n        return (\r\n            <div className=\"toolbox\">\r\n                {\r\n                    this.props.value.map((entry, idx) => (\r\n                        <div key={idx}>\r\n                            <ImagePicker currentImage={entry.imgSrc} onImageChanged={(source) => this.onChangeImage(source, idx)} />\r\n                            <input type=\"text\" placeholder=\"Tool Name\" value={entry.name} onChange={(e) => this.onChangeName(e, idx)} onKeyPress={(e) => this.onKeyPress(e, idx)} />\r\n                            <input type=\"text\" placeholder=\"Tool Description\" value={entry.description} onChange={(e) => this.onChangeDescription(e, idx)} onKeyPress={(e) => this.onKeyPress(e, idx)} />\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private onChangeImage = (imageUrl: string, index: number) => {\r\n        let value = this.props.value.slice();\r\n        value[index] = {... value[index], imgSrc: imageUrl};\r\n        this.props.onValueChange(value);\r\n    }\r\n\r\n    private onChangeName = (e: React.ChangeEvent<HTMLInputElement>, index: number) => {\r\n        let value = this.props.value.slice();\r\n        value[index] = {... value[index], name: e.target.value};\r\n        this.props.onValueChange(value);\r\n    }\r\n\r\n    private onChangeDescription = (e: React.ChangeEvent<HTMLInputElement>, index: number) => {\r\n        let value = this.props.value.slice();\r\n        value[index] = {... value[index], description: e.target.value};\r\n        this.props.onValueChange(value);\r\n    }\r\n\r\n    private onKeyPress = (e: React.SyntheticEvent<HTMLInputElement>, index: number) => {\r\n        let keyEvent = e.nativeEvent as KeyboardEvent;\r\n        if (keyEvent.keyCode === 13) { // enter\r\n            let value = this.props.value.slice();\r\n            value.splice(index + 1, 0, {\r\n                description: \"\",\r\n                imgSrc: \"\",\r\n                name: \"\",\r\n            });\r\n            this.props.onValueChange(value);\r\n        }\r\n    }\r\n}\r\n\r\nexport default ToolboxEditor;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/ToolboxEditor.tsx","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nfunction autoUnfocus<TProps>(Component: React.ComponentClass<TProps> | React.StatelessComponent<TProps>) {\r\n    return class extends React.Component<TProps & {onComplete: () => void} , React.ComponentState> {\r\n        public componentDidMount() {\r\n            window.addEventListener(\"click\", this.onWindowClick);\r\n        }\r\n\r\n        public componentWillUnmount() {\r\n            window.removeEventListener(\"click\", this.onWindowClick);\r\n        }\r\n\r\n        public render() {\r\n            let childProps: any = Object.assign({}, this.props);\r\n            delete childProps.onComplete;\r\n            return <Component {... childProps} />;\r\n        }\r\n\r\n        private onWindowClick = (e: MouseEvent) => {\r\n            let editorElement = ReactDOM.findDOMNode(this);\r\n            let menuRoot = document.getElementById(\"menu\") as HTMLElement;\r\n\r\n            let element = e.target as Node;\r\n            if (!menuRoot.contains(element) && !editorElement.contains(element)) {\r\n                if (this.props.onComplete) {\r\n                    this.props.onComplete();\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nexport default autoUnfocus;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/higher-order/autoUnfocus.tsx","import {RemoveFromDocument} from \"actions/BaseEditActions\";\r\nimport * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\n\r\ninterface Props {\r\n    onRemove: (itemId: number) => void;\r\n}\r\n\r\nfunction removableCore<TProps extends {itemId: number}>(Component: React.ComponentClass<TProps> | React.SFC<TProps>): React.ComponentClass<TProps & Props> {\r\n    return class extends React.Component<TProps & Props, {}> {\r\n        public render() {\r\n            // Workaround until a Typescript version with Microsoft/Typescript#13288 is merged\r\n            let childProps: any = Object.assign({}, this.props);\r\n            return (\r\n                <div className=\"removable\">\r\n                    <button onClick={this.onRemoveClick}>X</button>\r\n                    <Component {...childProps} />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        private onRemoveClick = () => {\r\n            this.props.onRemove(this.props.itemId);\r\n        }\r\n    };\r\n}\r\n\r\nfunction mapStateToProps(state: any, props: any) {\r\n    return {};\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    onRemove: (itemId: number) => ({\r\n        type: \"removeFromDocument\",\r\n        itemId,\r\n    } as RemoveFromDocument),\r\n};\r\n\r\nexport default function removable<TProps extends {itemId: number}>(component: React.ComponentClass<TProps> | React.SFC<TProps>): React.ComponentClass<TProps & Props> {\r\n    return compose(connect(mapStateToProps, mapActionsToProps), removableCore)(component);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/higher-order/removable.tsx","import * as BaseActions from \"actions/BaseEditActions\";\r\nimport EditableProps from \"core/EditableProps\";\r\nimport { connect } from \"react-redux\";\r\nimport {initialState, Store} from \"stores\";\r\n\r\nfunction mapItemStateToDefaultProps(state: EditableProps<any>): EditableProps<any> {\r\n    return {... state};\r\n}\r\n\r\nfunction mapItemStateToAdditionalPropsDefault<TProps extends EditableProps<any>>(itemState: any, updatedBaseProps: Partial<EditableProps<any>>):\r\n Partial<TProps> {\r\n    return {... itemState, ... updatedBaseProps};\r\n}\r\n\r\ntype OldProps<TProps> = Partial<TProps> & {itemId: number};\r\n\r\nfunction createEditableStateToPropsMapper<TProps extends EditableProps<any>>(\r\n    mapItemStateToAdditionalProps: (itemState: TProps, updatedBaseProps: EditableProps<any>) => Partial<TProps>) {\r\n\r\n    return (state: Store = initialState, oldProps: OldProps<TProps>) : Partial<TProps> => {\r\n        let itemId: number = oldProps.itemId;\r\n        const itemState = state.document[itemId] as TProps;\r\n        if (itemState) {\r\n            const updatedBaseProps = mapItemStateToDefaultProps(itemState);\r\n            return mapItemStateToAdditionalProps(itemState, updatedBaseProps);\r\n        }\r\n        return oldProps;\r\n    };\r\n}\r\n\r\nconst mapBaseActionsToProps = {\r\n    onEdited: (id: number, newValue: any) => (<BaseActions.OnEdited> {\r\n        itemId : id,\r\n        type : \"onEdited\",\r\n        value : newValue,\r\n    }),\r\n    setIsEditing : (id: number, isEditing: boolean) => (<BaseActions.SetIsEditing> {\r\n        editing : isEditing,\r\n        itemId : id,\r\n        type : \"setIsEditing\",\r\n    }),\r\n};\r\n\r\nexport default function connectEditable<TProps extends EditableProps<any>>(\r\n    mapItemStateToProps: (itemState: TProps, updateBaseProps: Partial<EditableProps<TProps[\"value\"]>>) => Partial<TProps>\r\n        = mapItemStateToAdditionalPropsDefault) {\r\n    return connect(createEditableStateToPropsMapper(mapItemStateToProps), mapBaseActionsToProps);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./core/connectEditable.ts","import MenuItem from \"containers/MenuItem\";\r\nimport {SideBySideImage, SingleImage} from \"core/ElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nconst defaultSingleImageValue: SingleImage = {\r\n    value: {\r\n        border: true,\r\n        className: \"full-width-image\",\r\n        source: \"\",\r\n    },\r\n};\r\n\r\nfunction SingleImageButton() {\r\n    return (\r\n        <MenuItem\r\n            menuItemId=\"single-images\"\r\n            menuItemText=\"Single Image\"\r\n            menuItemHeading=\"Create Single Image\"\r\n            insertEnabled\r\n            items={[\r\n                {\r\n                    elementState: defaultSingleImageValue,\r\n                    elementType: \"SingleImage\",\r\n                },\r\n            ]}\r\n        />\r\n    );\r\n}\r\n\r\nconst defaultSideBySideImageValue: SideBySideImage = {\r\n    value: {\r\n        border: true,\r\n        className: \"sidebyside-image-large\",\r\n        leftSource: \"\",\r\n        rightSource: \"\",\r\n    },\r\n};\r\n\r\nfunction SideBySideImageButton() {\r\n    return (\r\n        <MenuItem\r\n            menuItemId=\"sidebyside-images\"\r\n            menuItemText=\"Side By Side Images\"\r\n            menuItemHeading=\"Create Side By Side Images\"\r\n            insertEnabled\r\n            items={[\r\n                {\r\n                    elementState: defaultSideBySideImageValue,\r\n                    elementType: \"SideBySideImage\",\r\n                },\r\n            ]}\r\n        />\r\n    );\r\n}\r\n\r\nexport default {\r\n    SideBySideImageButton,\r\n    SingleImageButton,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/menu/ImageButtons.tsx","import MenuItem from \"containers/MenuItem\";\r\nimport {convertToRaw, EditorState} from \"draft-js\";\r\nimport * as React from \"react\";\r\n\r\nexport default function KeyboardShortcutButton() {\r\n    return (\r\n        <MenuItem\r\n            insertEnabled\r\n            menuItemHeading=\"Create Keyboard Shortcut\"\r\n            menuItemId=\"keyboard-shortcut\"\r\n            menuItemText=\"Keyboard Shortcut\"\r\n            items={[\r\n                {\r\n                    elementState: {\r\n                        value: {\r\n                            content: convertToRaw(EditorState.createEmpty().getCurrentContent()),\r\n                            shortcuts: [[\"none\"], [\"none\"]],\r\n                            title: \"\",\r\n                            type: \"no-shortcut\",\r\n                        },\r\n                    },\r\n                    elementType: \"KeyboardShortcut\",\r\n                },\r\n            ]}\r\n        />\r\n    );\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/menu/KeyboardShortcutButton.tsx","import MenuItem from \"containers/MenuItem\";\r\nimport {convertToRaw, EditorState} from \"draft-js\";\r\nimport * as React from \"react\";\r\n\r\nconst defaultListItemValue = convertToRaw(EditorState.createEmpty().getCurrentContent());\r\n\r\nexport let UnorderedListButton = () => {\r\n    return <MenuItem\r\n        insertEnabled\r\n        menuItemText=\"Unordered List\"\r\n        menuItemHeading=\"Create Unordered List\"\r\n        menuItemId=\"unordered-list\"\r\n        items={[\r\n            {\r\n                elementType: \"UnorderedList\",\r\n                metaItemType: \"open\",\r\n            },\r\n            {\r\n                elementState: {\r\n                    value: defaultListItemValue,\r\n                },\r\n                elementType: \"ListItem\",\r\n            },\r\n            {\r\n                elementType: \"UnorderedList\",\r\n                metaItemType: \"close\",\r\n            },\r\n        ]}\r\n        itemToEdit={1}\r\n    />;\r\n};\r\nexport let OrderedListButton = () => {\r\n    return <MenuItem\r\n        insertEnabled\r\n        menuItemText=\"Ordered List\"\r\n        menuItemHeading=\"Create Ordered List\"\r\n        menuItemId=\"ordered-list\"\r\n        items={[\r\n            {\r\n                elementType: \"OrderedList\",\r\n                metaItemType: \"open\",\r\n            },\r\n            {\r\n                elementState: {\r\n                    value: defaultListItemValue,\r\n                },\r\n                elementType: \"ListItem\",\r\n            },\r\n            {\r\n                elementType: \"OrderedList\",\r\n                metaItemType: \"close\",\r\n            },\r\n        ]}\r\n        itemToEdit={1}\r\n    />;\r\n};\r\n\r\nexport let InstructionListButton = () => {\r\n    return <MenuItem\r\n        insertEnabled\r\n        menuItemText=\"Instruction List\"\r\n        menuItemHeading=\"Create Instruction List\"\r\n        menuItemId=\"instruction-list\"\r\n        items={[\r\n            {\r\n                elementType: \"InstructionList\",\r\n                metaItemType: \"open\",\r\n            },\r\n            {\r\n                elementState: {\r\n                    value: defaultListItemValue,\r\n                },\r\n                elementType: \"ListItem\",\r\n            },\r\n            {\r\n                elementType: \"InstructionList\",\r\n                metaItemType: \"close\",\r\n            },\r\n        ]}\r\n        itemToEdit={1}\r\n    />;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/menu/ListButtons.tsx","import MenuItem from \"containers/MenuItem\";\r\nimport {convertToRaw, EditorState} from \"draft-js\";\r\nimport * as React from \"react\";\r\n\r\nexport default function ListItemButtion() {\r\n    return <MenuItem\r\n        insertEnabled\r\n        menuItemText=\"List Item\"\r\n        menuItemHeading=\"Create List Item\"\r\n        menuItemId=\"list-item\"\r\n        items={[\r\n            {\r\n                elementState: {\r\n                    value: convertToRaw(EditorState.createEmpty().getCurrentContent()),\r\n                },\r\n                elementType: \"ListItem\",\r\n            },\r\n        ]}\r\n    />;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/menu/ListItemButton.tsx","import MenuItem from \"containers/MenuItem\";\r\nimport {convertToRaw, EditorState} from \"draft-js\";\r\nimport * as React from \"react\";\r\n\r\nexport default function ParagraphButton() {\r\n\r\n    return <MenuItem\r\n        insertEnabled\r\n        menuItemText=\"Paragraph\"\r\n        menuItemHeading=\"Create Paragraph\"\r\n        menuItemId=\"paragraph\"\r\n        items={[\r\n            {\r\n                elementState: {\r\n                    value: convertToRaw(EditorState.createEmpty().getCurrentContent()),\r\n                },\r\n                elementType: \"RichText\",\r\n            },\r\n        ]}\r\n    />;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/menu/ParagraphButton.tsx","import MenuItem from \"containers/MenuItem\";\r\nimport * as React from \"react\";\r\n\r\nexport default function HtmlButton() {\r\n\r\n    return <MenuItem\r\n        insertEnabled\r\n        menuItemText=\"Raw HTML\"\r\n        menuItemHeading=\"Create Raw HTML Block\"\r\n        menuItemId=\"raw-html\"\r\n        items={[\r\n            {\r\n                elementState: {\r\n                    value: \"\",\r\n                },\r\n                elementType: \"RawHtml\",\r\n            },\r\n        ]}\r\n    />;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/menu/RawHtmlButton.tsx","import MenuItem from \"containers/MenuItem\";\r\nimport {convertToRaw, EditorState} from \"draft-js\";\r\nimport * as React from \"react\";\r\n\r\nexport default function SidebarNoteButton() {\r\n    return (\r\n        <MenuItem\r\n            insertEnabled\r\n            menuItemHeading=\"Create Sidebar Note\"\r\n            menuItemId=\"sidebar-note\"\r\n            menuItemText=\"Sidebar Note\"\r\n            items={[\r\n                {\r\n                    elementState: {\r\n                        value: {\r\n                            content: convertToRaw(EditorState.createEmpty().getCurrentContent()),\r\n                            imgSource: \"\",\r\n                            title: \"\",\r\n                        },\r\n                    },\r\n                    elementType: \"SidebarNote\",\r\n                },\r\n            ]}\r\n        />\r\n    );\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/menu/SidebarNoteButton.tsx","import MenuItem from \"containers/MenuItem\";\r\nimport * as React from \"react\";\r\n\r\nexport default function ToolboxButton() {\r\n    return (\r\n        <MenuItem\r\n            menuItemId=\"toolbox\"\r\n            menuItemText=\"Toolbox\"\r\n            menuItemHeading=\"Create Toolbox\"\r\n            items={[\r\n                {\r\n                    elementState: {\r\n                        value: [\r\n                            {\r\n                                description: \"Tool description\",\r\n                                imgSrc: \"\",\r\n                                name: \"Tool Name\",\r\n                            },\r\n                        ],\r\n                    },\r\n                    elementType: \"Toolbox\",\r\n                },\r\n            ]}\r\n            insertEnabled\r\n        />\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/menu/ToolboxButton.tsx","import {Props} from \"@aneves/react-flyout\";\r\nimport FlyoutWrapper from \"@aneves/react-flyout\";\r\nimport \"@aneves/react-flyout/dist/flyout.css\";\r\nimport {FlyoutToggle} from \"actions/FlyoutActions\";\r\nimport {connect} from \"react-redux\";\r\nimport { Store } from \"stores\";\r\n\r\nconst mapStateToProps = (state: Store, oldProps: Props) => {\r\n    if (state.flyout.id === oldProps.id) {\r\n        return {\r\n            open: state.flyout.open,\r\n            options: { ...oldProps.options, ... state.flyout.options},\r\n        };\r\n    }\r\n    return {};\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    onWindowClick: () => (<FlyoutToggle> {\r\n        type : \"flyout-toggle\",\r\n    }),\r\n};\r\n\r\nconst Flyout = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps,\r\n)(FlyoutWrapper);\r\n\r\nexport default Flyout;\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/Flyout.ts","import ImportLegacyManual, {FileChangedAction} from \"actions/ImportLegacyManual\";\r\nimport * as React from \"react\";\r\nimport ActivityIndicator from \"react-activity-indicator\";\r\nimport \"react-activity-indicator/src/activityindicator.css\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport connectDialog from \"redux-dialog\";\r\nimport * as boxDownload from \"static/box-download.png\";\r\nimport * as boxFolder from \"static/box-folder.png\";\r\nimport {Store} from \"stores\";\r\n\r\ninterface Props {\r\n    fileToImport?: File;\r\n    importing: boolean;\r\n    onRequestClose: () => void;\r\n    onFileChanged: (file: File) => void;\r\n    onImport: (file: File) => void;\r\n}\r\n\r\nclass ImportWizard extends React.Component<Props, {}> {\r\n    public render() {\r\n        if (this.props.importing) {\r\n            return (\r\n                <div style={contentContainerStyle}>\r\n                    <ActivityIndicator duration={100} />\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div style={contentContainerStyle}>\r\n                    <button onClick={this.props.onRequestClose}>Close</button>\r\n                    <header>Import Legacy (HTML) Manual Zip File</header>\r\n                    <input type=\"file\" accept=\".zip\" onChange={this.fileChanged} />\r\n                    <button disabled={!this.props.fileToImport} onClick={this.onImport}>Import</button>\r\n                    <h1>How to Create the Zip File</h1>\r\n                    <ol className=\"instruction-list\">\r\n                        <li><p>Open your Box.com Account</p></li>\r\n                        <li><p>Navigate to the Current Manuals (HTML) folder</p></li>\r\n                        <li><p>Open the folder for the class manual you are importing</p></li>\r\n                        <li><p>Download the folder. This will create the Zip file.</p></li>\r\n                        <div className=\"full-width-image\">\r\n                            <img src={boxFolder} />\r\n                        </div>\r\n                        <div className=\"full-width-image\">\r\n                            <img src={boxDownload} />\r\n                        </div>\r\n                    </ol>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    private fileChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (event.currentTarget.files) {\r\n            this.props.onFileChanged(event.currentTarget.files[0]);\r\n        }\r\n    }\r\n\r\n    private onImport = () => {\r\n        if (this.props.fileToImport) {\r\n            this.props.onImport(this.props.fileToImport);\r\n        }\r\n    }\r\n};\r\n\r\nconst contentContainerStyle = {\r\n    margin: \"auto\",\r\n    textAlign: \"left\",\r\n    width: \"50%\",\r\n};\r\n\r\nfunction mapStateToProps(store: Store): Partial<Props> {\r\n    return {\r\n        fileToImport: store.menu.import.file,\r\n        importing: store.menu.import.importing,\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = ({\r\n    onFileChanged : (file: File) => ({\r\n        file,\r\n        type: \"import-file-changed\",\r\n    } as FileChangedAction),\r\n    onImport: ImportLegacyManual,\r\n});\r\n\r\nexport default compose(connectDialog({\r\n    contentLabel: \"Import Wizard\",\r\n    name: \"import-wizard\",\r\n    shouldCloseOnOverlayClick: false,\r\n}), connect(mapStateToProps, mapActionsToProps))(ImportWizard);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/ImportWizard.tsx","import createElement from \"core/createElement\";\r\nimport {ItemTree} from \"core/ItemTree\";\r\nimport * as React from \"react\";\r\n\r\ninterface Props {\r\n    itemId: number;\r\n    items: ItemTree[];\r\n}\r\n\r\n// There needs to be special support for nesting instruction lists\r\n// to make the counters work correctly.\r\nexport default function InstructionList(props: Props) {\r\n    let children: JSX.Element[] = [];\r\n    for (let i = 0; i < props.items.length; ++i) {\r\n        let childItem = props.items[i];\r\n        if (childItem.elementType === \"ListItem\") {\r\n            // Include all elements until the next list item within the same li tag.\r\n            let itemChildren: JSX.Element[] = [];\r\n            let j = i + 1;\r\n            for (; j < props.items.length && props.items[j].elementType !== \"ListItem\"; ++j) {\r\n                itemChildren.push(<div key={props.items[j].itemId}>{createElement(props.items[j])}</div>);\r\n            }\r\n            // Insert the list item value before the elements captured above. A list item only has Rich Text\r\n            // so we can treat the element as Rich Text while editing.\r\n            children.push(\r\n                <li key={props.items[i].itemId}>\r\n                    {createElement({... props.items[i], elementType: \"RichText\"})}\r\n                    {itemChildren}\r\n                </li>,\r\n            );\r\n            // Skip over the items we've covered.\r\n            i = j - 1;\r\n        } else { // Include any elements in an instruction list before the first list item.\r\n            children.push(createElement(props.items[i]));\r\n        }\r\n    }\r\n    return (\r\n        <ol className=\"instruction-list\">\r\n            {children}\r\n        </ol>\r\n    );\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/InstructionList.tsx","import {FileChangedAction, loadThunkAction} from \"actions/SaveLoadActions\";\r\nimport * as React from \"react\";\r\nimport ActivityIndicator from \"react-activity-indicator\";\r\nimport \"react-activity-indicator/src/activityindicator.css\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport connectDialog from \"redux-dialog\";\r\nimport {Store} from \"stores\";\r\n\r\ninterface Props {\r\n    fileToLoad?: File;\r\n    loading: boolean;\r\n    onRequestClose: () => void;\r\n    onFileChanged: (file: File) => void;\r\n    onLoad: (file: File) => void;\r\n}\r\n\r\nclass LoadWizard extends React.Component<Props, {}> {\r\n    public render() {\r\n        if (this.props.loading) {\r\n            return (\r\n                <div style={contentContainerStyle}>\r\n                    <ActivityIndicator duration={100} />\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div style={contentContainerStyle}>\r\n                    <button onClick={this.props.onRequestClose}>Close</button>\r\n                    <header>Load STS Manual File</header>\r\n                    <input type=\"file\" accept=\".uwstsmanual\" onChange={this.fileChanged} />\r\n                    <button disabled={!this.props.fileToLoad} onClick={this.onLoad}>Load</button>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    private fileChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (event.currentTarget.files) {\r\n            this.props.onFileChanged(event.currentTarget.files[0]);\r\n        }\r\n    }\r\n\r\n    private onLoad = () => {\r\n        if (this.props.fileToLoad) {\r\n            this.props.onLoad(this.props.fileToLoad);\r\n        }\r\n    }\r\n};\r\n\r\nconst contentContainerStyle = {\r\n    margin: \"auto\",\r\n    textAlign: \"left\",\r\n    width: \"50%\",\r\n};\r\n\r\nfunction mapStateToProps(store: Store): Partial<Props> {\r\n    return {\r\n        fileToLoad: store.menu.load.file,\r\n        loading: store.menu.load.loading,\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = ({\r\n    onFileChanged : (file: File) => ({\r\n        file,\r\n        type: \"load-file-changed\",\r\n    } as FileChangedAction),\r\n    onLoad: loadThunkAction,\r\n});\r\n\r\nexport default compose(connectDialog({\r\n    contentLabel: \"Load Wizard\",\r\n    name: \"load-wizard\",\r\n    shouldCloseOnOverlayClick: false,\r\n}), connect(mapStateToProps, mapActionsToProps))(LoadWizard);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/LoadWizard.tsx","import PageBreak from \"components/PageBreak\";\r\nimport * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Store} from \"stores\";\r\n\r\ninterface Props {\r\n    headings: string[];\r\n}\r\n\r\nconst TableOfContents = (props: Props) => {\r\n    return (\r\n        <div>\r\n            <h1 className=\"no-top-margin\">Topics Outline</h1>\r\n            <div id=\"outline\">\r\n                <ol>\r\n                    {\r\n                        props.headings.map((heading) =>\r\n                            <li key={heading}>\r\n                                <p>{heading}</p>\r\n                            </li>,\r\n                        )\r\n                    }\r\n                </ol>\r\n            </div>\r\n            <PageBreak />\r\n        </div>\r\n    );\r\n};\r\n\r\nfunction mapStateToProps(state: Store) {\r\n    return {\r\n        headings: state.document.elementOrdering.filter((element) =>\r\n                        element.elementType === \"Heading\" && state.document[element.itemId].level === 1,\r\n                    ).map((element) => state.document[element.itemId].value),\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(TableOfContents);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/TableOfContents.tsx","import CodePresenter from \"components/CodePresenter\";\r\nimport EditableElement from \"components/EditableElement\";\r\nimport PlainTextEditor from \"components/PlainTextEditor\";\r\nimport connectEditable from \"core/connectEditable\";\r\nimport {Code} from \"core/ElementInfo\";\r\nimport InteractivePropsFromElementInfo from \"core/InteractivePropsFromElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nconst EditableCode = (props: InteractivePropsFromElementInfo<Code>) => {\r\n    const EditableCodeBlock: new(...args: any[]) => EditableElement<Code> = EditableElement;\r\n    return <EditableCodeBlock\r\n        {...props}\r\n        inputComponentClass={PlainTextEditor}\r\n        staticComponentClass={CodePresenter}\r\n        staticProps={{language : props.language}}\r\n        inputProps={\r\n            {\r\n                rows : 15,\r\n            }\r\n        }\r\n    />;\r\n};\r\n\r\nexport default connectEditable()(EditableCode);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/editors/EditableCode.tsx","import EditableElement from \"components/EditableElement\";\r\nimport HtmlPresenter from \"components/HtmlPresenter\";\r\nimport PlainTextEditor from \"components/PlainTextEditor\";\r\nimport connectEditable from \"core/connectEditable\";\r\nimport {RawHtml} from \"core/ElementInfo\";\r\nimport InteractivePropsFromElementInfo from \"core/InteractivePropsFromElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nconst EditableHtml = (props: InteractivePropsFromElementInfo<RawHtml>) => {\r\n    const EditableHtmlBlock: new(...args: any[]) => EditableElement<RawHtml> = EditableElement;\r\n    return <EditableHtmlBlock\r\n        {...props}\r\n        inputComponentClass={PlainTextEditor}\r\n        staticComponentClass={HtmlPresenter}\r\n    />;\r\n};\r\n\r\nexport default connectEditable()(EditableHtml);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/editors/EditableHtml.tsx","import EditableElement from \"components/EditableElement\";\r\nimport ImageEditor from \"components/ImageEditor\";\r\nimport * as Images from \"components/Images\";\r\nimport connectEditable from \"core/connectEditable\";\r\nimport {SideBySideImage, SingleImage} from \"core/ElementInfo\";\r\nimport InteractivePropsFromElementInfo from \"core/InteractivePropsFromElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nconst EditableSingleImage = (props: InteractivePropsFromElementInfo<SingleImage>) => {\r\n    const EditableImageContainer: new(...args: any[]) => EditableElement<SingleImage> = EditableElement;\r\n    return <EditableImageContainer\r\n        {... props}\r\n        inputComponentClass={ImageEditor.SingleImageEditor}\r\n        staticComponentClass={Images.SingleImage}\r\n    />;\r\n};\r\n\r\nconst EditableSideBySideImage = (props: InteractivePropsFromElementInfo<SideBySideImage>) => {\r\n    const EditableImageContainer: new(...args: any[]) => EditableElement<SideBySideImage> = EditableElement;\r\n    return <EditableImageContainer\r\n        {... props}\r\n        inputComponentClass={ImageEditor.SideBySideImageEditor}\r\n        staticComponentClass={Images.SideBySideImages}\r\n    />;\r\n};\r\n\r\nexport default {\r\n    EditableSideBySideImage : connectEditable()(EditableSideBySideImage),\r\n    EditableSingleImage : connectEditable()(EditableSingleImage),\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/editors/EditableImage.tsx","import EditableElement from \"components/EditableElement\";\r\nimport KeyboardShortcutSidebarEditor from \"components/KeyboardShortcutSidebarEditor\";\r\nimport KeyboardShortcutSidebarPresenter from \"components/KeyboardShortcutSidebarPresenter\";\r\nimport connectEditable from \"core/connectEditable\";\r\nimport {KeyboardShortcut} from \"core/ElementInfo\";\r\nimport InteractivePropsFromElementInfo from \"core/InteractivePropsFromElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nconst EditableKeyboardShortcut = (props: InteractivePropsFromElementInfo<KeyboardShortcut>) => {\r\n    const EditableShortcut: new(...args: any[]) => EditableElement<KeyboardShortcut> = EditableElement;\r\n    return <EditableShortcut\r\n        {...props}\r\n        inputComponentClass={KeyboardShortcutSidebarEditor}\r\n        staticComponentClass={KeyboardShortcutSidebarPresenter}\r\n    />;\r\n};\r\n\r\nexport default connectEditable()(EditableKeyboardShortcut);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/editors/EditableKeyboardShortcut.tsx","import EditableElement from \"components/EditableElement\";\r\nimport ListItem from \"components/ListItem\";\r\nimport ListItemEditor from \"components/ListItemEditor\";\r\nimport connectEditable from \"core/connectEditable\";\r\nimport {RichText as ListItemInfo} from \"core/ElementInfo\";\r\nimport InteractivePropsFromElementInfo from \"core/InteractivePropsFromElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nconst EditableListItem = (props: InteractivePropsFromElementInfo<ListItemInfo>) => {\r\n    const EditableListItemContainer: new(...args: any[]) => EditableElement<ListItemInfo> = EditableElement;\r\n    return <EditableListItemContainer\r\n        {...props}\r\n        inputComponentClass={ListItemEditor}\r\n        staticComponentClass={ListItem}\r\n    />;\r\n};\r\n\r\nexport default connectEditable()(EditableListItem);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/editors/EditableListItem.tsx","import EditableElement from \"components/EditableElement\";\r\nimport * as RichText from \"components/RichText\";\r\nimport connectEditable from \"core/connectEditable\";\r\nimport {RichText as RichTextInfo} from \"core/ElementInfo\";\r\nimport InteractivePropsFromElementInfo from \"core/InteractivePropsFromElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nconst EditableRichText = (props: InteractivePropsFromElementInfo<RichTextInfo>) => {\r\n    const EditableRichTextContainer: new(...args: any[]) => EditableElement<RichTextInfo> = EditableElement;\r\n    return <EditableRichTextContainer\r\n        {... props}\r\n        staticComponentClass={RichText.Presenter}\r\n        inputComponentClass={RichText.Editor}\r\n    />;\r\n};\r\n\r\nexport default connectEditable()(EditableRichText);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/editors/EditableRichText.tsx","import EditableElement from \"components/EditableElement\";\r\nimport SidebarEditor from \"components/SidebarEditor\";\r\nimport SidebarNote from \"components/SidebarNote\";\r\nimport connectEditable from \"core/connectEditable\";\r\nimport {SidebarNote as SidebarNoteInfo} from \"core/ElementInfo\";\r\nimport InteractivePropsFromElementInfo from \"core/InteractivePropsFromElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nconst EditableSidebarNote = (props: InteractivePropsFromElementInfo<SidebarNoteInfo>) => {\r\n    const EditableSidebar: new(...args: any[]) => EditableElement<SidebarNoteInfo> = EditableElement;\r\n    return <EditableSidebar\r\n        {...props}\r\n        inputComponentClass={SidebarEditor}\r\n        staticComponentClass={SidebarNote}\r\n    />;\r\n};\r\n\r\nexport default connectEditable()(EditableSidebarNote);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/editors/EditableSidebarNote.tsx","import EditableElement from \"components/EditableElement\";\r\nimport Toolbox from \"components/Toolbox\";\r\nimport ToolboxEditor from \"components/ToolboxEditor\";\r\nimport connectEditable from \"core/connectEditable\";\r\nimport {Toolbox as ToolboxInfo} from \"core/ElementInfo\";\r\nimport InteractivePropsFromElementInfo from \"core/InteractivePropsFromElementInfo\";\r\nimport * as React from \"react\";\r\n\r\nconst EditableToolbox = (props: InteractivePropsFromElementInfo<ToolboxInfo>) => {\r\n    const EditableToolboxContainer: new(...args: any[]) => EditableElement<ToolboxInfo> = EditableElement;\r\n    return <EditableToolboxContainer\r\n        {...props}\r\n        inputComponentClass={ToolboxEditor}\r\n        staticComponentClass={Toolbox}\r\n    />;\r\n};\r\n\r\nexport default connectEditable()(EditableToolbox);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/editors/EditableToolbox.tsx","import { UpdateCodeLanguage } from \"actions/MenuActions\";\r\nimport MenuItem from \"containers/MenuItem\";\r\nimport * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport { Store } from \"stores\";\r\n\r\ninterface Props {\r\n    language: string;\r\n    onChangeLanguage: (language: string) => void;\r\n}\r\n\r\nclass CodeSnippetButton extends React.Component<Props, {}> {\r\n    public render() {\r\n        return <MenuItem\r\n            insertEnabled={!!this.props.language}\r\n            menuItemHeading=\"Insert Code Snippet\"\r\n            menuItemId=\"code-snippet\"\r\n            menuItemText=\"Code Snippet\"\r\n            items={[\r\n                {\r\n                    elementState: {\r\n                        language: this.props.language,\r\n                        value: \"\",\r\n                    },\r\n                    elementType: \"Code\",\r\n                },\r\n            ]}\r\n        >\r\n            <select value={this.props.language} onChange={this.onChangeLanguage}>\r\n                <option value=\"html-css-javascript\">HTML/CSS/JavaScript</option>\r\n                <option value=\"python\">Python</option>\r\n                <option value=\"excel\">Excel</option>\r\n                <option value=\"java\">Java</option>\r\n                <option value=\"mathematica\">Mathematica</option>\r\n                <option value=\"matlab\">Matlab</option>\r\n                <option value=\"php-sql\">PHP/SQL</option>\r\n                <option value=\"r\">R</option>\r\n                <option value=\"tex\">LaTeX</option>\r\n            </select>\r\n        </MenuItem>;\r\n    }\r\n\r\n    private onChangeLanguage = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n        this.props.onChangeLanguage(event.target.value);\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state: Store): Partial<Props> {\r\n    return {\r\n        language: state.menu.code.language,\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = ({\r\n    onChangeLanguage: (language: string) => ({\r\n        language,\r\n        type: \"update-code-language\",\r\n    } as UpdateCodeLanguage),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(CodeSnippetButton);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/menu/CodeSnippetButton.tsx","import {UpdateHeadingLevel, UpdateHeadingText} from \"actions/MenuActions\";\r\nimport MenuItem from \"containers/MenuItem\";\r\nimport * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {initialState, Store} from \"stores\";\r\n\r\ntype HeadingLevel = 1 | 2 | 3 | 4 | 5 | 6;\r\n\r\ninterface Props {\r\n    levelChanged?: (newLevel: HeadingLevel) => void;\r\n    textChanged?: (text: string) => void;\r\n\r\n    headingLevel: HeadingLevel;\r\n    headingText: string;\r\n}\r\n\r\nclass HeadingButton extends React.Component<Props, {}> {\r\n    public render() {\r\n        return (\r\n        <MenuItem\r\n            menuItemId=\"headings\"\r\n            menuItemText=\"Headings\"\r\n            menuItemHeading=\"Create Heading\"\r\n            insertEnabled={this.props.headingText.length !== 0}\r\n            items={[\r\n                {\r\n                    elementState: {\r\n                        level: this.props.headingLevel,\r\n                        value: this.props.headingText,\r\n                    },\r\n                    elementType: \"Heading\",\r\n                },\r\n            ]}\r\n        >\r\n            <section>\r\n                <select onChange={this.levelChanged} value={this.props.headingLevel}>\r\n                    <option value={1}>Section Heading</option>\r\n                    <option value={2}>Subsection Heading</option>\r\n                    <option value={3}>Sub-Subsection Heading</option>\r\n                    <option value={4}>Paragraph Heading</option>\r\n                    <option value={5}>Sub-paragraph Heading</option>\r\n                </select>\r\n            </section>\r\n            <section>\r\n                <input placeholder=\"Heading Text\" value={this.props.headingText} onChange={this.textChanged} />\r\n            </section>\r\n        </MenuItem>\r\n        );\r\n    }\r\n\r\n    private levelChanged = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n        if (this.props.levelChanged) {\r\n            this.props.levelChanged(parseInt(e.target.value, 10) as HeadingLevel);\r\n        }\r\n    }\r\n\r\n    private textChanged = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (this.props.textChanged) {\r\n            this.props.textChanged(e.target.value);\r\n        }\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state: Store = initialState): Props {\r\n    return {\r\n        headingLevel: state.menu.heading.level,\r\n        headingText: state.menu.heading.text,\r\n    };\r\n}\r\n\r\nlet mapActionsToProps = ({\r\n    levelChanged: (newLevel: HeadingLevel) => ({\r\n        level: newLevel,\r\n        type: \"update-heading-level\",\r\n    } as UpdateHeadingLevel),\r\n    textChanged: (newText: string) => ({\r\n        text: newText,\r\n        type: \"update-heading-text\",\r\n    } as UpdateHeadingText),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(HeadingButton);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/menu/HeadingButton.tsx","import ImportWizard from \"containers/ImportWizard\";\r\nimport * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {openDialog} from \"redux-dialog\";\r\nimport {Store} from \"stores\";\r\n\r\ninterface Props {\r\n    toggleWizard: () => void;\r\n}\r\n\r\nclass ImportButton extends React.Component<Props, {}> {\r\n    public render() {\r\n        return (\r\n            <div className=\"has-flyout\">\r\n                <button onClick={this.toggleWizard}>Import</button>\r\n                <ImportWizard />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private toggleWizard = () => {\r\n        this.props.toggleWizard();\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state: Store): Partial<Props> {\r\n    return {};\r\n}\r\n\r\nlet mapActionsToProps = ({\r\n    toggleWizard : () => openDialog(\"import-wizard\"),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(ImportButton);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/menu/ImportButton.tsx","import LoadWizard from \"containers/LoadWizard\";\r\nimport * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {openDialog} from \"redux-dialog\";\r\nimport {Store} from \"stores\";\r\n\r\ninterface Props {\r\n    toggleWizard: () => void;\r\n}\r\n\r\nclass LoadButton extends React.Component<Props, {}> {\r\n    public render() {\r\n        return (\r\n            <div className=\"has-flyout\">\r\n                <button onClick={this.toggleWizard}>Load</button>\r\n                <LoadWizard />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private toggleWizard = () => {\r\n        this.props.toggleWizard();\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state: Store): Partial<Props> {\r\n    return {};\r\n}\r\n\r\nlet mapActionsToProps = ({\r\n    toggleWizard : () => openDialog(\"load-wizard\"),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(LoadButton);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/menu/LoadButton.tsx","import {saveAsThunkAction} from \"actions/SaveLoadActions\";\r\nimport * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Store} from \"stores\";\r\n\r\ninterface Props {\r\n    onSave: () => void;\r\n}\r\n\r\nconst SaveButton = (props: Props) => {\r\n    return <button onClick={props.onSave}>Save</button>;\r\n};\r\n\r\nfunction mapStateToProps(state: Store, props: Partial<Props>) {\r\n    return {};\r\n}\r\n\r\nlet mapActionsToProps = ({\r\n    onSave : saveAsThunkAction,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(SaveButton);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/menu/SaveButton.tsx","import {UpdateTableColumns, UpdateTableRows} from \"actions/MenuActions\";\r\nimport MenuItem from \"containers/MenuItem\";\r\nimport ElementInfo from \"core/ElementInfo\";\r\nimport {convertToRaw, EditorState} from \"draft-js\";\r\nimport * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {initialState, Store} from \"stores\";\r\n\r\nfunction generateItems(rows: number, columns: number): ElementInfo[] {\r\n    let items: ElementInfo[] = [];\r\n    items.push({\r\n        elementType: \"Table\",\r\n        metaItemType: \"open\",\r\n    });\r\n    for (let i = 0; i < rows; i++) {\r\n        items.push({\r\n            elementType: \"TableRow\",\r\n            metaItemType: \"open\",\r\n        });\r\n        for (let j = 0; j < columns; j++) {\r\n            items.push({\r\n                elementType: i === 0 ? \"TableHeader\" : \"TableCell\",\r\n                metaItemType: \"open\",\r\n            });\r\n            items.push({\r\n                elementState: {\r\n                    value: convertToRaw(EditorState.createEmpty().getCurrentContent()),\r\n                },\r\n                elementType: \"RichText\",\r\n            });\r\n            items.push({\r\n                elementType: i === 0 ? \"TableHeader\" : \"TableCell\",\r\n                metaItemType: \"close\",\r\n            });\r\n        }\r\n        items.push({\r\n            elementType: \"TableRow\",\r\n            metaItemType: \"close\",\r\n        });\r\n    }\r\n    items.push({\r\n        elementType: \"Table\",\r\n        metaItemType: \"close\",\r\n    });\r\n    return items;\r\n}\r\n\r\ninterface Props {\r\n    rowsChanged?: (rows: number) => void;\r\n    columnsChanged?: (columns: number) => void;\r\n    rows: number;\r\n    columns: number;\r\n}\r\n\r\ninterface State {\r\n    items: ElementInfo[];\r\n}\r\n\r\nclass TableButton extends React.Component<Props, State> {\r\n    constructor(props: Props, context?: any) {\r\n        super(props, context);\r\n        this.state = {\r\n            items: generateItems(props.rows, props.columns),\r\n        };\r\n    }\r\n\r\n    public componentWillReceiveProps(props: Props) {\r\n        if (props.rows !== this.props.rows || props.columns !== this.props.columns) {\r\n            this.setState({\r\n                items: generateItems(props.rows, props.columns),\r\n            });\r\n        }\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n        <MenuItem\r\n            menuItemId=\"table\"\r\n            menuItemText=\"Table\"\r\n            menuItemHeading=\"Create Table\"\r\n            insertEnabled={this.props.rows > 0 && this.props.columns > 0}\r\n            items={this.state.items}\r\n            itemToEdit={3}\r\n        >\r\n            <section>\r\n                <label htmlFor=\"table-rows\">Rows:</label>\r\n                <input type=\"number\" value={this.props.rows} onChange={this.rowsChanged} />\r\n            </section>\r\n            <section>\r\n                <label htmlFor=\"table-columns\">Columns:</label>\r\n                <input type=\"number\" value={this.props.columns} onChange={this.columnsChanged} />\r\n            </section>\r\n        </MenuItem>\r\n        );\r\n    }\r\n\r\n    private rowsChanged = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (this.props.rowsChanged) {\r\n            this.props.rowsChanged(parseInt(e.target.value, 10));\r\n        }\r\n    }\r\n\r\n    private columnsChanged = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (this.props.columnsChanged) {\r\n            this.props.columnsChanged(parseInt(e.target.value, 10));\r\n        }\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state: Store = initialState): Props {\r\n    return {\r\n        columns: state.menu.table.columns,\r\n        rows: state.menu.table.rows,\r\n    };\r\n}\r\n\r\nlet mapActionsToProps = ({\r\n    columnsChanged: (columns: number) => ({\r\n        columns,\r\n        type: \"update-table-columns\",\r\n    } as UpdateTableColumns),\r\n    rowsChanged: (rows: number) => ({\r\n        rows,\r\n        type: \"update-table-rows\",\r\n    } as UpdateTableRows),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(TableButton);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/menu/TableButton.tsx","const KeyToImageMap = {\r\n    0: \"0\",\r\n    1: \"1\",\r\n    2: \"2\",\r\n    3: \"3\",\r\n    4: \"4\",\r\n    5: \"5\",\r\n    6: \"6\",\r\n    7: \"7\",\r\n    8: \"8\",\r\n    9: \"9\",\r\n    a: \"a\",\r\n    alt: \"Alt\",\r\n    b: \"b\",\r\n    backslash: \"Backslash\",\r\n    backspace: \"Backspace\",\r\n    bracketleft: \"Left Bracket\",\r\n    bracketright: \"Right Bracket\",\r\n    c: \"c\",\r\n    caps: \"Caps Lock\",\r\n    colon: \"Colon\",\r\n    comma: \"Comma\",\r\n    command: \"Command\",\r\n    control: \"Control\",\r\n    d: \"d\",\r\n    dash: \"Dash\",\r\n    delete: \"Delete\",\r\n    downarrow: \"Down Arrow\",\r\n    e: \"e\",\r\n    enter: \"Enter\",\r\n    escape: \"Escape\",\r\n    f: \"f\",\r\n    fn: \"Fn\",\r\n    g: \"g\",\r\n    h: \"h\",\r\n    i: \"i\",\r\n    j: \"j\",\r\n    k: \"k\",\r\n    l: \"l\",\r\n    leftarrow: \"Left Arrow\",\r\n    m: \"m\",\r\n    n: \"n\",\r\n    none: \"\", // Key that represents no selected key for the shortcut\r\n    o: \"o\",\r\n    option: \"Option\",\r\n    p: \"p\",\r\n    period: \"Period\",\r\n    plus: \"Plus\",\r\n    q: \"q\",\r\n    questionmark: \"Question Mark\",\r\n    quote: \"Quote\",\r\n    r: \"r\",\r\n    return: \"Return\",\r\n    rightarrow: \"Right Arrow\",\r\n    s: \"s\",\r\n    shift: \"Shift\",\r\n    t: \"t\",\r\n    tab: \"Tab\",\r\n    tilde: \"Tilde\",\r\n    u: \"u\",\r\n    uparrow: \"Up Arrow\",\r\n    v: \"v\",\r\n    w: \"w\",\r\n    windows: \"Windows\",\r\n    x: \"x\",\r\n    y: \"y\",\r\n    z: \"z\",\r\n};\r\n\r\nexport default KeyToImageMap;\r\n\n\n\n// WEBPACK FOOTER //\n// ./core/KeyToImageMap.ts","import ElementInfo, * as ElementTypes from \"core/ElementInfo\";\r\nimport { ContentState, convertFromHTML, convertToRaw } from \"draft-js\";\r\nimport {decode} from \"he\";\r\nimport {addElements, Document} from \"stores/Document\";\r\n\r\n// These are used for images in the old manual style.\r\nconst legacyImagesFolder = \"images/\";\r\nconst legacyKeyboardIconsFolder = \"keyboard-icons/\";\r\n\r\nfunction extractElements(parentElement: Element): ElementInfo[] {\r\n    let encounteredIntro = !(parentElement instanceof HTMLBodyElement);\r\n    let items: ElementInfo[] = [];\r\n    for (let i = 0; i < parentElement.childNodes.length; ++i) {\r\n        let currentElement = parentElement.childNodes.item(i);\r\n        if (!encounteredIntro) {\r\n            if (currentElement.textContent === \"Introduction\") {\r\n                encounteredIntro = true;\r\n            }\r\n            continue;\r\n        }\r\n        if (currentElement.nodeType === Node.ELEMENT_NODE) {\r\n            items = items.concat(convertCurrentElement(<Element> currentElement));\r\n        }\r\n        if (currentElement.nodeType === Node.TEXT_NODE && currentElement.textContent && currentElement.textContent.trim().length) {\r\n            items.push({\r\n                elementState: {\r\n                    value: convertToRaw(ContentState.createFromBlockArray(convertFromHTML(currentElement.textContent))),\r\n                },\r\n                elementType: \"RichText\",\r\n            });\r\n        }\r\n    }\r\n    return items;\r\n}\r\n\r\nfunction convertCurrentElement(currentElement: Element): ElementInfo[] {\r\n            switch (currentElement.tagName.toLowerCase()) {\r\n            case \"h1\":\r\n            case \"h2\":\r\n            case \"h3\":\r\n            case \"h4\":\r\n            case \"h5\":\r\n            case \"h6\":\r\n                return [\r\n                    {\r\n                        elementState: {\r\n                            level: <ElementTypes.Heading[\"level\"]> parseInt(currentElement.tagName[1], 10),\r\n                            value: (<HTMLElement> currentElement).innerText,\r\n                        },\r\n                        elementType: \"Heading\",\r\n                    },\r\n                ];\r\n            case \"ul\":\r\n            return generateMetaItem(\"UnorderedList\", currentElement);\r\n            case \"li\":\r\n            {\r\n                return extractElements(currentElement).map((element) => {\r\n                    if (element.elementType === \"RichText\") {\r\n                        element = {\r\n                            elementType : \"ListItem\",\r\n                            elementState : element.elementState,\r\n                        };\r\n                    }\r\n\r\n                    return element;\r\n                });\r\n            }\r\n            case \"ol\":\r\n            {\r\n                let elementType: ElementTypes.MetaElementType = currentElement.classList.contains(\"instruction-list\") ? \"InstructionList\" : \"OrderedList\";\r\n                return generateMetaItem(elementType, currentElement);\r\n            }\r\n            case \"p\":\r\n            {\r\n                let content = ContentState.createFromBlockArray(convertFromHTML(currentElement.outerHTML));\r\n                return [\r\n                    {\r\n                        elementState: {\r\n                            value: convertToRaw(content),\r\n                        },\r\n                        elementType: \"RichText\",\r\n                    },\r\n                ];\r\n            }\r\n            case \"pre\":\r\n            {\r\n                let codeLanguage: string = \"\";\r\n                let head = currentElement.ownerDocument.head;\r\n                for (let j = 0; j < head.children.length; ++j) {\r\n                    let headElement = head.children.item(j);\r\n                    if (headElement.tagName.toLowerCase() === \"script\") {\r\n                        let scriptTag = <HTMLScriptElement> headElement;\r\n                        let found = scriptTag.src.match(/([A-Za-z-]+)-highlight.js/);\r\n                        if (found) {\r\n                            codeLanguage = found[1];\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                return [\r\n                    {\r\n                        elementState: {\r\n                            language: codeLanguage,\r\n                            value: decode(currentElement.children[0].innerHTML),\r\n                        },\r\n                        elementType: \"Code\",\r\n                    },\r\n                ];\r\n            }\r\n            case \"div\":\r\n            return [\r\n                generateDivItem(<HTMLDivElement> currentElement),\r\n            ];\r\n            case \"br\":\r\n            return [];\r\n            case \"table\":\r\n            return generateMetaItem(\"Table\", currentElement);\r\n            case \"tbody\":\r\n            return extractElements(currentElement);\r\n            case \"tr\":\r\n            return generateMetaItem(\"TableRow\", currentElement);\r\n            case \"th\":\r\n            return generateMetaItem(\"TableHeader\", currentElement);\r\n            case \"td\":\r\n            return generateMetaItem(\"TableCell\", currentElement);\r\n            default:\r\n                console.warn(`Unsupported Tag ${currentElement.tagName}. Imported into a Raw HTML element.`);\r\n                return [\r\n                    {\r\n                        elementState: {\r\n                            value: currentElement.outerHTML,\r\n                        },\r\n                        elementType: \"RawHtml\",\r\n                    },\r\n                ];\r\n        }\r\n}\r\n\r\nfunction generateMetaItem(elementType: ElementTypes.MetaElementType, currentElement: Element) {\r\n    let listElements: ElementInfo[] = [\r\n        {\r\n            elementType,\r\n            metaItemType: \"open\",\r\n        },\r\n        {\r\n            elementType,\r\n            metaItemType: \"close\",\r\n        },\r\n    ];\r\n    Array.prototype.splice.apply(listElements, (<any[]> [1, 0]).concat(extractElements(currentElement)));\r\n    return listElements;\r\n}\r\n\r\nfunction generateImageItem(element: HTMLDivElement): ElementInfo {\r\n    let classList = element.classList;\r\n    const border = element.getAttribute(\"border\") !== null || classList.contains(\"border\");\r\n    const captionElement = element.querySelector(\"p\");\r\n    const caption = captionElement ? captionElement.innerText : \"\";\r\n    let className: string;\r\n    for (let i = 0; i < classList.length; ++i) {\r\n        if (classList.item(i).includes(\"image\")) {\r\n            className = classList.item(i);\r\n            if (className.includes(\"sidebyside\")) {\r\n                let leftSource = importImagePath(element.querySelectorAll(\"img\")[0].getAttribute(\"src\")!);\r\n                let rightSource = importImagePath(element.querySelectorAll(\"img\")[1].getAttribute(\"src\")!);\r\n                return {\r\n                    elementState: {\r\n                        value: {\r\n                            border,\r\n                            caption,\r\n                            leftSource,\r\n                            rightSource,\r\n                            className: <ElementTypes.SideBySideImageClassName> className,\r\n                        },\r\n                    },\r\n                    elementType: \"SideBySideImage\",\r\n                };\r\n            } else {\r\n                let source = importImagePath(element.querySelector(\"img\")!.getAttribute(\"src\")!);\r\n                return {\r\n                    elementState: {\r\n                        value: {\r\n                            border,\r\n                            caption,\r\n                            source,\r\n                            className: <ElementTypes.SingleImageClassName> className,\r\n                        },\r\n                    },\r\n                    elementType: \"SingleImage\",\r\n                };\r\n            }\r\n        }\r\n    }\r\n    throw new Error(\"Impossible error: Class-list does not contain an image class, but the className attribute does.\");\r\n}\r\n\r\nfunction generateDivItem(element: HTMLDivElement): ElementInfo {\r\n    const classList = element.classList;\r\n    const classes = element.className;\r\n    if (classes.includes(\"image\") || classList.contains(\"sidebar-icon\")) {\r\n        return generateImageItem(element);\r\n    } else if (classList.contains(\"sidebar-note\")) {\r\n        const titleElement = element.querySelector(\"h2\");\r\n        const title = titleElement ? titleElement.innerText : \"\";\r\n        const content = convertToRaw(ContentState.createFromBlockArray(convertFromHTML(element.querySelector(\"p\")!.outerHTML)));\r\n        const imageElement = element.querySelector(\"img\");\r\n        const imgSource = imageElement ? imageElement.src : \"\";\r\n        return {\r\n            elementState: {\r\n                value: {\r\n                    title,\r\n                    content,\r\n                    imgSource,\r\n                },\r\n            },\r\n            elementType: \"SidebarNote\",\r\n        };\r\n    } else if (classList.contains(\"toolbox\")) {\r\n        let items = [];\r\n        for (let i = 0; i < element.children.length; ++i) {\r\n            let item = element.children.item(i);\r\n            let imgSrc = importImagePath(item.querySelector(\"img\")!.getAttribute(\"src\")!);\r\n            let content = item.querySelector(\"p\")!;\r\n            let name = content.querySelector(\"b\")!.innerText;\r\n            content.removeChild(content.querySelector(\"b\")!);\r\n            let description = content.innerText;\r\n            items.push({\r\n                imgSrc,\r\n                name,\r\n                description,\r\n            });\r\n        }\r\n        return {\r\n            elementState: {\r\n                value: items,\r\n            },\r\n            elementType: \"Toolbox\",\r\n        };\r\n    } else if (classList.contains(\"keyboard-shortcut\")) {\r\n        const titleElement = element.querySelector(\"h2\");\r\n        const title = titleElement ? titleElement.innerText : \"\";\r\n        const content = convertToRaw(ContentState.createFromBlockArray(convertFromHTML(element.querySelector(\"p\")!.outerHTML)));\r\n        const labels = element.querySelectorAll(\"h3\");\r\n        switch (labels.length) {\r\n            case 0:\r\n            case 1:\r\n            {\r\n                let keyImages = element.getElementsByTagName(\"img\");\r\n                let keys: string[] = [];\r\n                for (let i = 0; i < keyImages.length; ++i) {\r\n                    let image = keyImages.item(i);\r\n                    let regexMatch = image.getAttribute(\"src\")!.match(/icon-([a-z0-9]+).svg/i)!;\r\n                    keys.push(regexMatch[1]);\r\n                }\r\n                return {\r\n                    elementState: {\r\n                        value: {\r\n                            title,\r\n                            content,\r\n                            shortcuts: <ElementTypes.Keys[][]> [keys],\r\n                            type: keys.length ? \"shortcut\" : \"no-shortcut\",\r\n                        },\r\n                    },\r\n                    elementType: \"KeyboardShortcut\",\r\n                };\r\n            }\r\n            default:\r\n                console.warn(\"Unsupported number of labels. Only importing first 2 shortcuts\");\r\n            case 2:\r\n                let firstLabel = labels.item(0);\r\n                let secondLabel = labels.item(1);\r\n                let firstKeys: string[] = [];\r\n                for (let image = firstLabel.nextElementSibling; image !== secondLabel; image = image!.nextElementSibling) {\r\n                    let regexMatch = image!.getAttribute(\"src\")!.match(/icon-([a-z0-9]+).svg/i)!;\r\n                    firstKeys.push(regexMatch[1]);\r\n                }\r\n                let secondKeys: string[] = [];\r\n                for (let image = secondLabel.nextElementSibling; image && image !== labels.item(2); image = image.nextElementSibling) {\r\n                    let regexMatch = image.getAttribute(\"src\")!.match(/icon-([a-z0-9]+).svg/i)!;\r\n                    secondKeys.push(regexMatch[1]);\r\n                }\r\n                return {\r\n                    elementState: {\r\n                        value: {\r\n                            title,\r\n                            content,\r\n                            shortcuts: <ElementTypes.Keys[][]> [firstKeys, secondKeys],\r\n                            type: \"multi-shortcut\",\r\n                        },\r\n                    },\r\n                    elementType: \"KeyboardShortcut\",\r\n                };\r\n        }\r\n    } else {\r\n        console.warn(`Unsupported div classes: ${classes}. Imported into a Raw HTML element`);\r\n        return {\r\n            elementState: {\r\n                value: element.outerHTML,\r\n            },\r\n            elementType: \"RawHtml\",\r\n        };\r\n    }\r\n}\r\n\r\nfunction importImagePath(imagePath: string) {\r\n    if (imagePath.startsWith(legacyImagesFolder)) {\r\n        return imagePath.substr(legacyImagesFolder.length);\r\n    }\r\n    if (imagePath.startsWith(legacyKeyboardIconsFolder)) {\r\n        return imagePath.substr(legacyKeyboardIconsFolder.length);\r\n    }\r\n    return imagePath;\r\n}\r\n\r\nexport default function importManualHtml(html: string): Document {\r\n    let parser = new DOMParser();\r\n    let oldManual = parser.parseFromString(html, \"text/html\");\r\n    let newManual: Document = {\r\n        1: {\r\n            editing: false,\r\n            itemId: 1,\r\n            level: 1,\r\n            value: oldManual.querySelector(\"#coverpage-title h1\")!.textContent!,\r\n        },\r\n        2: {\r\n            editing: false,\r\n            itemId: 2,\r\n            level: 2,\r\n            value: oldManual.querySelector(\"#coverpage-title h2\")!.textContent!,\r\n        },\r\n        3: {\r\n            editing: false,\r\n            itemId: 3,\r\n            level: 1,\r\n            value: \"Introduction\",\r\n        },\r\n        elementOrdering: [\r\n            {itemId: 3, elementType: \"Heading\"},\r\n        ],\r\n        nextItemId: 4,\r\n    };\r\n    addElements(newManual, extractElements(oldManual.body));\r\n    return newManual;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./core/importManualHtml.ts","import * as BaseActions from \"actions/BaseEditActions\";\r\nimport * as SaveLoadActions from \"actions/SaveLoadActions\";\r\nimport * as Redux from \"redux\";\r\nimport {addElements, Document, initialState, removeElement} from \"stores/Document\";\r\n\r\nlet setIsEditing =\r\n    (state: Document = initialState, action: BaseActions.SetIsEditing) => {\r\n    if (action.type === \"setIsEditing\") {\r\n        let newState: Document = { ... state };\r\n        newState[action.itemId] = {... newState[action.itemId]} || {itemId: action.itemId};\r\n        if (action.editing) {\r\n            for (let itemId in newState) {\r\n                if (newState[itemId].editing) {\r\n                    newState[itemId] = {... newState[itemId], editing: false};\r\n                }\r\n            }\r\n        }\r\n        newState[action.itemId].editing = action.editing;\r\n        return newState;\r\n    }\r\n    return state;\r\n};\r\n\r\nlet onEdited =\r\n    (state: Document = initialState, action: BaseActions.OnEdited) => {\r\n    if (action.type === \"onEdited\") {\r\n        let newState: Document = { ... state};\r\n        newState[action.itemId] = {... newState[action.itemId]} || {itemId: action.itemId};\r\n        newState[action.itemId].value = action.value;\r\n        return newState;\r\n    }\r\n    return state;\r\n};\r\n\r\nlet onAddDocument =\r\n    (state: Document = initialState, action: BaseActions.AddToDocument) => {\r\n    if (action.type === \"addToDocument\") {\r\n        let newState: Document = {\r\n            ... state,\r\n        };\r\n        addElements(newState, action.items, action.itemToEdit, action.ordering);\r\n        return newState;\r\n    }\r\n    return state;\r\n};\r\n\r\nlet onRemoveElement =\r\n    (state: Document= initialState, action: BaseActions.RemoveFromDocument) => {\r\n    if (action.type === \"removeFromDocument\") {\r\n        let newState: Document = {\r\n            ...state,\r\n        };\r\n        removeElement(newState, action.itemId);\r\n        return newState;\r\n    }\r\n    return state;\r\n};\r\n\r\nlet onSetDocument = (state: Document = initialState, action: SaveLoadActions.SetDocumentAction) => {\r\n    if (action.type === \"set-document\") {\r\n        let document = action.document;\r\n        if (action.version && action.version !== SaveLoadActions.saveVersion) {\r\n            // Call document upgrade scripts here.\r\n        }\r\n        return document;\r\n    }\r\n    return state;\r\n};\r\n\r\nlet editReducers = (document: Document, action: Redux.Action) => {\r\n    let newDoc = setIsEditing(document, action as BaseActions.SetIsEditing);\r\n    newDoc = onEdited(newDoc, action as BaseActions.OnEdited);\r\n    newDoc = onAddDocument(newDoc, action as BaseActions.AddToDocument);\r\n    newDoc = onRemoveElement(newDoc, action as BaseActions.RemoveFromDocument);\r\n    newDoc = onSetDocument(newDoc, action as SaveLoadActions.SetDocumentAction);\r\n    return newDoc;\r\n};\r\n\r\nexport default editReducers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/DocumentReducers.ts","import * as FlyoutActions from \"actions/FlyoutActions\";\r\nimport {FlyoutStore, initialState} from \"stores/Flyout\";\r\n\r\nexport default function(state: FlyoutStore = initialState, action: FlyoutActions.FlyoutToggle) {\r\n    if (action.type === \"flyout-toggle\") {\r\n       let s: boolean;\r\n       if (!state.id || state.id === action.id) { // first toggle / same flyout : toggle\r\n           s = !state.open;\r\n       } else if (action.id === undefined) { // window click: close\r\n           s = false;\r\n       } else { // different flyout : open\r\n           s = true;\r\n       }\r\n       return {\r\n           ... state,\r\n           id : action.id,\r\n           open : s,\r\n       };\r\n    }\r\n    return state;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/FlyoutReducers.ts","import * as ImageActions from \"actions/ImageActions\";\r\nimport { ClearImagesAction } from \"actions/SaveLoadActions\";\r\nimport * as ImagesStore from \"stores/Images\";\r\n\r\nexport default function(store: ImagesStore.ImagesStore = ImagesStore.initialState, action: ImageActions.UploadImage | ClearImagesAction) {\r\n    if (action.type === \"uploadImage\") {\r\n        return ImagesStore.addOrUpdateBlobImageToStore(store, action.image.name, action.image);\r\n    } else if (action.type === \"clear-images\") {\r\n        return ImagesStore.emptyImagesStore(store);\r\n    }\r\n    return store;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/ImageReducers.ts","import code from \"reducers/menu/CodeBlockReducers\";\r\nimport heading from \"reducers/menu/HeadingReducers\";\r\nimport importReducers from \"reducers/menu/ImportReducers\";\r\nimport {load} from \"reducers/menu/SaveLoadReducers\";\r\nimport table from \"reducers/menu/TableReducers\";\r\nimport * as Redux from \"redux\";\r\n\r\nexport default Redux.combineReducers({heading, code, load, table, import: importReducers});\r\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/MenuReducers.ts","import { isUpdateCodeLanguage } from \"actions/MenuActions\";\r\nimport { Action } from \"redux\";\r\nimport { initialState } from \"stores/Menu\";\r\n\r\nexport default function updateCodeLanguage(store: {language: string} = initialState.code, action: Action) {\r\n    if (isUpdateCodeLanguage(action)) {\r\n        return {...store, language : action.language};\r\n    }\r\n    return store;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/menu/CodeBlockReducers.ts","import {isUpdateHeadingLevel, isUpdateHeadingText} from \"actions/MenuActions\";\r\nimport {Action, Reducer} from \"redux\";\r\nimport {HeadingStore, initialState} from \"stores/Menu\";\r\n\r\nlet reducer: Reducer<HeadingStore> =\r\n(store: HeadingStore = initialState.heading, action: Action) => {\r\n    if (isUpdateHeadingLevel(action)) {\r\n        let newStore: HeadingStore = {\r\n            ... store,\r\n            level : action.level,\r\n        };\r\n        return newStore;\r\n    } else if (isUpdateHeadingText(action)) {\r\n        let newStore: HeadingStore = {\r\n            ... store,\r\n            text : action.text,\r\n        };\r\n        return newStore;\r\n    } else {\r\n        return store;\r\n    }\r\n};\r\n\r\nexport default reducer;\r\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/menu/HeadingReducers.ts","import {isFileChanged, isSetImporting} from \"actions/ImportLegacyManual\";\r\nimport {Action} from \"redux\";\r\nimport { initialState } from \"stores/Menu\";\r\n\r\nexport default function fileChanged(state = initialState.import, action: Action) {\r\n    if (isFileChanged(action)) {\r\n        return {... state, file: action.file};\r\n    } else if (isSetImporting(action)) {\r\n        return {... state, importing: action.importing };\r\n    }\r\n    return state;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/menu/ImportReducers.ts","import { isFileChanged, isSetLoading } from \"actions/SaveLoadActions\";\r\nimport { Action } from \"redux\";\r\nimport { initialState } from \"stores/Menu\";\r\n\r\nfunction fileChanged(state = initialState.load, action: Action) {\r\n    if (isFileChanged(action)) {\r\n        return {... state, file: action.file};\r\n    } else if (isSetLoading(action)) {\r\n        return {... state, loading: action.loading};\r\n    }\r\n    return state;\r\n}\r\n\r\nexport let load = fileChanged;\r\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/menu/SaveLoadReducers.ts","import {isUpdateTableColumns, isUpdateTableRows} from \"actions/MenuActions\";\r\nimport { Action, combineReducers } from \"redux\";\r\nimport {initialState} from \"stores\";\r\n\r\nfunction rows(rows: number = initialState.menu.table.rows, action: Action) {\r\n    if (isUpdateTableRows(action)) {\r\n        return action.rows;\r\n    }\r\n    return rows;\r\n}\r\n\r\nfunction columns(columns: number = initialState.menu.table.columns, action: Action) {\r\n    if (isUpdateTableColumns(action)) {\r\n        return action.columns;\r\n    }\r\n    return columns;\r\n}\r\n\r\nexport default combineReducers({rows, columns});\r\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/menu/TableReducers.ts","import \"es6-shim\";\r\n\r\nimport {RichText as Props} from \"core/ElementInfo\";\r\nimport * as Draft from \"draft-js\";\r\nimport \"draft-js/dist/Draft.css\";\r\nimport * as React from \"react\";\r\nimport {findDOMNode} from \"react-dom\";\r\n\r\nconst styleMap: {[style: string]: React.CSSProperties} = {\r\n    HIGHLIGHT : {\r\n        backgroundColor: \"#BFF0FF\",\r\n        border: {\r\n            radius: \"0.25em\",\r\n        },\r\n    },\r\n    TELETYPE : {\r\n        backgroundColor: \"#F7F7F7\",\r\n        border: {\r\n            radius: \"0.25em\",\r\n        },\r\n        fontFamily: \"Source Code Pro, serif\",\r\n        fontSize: \"0.95em\",\r\n    },\r\n};\r\n\r\nfunction findEntityRanges(entityKey: string) {\r\n    return (block: Draft.ContentBlock, callback: (start: number, end: number) => void) => {\r\n        block.findEntityRanges((character: Draft.CharacterMetadata) => {\r\n            const key = character.getEntity();\r\n            return key !== null && Draft.Entity.get(key).getType() === entityKey;\r\n        }, callback);\r\n    };\r\n}\r\n\r\nconst Link = (props: any) => {\r\n    const {url} = Draft.Entity.get(props.entityKey).getData();\r\n    return (\r\n        <a href={url} target=\"_blank\">\r\n            {props.children}\r\n        </a>\r\n    );\r\n};\r\n\r\nconst decorator = new Draft.CompositeDecorator([\r\n    {\r\n        component: Link,\r\n        strategy: findEntityRanges(\"LINK\"),\r\n    },\r\n]);\r\n\r\ntype EditorProps = Props & {\r\n    onValueChange: (value: Props[\"value\"]) => void;\r\n};\r\n\r\ninterface EditorState {\r\n    editorState: Draft.EditorState;\r\n    showURLInput: boolean;\r\n    urlValue: string;\r\n}\r\n\r\nclass RichTextEditor extends React.Component<EditorProps, EditorState> {\r\n    private urlInput: HTMLElement;\r\n    private editor: Draft.Editor;\r\n\r\n    constructor(props: EditorProps, context?: any) {\r\n        super(props, context);\r\n        const content = Draft.convertFromRaw(props.value);\r\n        this.state = {\r\n            editorState: Draft.EditorState.createWithContent(content, decorator),\r\n            showURLInput: false,\r\n            urlValue: \"\",\r\n        };\r\n    }\r\n\r\n    public render() {\r\n        let urlInput: JSX.Element | null = null;\r\n        if (this.state.showURLInput) {\r\n            urlInput = (\r\n                <div className=\"url-input\">\r\n                    <input\r\n                        onChange={this.onUrlChange}\r\n                        ref={this.setUrl}\r\n                        type=\"text\"\r\n                        value={this.state.urlValue}\r\n                        onKeyDown={this.onLinkInputKeyDown}\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n        return (\r\n            <div className=\"editor\">\r\n                <div>\r\n                    <ul>\r\n                        <li tabIndex={4} onClick={this.toggleBold}>Bold</li>\r\n                        <li tabIndex={5} onClick={this.toggleItalic}>Italic</li>\r\n                        <li tabIndex={6} onClick={this.toggleUnderline}>Underline</li>\r\n                        <li tabIndex={7} onClick={this.toggleTeletype}>Teletype</li>\r\n                        <li tabIndex={8} onClick={this.toggleHighlight}>Highlight</li>\r\n                        <li tabIndex={9} onClick={this.promptForLink}>Add Link</li>\r\n                        <li tabIndex={10} onClick={this.removeLink}>Remove Link</li>\r\n                    </ul>\r\n                </div>\r\n                <hr />\r\n                {urlInput}\r\n                <div>\r\n                    <Draft.Editor\r\n                        ref={this.setEditor}\r\n                        editorState={this.state.editorState}\r\n                        onChange={this.onChangeEditorStateAllowBlur}\r\n                        placeholder={\"Type your content here.\"}\r\n                        handleKeyCommand={this.handleKeyCommand}\r\n                        onBlur={this.onBlur}\r\n                        customStyleMap={styleMap}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private onBlur = (e: React.SyntheticEvent<{}>) => {\r\n        let editorNode = findDOMNode(this);\r\n        let newFocus = (e as React.MouseEvent<{}>).relatedTarget as Node;\r\n        if (!editorNode.contains(newFocus)) {\r\n            this.props.onValueChange(Draft.convertToRaw(this.state.editorState.getCurrentContent()));\r\n        }\r\n    }\r\n\r\n    private onUrlChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({\r\n            urlValue: e.target.value,\r\n        });\r\n    }\r\n\r\n    private setUrl = (urlInput: HTMLInputElement) => {\r\n        this.urlInput = urlInput;\r\n    }\r\n\r\n    private setEditor = (editor: Draft.Editor) => {\r\n        this.editor = editor;\r\n    }\r\n\r\n    private onChangeEditorStateAllowBlur = (value: Draft.EditorState) => {\r\n        this.setState({\r\n            editorState: value,\r\n        });\r\n    }\r\n\r\n    private onChangeEditorState = (value: Draft.EditorState) => {\r\n        this.setState({\r\n            editorState: value,\r\n        }, () => setTimeout(() => this.editor && this.editor.focus(), 0));\r\n    }\r\n\r\n    private toggleBold = () => {\r\n        this.onChangeEditorState(Draft.RichUtils.toggleInlineStyle(this.state.editorState, \"BOLD\"));\r\n    }\r\n\r\n    private toggleItalic = () => {\r\n        this.onChangeEditorState(Draft.RichUtils.toggleInlineStyle(this.state.editorState, \"ITALIC\"));\r\n    }\r\n\r\n    private toggleUnderline = () => {\r\n        this.onChangeEditorState(Draft.RichUtils.toggleInlineStyle(this.state.editorState, \"UNDERLINE\"));\r\n    }\r\n\r\n    private toggleTeletype = () => {\r\n        this.onChangeEditorState(Draft.RichUtils.toggleInlineStyle(this.state.editorState, \"TELETYPE\"));\r\n    }\r\n\r\n    private toggleHighlight = () => {\r\n        this.onChangeEditorState(Draft.RichUtils.toggleInlineStyle(this.state.editorState, \"HIGHLIGHT\"));\r\n    }\r\n\r\n    private handleKeyCommand: (command: string) => \"handled\" | \"not-handled\" = (command: string) => {\r\n        let state = Draft.RichUtils.handleKeyCommand(this.state.editorState, command);\r\n        if (state) {\r\n            this.onChangeEditorState(state);\r\n            return \"handled\";\r\n        }\r\n        return \"not-handled\";\r\n    }\r\n\r\n    private promptForLink = () => {\r\n        const selection = this.state.editorState.getSelection();\r\n        if (!selection.isCollapsed()) {\r\n            this.setState({\r\n               showURLInput: true,\r\n               urlValue: \"\",\r\n            }, () => setTimeout(this.urlInput.focus(), 0));\r\n        }\r\n    }\r\n\r\n    private confirmLink = (e: React.SyntheticEvent<HTMLElement>) => {\r\n        e.preventDefault();\r\n        const entityKey = Draft.Entity.create(\"LINK\", \"MUTABLE\", {url: this.state.urlValue});\r\n        this.onChangeEditorState(Draft.RichUtils.toggleLink(this.state.editorState, this.state.editorState.getSelection(), entityKey));\r\n        this.setState({\r\n            showURLInput: false,\r\n            urlValue: \"\",\r\n        }, () => setTimeout(() => this.editor.focus(), 0));\r\n    }\r\n\r\n    private onLinkInputKeyDown = (e: React.SyntheticEvent<HTMLInputElement>) => {\r\n        if ((e.nativeEvent as KeyboardEvent).which === 13) {\r\n            this.confirmLink(e);\r\n        }\r\n    }\r\n\r\n    private removeLink = (e: React.SyntheticEvent<HTMLElement>) => {\r\n        e.preventDefault();\r\n        const selection = this.state.editorState.getSelection();\r\n        if (!selection.isCollapsed()) {\r\n            this.onChangeEditorState(Draft.RichUtils.toggleLink(this.state.editorState, selection, null!));\r\n        }\r\n    }\r\n}\r\n\r\ninterface PresenterState {\r\n    editorState: Draft.EditorState;\r\n}\r\n\r\n// tslint:disable-next-line:max-classes-per-file\r\nclass RichTextPresenter extends React.Component<Props, PresenterState> {\r\n    constructor(props: EditorProps, context?: any) {\r\n        super(props, context);\r\n        const content = Draft.convertFromRaw(props.value);\r\n\r\n        this.state = {\r\n            editorState: Draft.EditorState.createWithContent(content, decorator),\r\n        };\r\n    }\r\n\r\n    public componentWillReceiveProps(props: Props) {\r\n        this.setState({\r\n            editorState: Draft.EditorState.createWithContent(Draft.convertFromRaw(props.value), decorator),\r\n        });\r\n    }\r\n\r\n    public render() {\r\n        return <Draft.Editor\r\n                readOnly\r\n                editorState={this.state.editorState}\r\n                placeholder={\"Empty Paragraph\"}\r\n                customStyleMap={styleMap}\r\n                onChange={this.onChange}\r\n        />;\r\n    }\r\n\r\n    private onChange= () => {\r\n        // No changes handled in read-only mode\r\n    }\r\n}\r\n\r\nexport {RichTextEditor as Editor, RichTextPresenter as Presenter};\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/RichText.tsx","module.exports = __webpack_public_path__ + \"7dcb072103f3057828635a78264ad6b1.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/box-download.png\n// module id = 391\n// module chunks = 1","module.exports = __webpack_public_path__ + \"f7070cc632f9080a0ed98717c6268037.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/box-folder.png\n// module id = 392\n// module chunks = 1","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/file-saver/FileSaver.js\n// module id = 393\n// module chunks = 1","export interface HeadingStore {\r\n        level: 1 | 2 | 3 | 4 | 5 | 6;\r\n        text: string;\r\n}\r\n\r\nexport interface MenuStore {\r\n    heading: HeadingStore;\r\n    code: {language: string};\r\n    import: {\r\n        file?: File;\r\n        importing: boolean;\r\n    };\r\n    load: {\r\n        file?: File,\r\n        loading: boolean;\r\n    };\r\n    table: {\r\n        rows: number;\r\n        columns: number;\r\n    };\r\n}\r\n\r\nexport let initialState: MenuStore = {\r\n    code : {\r\n        language : \"html-css-javascript\",\r\n    },\r\n    heading : {\r\n        level : 1,\r\n        text : \"\",\r\n    },\r\n    import: {\r\n        importing: false,\r\n    },\r\n    load : {\r\n        loading: false,\r\n    },\r\n    table: {\r\n        columns: 0,\r\n        rows: 0,\r\n    },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./stores/Menu.ts","import * as Document from \"./Document\";\r\nimport * as Flyout from \"./Flyout\";\r\nimport * as Images from \"./Images\";\r\nimport * as Menu from \"./Menu\";\r\n\r\nexport interface Store {\r\n    document: Document.Document;\r\n    menu: Menu.MenuStore;\r\n    flyout: Flyout.FlyoutStore;\r\n    images: Images.ImagesStore;\r\n}\r\n\r\nexport let initialState: Store = {\r\n    document : Document.initialState,\r\n    flyout : Flyout.initialState,\r\n    images: Images.initialState,\r\n    menu : Menu.initialState,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./stores/index.ts","import { saveAs } from \"file-saver\";\r\nimport { Action } from \"redux\";\r\nimport {closeDialog} from \"redux-dialog\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport {Store} from \"stores\";\r\nimport {Document} from \"stores/Document\";\r\nimport { UploadImage } from \"./ImageActions\";\r\n\r\nexport const saveVersion: number = 1;\r\n\r\nexport function saveAsThunkAction(): ThunkAction<void, Store, void> {\r\n    return async (_, getStore) => {\r\n        // Clone the document object since we have to make changes.\r\n        let JSZip = await import(\"jszip\");\r\n        let manualFile = new JSZip();\r\n        let document = getStore().document;\r\n        let manual: Document = {\r\n            elementOrdering: document.elementOrdering,\r\n            nextItemId : document.nextItemId,\r\n            1 : document[1],\r\n            2 : document[2],\r\n        };\r\n        manual.elementOrdering.forEach((element) => {\r\n            manual[element.itemId] = {... document[element.itemId]};\r\n        });\r\n        manualFile.file(\"manual.json\", JSON.stringify(manual));\r\n        manualFile.file(\"version\", saveVersion.toString());\r\n        for (let key in getStore().images) {\r\n            if (getStore().images.hasOwnProperty(key)) {\r\n                let image = getStore().images[key];\r\n                manualFile.file(key, image.image);\r\n            }\r\n        }\r\n        let blob: Blob = await manualFile.generateAsync({type: \"blob\"});\r\n        saveAs(blob, manual[1].value.toString() + \".uwstsmanual\");\r\n    };\r\n}\r\n\r\nexport function loadThunkAction(zipFile: File): ThunkAction<void, Store, void> {\r\n    return async (dispatch) => {\r\n        dispatch(<SetLoadingAction> {\r\n            loading: true,\r\n            type: \"set-loading\",\r\n        });\r\n        let JSZip = await import(\"jszip\");\r\n        let zip = new JSZip();\r\n        zip = await zip.loadAsync(zipFile);\r\n        let version = parseInt(await zip.file(\"version\").async(\"text\"), 10);\r\n        let document: Document = JSON.parse(await zip.file(\"manual.json\").async(\"text\"));\r\n        dispatch(<SetDocumentAction> {\r\n            document,\r\n            type : \"set-document\",\r\n            version,\r\n        });\r\n        dispatch(<ClearImagesAction> {\r\n            type: \"clear-images\",\r\n        });\r\n        await Promise.all(Object.getOwnPropertyNames(zip.files).map(async (file) => {\r\n            if (file === \"manual.json\" || file === \"version\") {\r\n                return;\r\n            } else {\r\n                let blob: Blob = await zip.files[file].async(\"blob\");\r\n                dispatch(<UploadImage> {\r\n                    image: new File([blob], file),\r\n                    type: \"uploadImage\",\r\n                });\r\n            }\r\n        }));\r\n        dispatch(<SetLoadingAction> {\r\n            loading: false,\r\n            type: \"set-loading\",\r\n        });\r\n        dispatch(closeDialog(\"load-wizard\"));\r\n    };\r\n}\r\n\r\nexport interface SetDocumentAction extends Action {\r\n    type: \"set-document\";\r\n    document: Document;\r\n    version?: number;\r\n}\r\n\r\nexport function isSetDocument(action: Action): action is SetDocumentAction {\r\n    return action.type === \"set-document\";\r\n}\r\n\r\nexport interface FileChangedAction extends Action {\r\n    type: \"load-file-changed\";\r\n    file: File;\r\n}\r\n\r\nexport function isFileChanged(action: Action): action is FileChangedAction {\r\n    return action.type === \"load-file-changed\";\r\n}\r\n\r\nexport interface ClearImagesAction extends Action {\r\n    type: \"clear-images\";\r\n}\r\n\r\nexport function isClearImages(action: Action): action is ClearImagesAction {\r\n    return action.type === \"clear-images\";\r\n}\r\n\r\nexport interface SetLoadingAction {\r\n    type: \"set-loading\";\r\n    loading: boolean;\r\n}\r\n\r\nexport function isSetLoading(action: Action): action is SetLoadingAction {\r\n    return action.type === \"set-loading\";\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./actions/SaveLoadActions.ts","module.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-define.js\n// module id = 745\n// module chunks = 1","import {Action} from \"redux\";\r\n\r\nexport interface UpdateHeadingText extends Action {\r\n    type: \"update-heading-text\";\r\n    text: string;\r\n}\r\n\r\nexport function isUpdateHeadingText(action: Action): action is UpdateHeadingText {\r\n    return action.type === \"update-heading-text\";\r\n}\r\n\r\nexport interface UpdateHeadingLevel extends Action {\r\n    type: \"update-heading-level\";\r\n    level: 1 | 2 | 3 | 4 | 5 | 6;\r\n}\r\n\r\nexport function isUpdateHeadingLevel(action: Action): action is UpdateHeadingLevel {\r\n    return action.type === \"update-heading-level\";\r\n}\r\n\r\nexport interface UpdateCodeLanguage extends Action {\r\n    type: \"update-code-language\";\r\n    language: string;\r\n}\r\n\r\nexport function isUpdateCodeLanguage(action: Action): action is UpdateCodeLanguage {\r\n    return action.type === \"update-code-lanaguage\";\r\n}\r\n\r\nexport interface UpdateTableRows extends Action {\r\n    type: \"update-table-rows\";\r\n    rows: number;\r\n}\r\n\r\nexport function isUpdateTableRows(action: Action): action is UpdateTableRows {\r\n    return action.type === \"update-heading-rows\";\r\n}\r\n\r\nexport interface UpdateTableColumns extends Action {\r\n    type: \"update-table-columns\";\r\n    columns: number;\r\n}\r\n\r\nexport function isUpdateTableColumns(action: Action): action is UpdateTableColumns {\r\n    return action.type === \"update-heading-columns\";\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./actions/MenuActions.ts","import * as React from \"react\";\r\n\r\nconst PageBreak = () => <div className=\"page-break\" />;\r\n\r\nexport default PageBreak;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/PageBreak.tsx","import {UploadImage} from \"actions/ImageActions\";\r\nimport ImagePicker from \"components/ImagePicker\";\r\nimport * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {initialState, Store} from \"stores\";\r\n\r\ninterface Props {\r\n    uploadedImages?: string[];\r\n    onImageChanged: (image: string) => void;\r\n    uploadImage?: (image: File) => void;\r\n    currentImage?: string;\r\n}\r\n\r\nclass ImagePickerWrapper extends React.Component<Props, {}> {\r\n    constructor(props: Props, context?: any) {\r\n        super(props, context);\r\n    }\r\n\r\n    public render() {\r\n        return <ImagePicker\r\n            uploadedImages={this.props.uploadedImages!}\r\n            onCurrentImageChange={this.setReusedImage}\r\n            onImageUrlChange={this.setImageUrl}\r\n            onFileUploadChange={this.setUploadedImage}\r\n            defaultImage={this.props.currentImage}\r\n        />;\r\n    }\r\n\r\n    private setReusedImage = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n        this.props.onImageChanged(e.currentTarget.value);\r\n    }\r\n\r\n    private setImageUrl = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.props.onImageChanged(e.currentTarget.value);\r\n    }\r\n\r\n    private setUploadedImage = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.props.uploadImage!(e.target.files![0]);\r\n        this.props.onImageChanged(e.target.files![0].name);\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state: Store = initialState, oldProps: Props): Partial<Props> {\r\n    return {\r\n        uploadedImages: Object.getOwnPropertyNames(state.images),\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = ({\r\n    uploadImage: (image: File) => ({\r\n        type: \"uploadImage\",\r\n        image,\r\n    } as UploadImage),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(ImagePickerWrapper);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/ImagePicker.tsx","import * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Store} from \"stores\";\r\n\r\ninterface Props {\r\n    src: string;\r\n    actualSource?: string;\r\n    [key: string]: any;\r\n}\r\n\r\nclass Image extends React.Component<Props, {}> {\r\n    public render() {\r\n        let {actualSource, ...rest} = this.props;\r\n        return <img {...rest} src={actualSource} />;\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(store: Store, props: Props): Props {\r\n    let src = props.src;\r\n    return {\r\n        ...props,\r\n        actualSource: store.images[src] ? store.images[src].imageUrl : src,\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, {})(Image);\r\n\n\n\n// WEBPACK FOOTER //\n// ./containers/SmartImagePresenter.tsx","import {ContentElementType, isMetaElementType, MetaElementType, MetaItemType} from \"core/ElementInfo\";\r\n\r\ntype MetaItemOrdering = {\r\n    itemId: number;\r\n    elementType: MetaElementType;\r\n    metaItemType: MetaItemType;\r\n};\r\n\r\nexport type ItemOrdering = {\r\n    itemId: number;\r\n} & (\r\n    MetaItemOrdering | {\r\n        elementType: ContentElementType;\r\n    }\r\n);\r\n\r\ntype ItemLeaf = {\r\n    itemId: number;\r\n    elementType: ContentElementType;\r\n};\r\n\r\nexport type ItemTree = ItemLeaf | {\r\n    itemId: number;\r\n    elementType: MetaElementType;\r\n    items: ItemTree[];\r\n};\r\n\r\nexport function isMetaItemOrdering(ordering: ItemOrdering): ordering is MetaItemOrdering {\r\n    return isMetaElementType(ordering.elementType);\r\n}\r\n\r\nexport function isItemTreeLeaf(tree: ItemTree): tree is ItemLeaf {\r\n    return !isMetaElementType(tree.elementType);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./core/ItemTree.ts","import EditableProps from \"core/EditableProps\";\r\nimport ElementInfo, {isMetaElement} from \"core/ElementInfo\";\r\nimport {isMetaItemOrdering, ItemOrdering} from \"core/ItemTree\";\r\nimport {convertToRaw, EditorState} from \"draft-js\";\r\n\r\nexport interface Document {\r\n    [itemId: number]: EditableProps<any> & {[k: string]: any};\r\n    nextItemId: number;\r\n    elementOrdering: ItemOrdering[];\r\n}\r\n\r\nexport let initialState: Document = {\r\n    1 : {\r\n        editing : false,\r\n        itemId : 1,\r\n        level : 1,\r\n        value : \"Empty Manual Template\",\r\n    },\r\n    2 : {\r\n        editing : false,\r\n        itemId : 2,\r\n        level : 2,\r\n        value : \"Small Tagline Description Here\",\r\n    },\r\n    3: {\r\n        editing: false,\r\n        itemId: 3,\r\n        level: 1,\r\n        value: \"Introduction\",\r\n    },\r\n    4: {\r\n        editing: false,\r\n        itemId: 4,\r\n        value: convertToRaw(EditorState.createEmpty().getCurrentContent()),\r\n    },\r\n    elementOrdering : [\r\n        {\r\n            elementType: \"Heading\",\r\n            itemId: 3,\r\n        },\r\n        {\r\n            elementType: \"RichText\",\r\n            itemId: 4,\r\n        },\r\n    ],\r\n    nextItemId : 5,\r\n};\r\n\r\nfunction exitEditModes(document: Document) {\r\n    for (let i = 0; i < document.nextItemId ; ++i) {\r\n        if (document[i]) {\r\n            document[i].editing = false;\r\n        }\r\n    }\r\n}\r\n\r\nfunction findLocation(\r\n    document: Document,\r\n    relativeLocation: \"before\" | \"after\" | \"end\") {\r\n    let location: number;\r\n\r\n    if (relativeLocation !== \"end\") {\r\n        let activeItemId: number = -1;\r\n        for (let i = 0; i < document.nextItemId ; ++i) {\r\n            if (document[i] && document[i].editing) {\r\n                activeItemId = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        let orderIndex: number = document.elementOrdering.length - 1;\r\n\r\n        for (let i = 0; i < document.elementOrdering.length ; ++i) {\r\n            if (document.elementOrdering[i].itemId === activeItemId) {\r\n                orderIndex = i;\r\n                break;\r\n            }\r\n        }\r\n        location = orderIndex;\r\n        if (relativeLocation === \"after\") {\r\n            ++location;\r\n        }\r\n    } else {\r\n        location = document.elementOrdering.length;\r\n    }\r\n    return location;\r\n}\r\n\r\nexport function addElements(\r\n    document: Document,\r\n    elements: ElementInfo[],\r\n    elementToEdit: number = 0,\r\n    relativeLocation: \"before\" | \"after\" | \"end\" = \"end\") {\r\n\r\n    let location = findLocation(document, relativeLocation);\r\n    exitEditModes(document);\r\n\r\n    let orderings: ItemOrdering[] = [];\r\n    let idStack: number[] = [];\r\n    elements.forEach((element, idx) => {\r\n        let metaItemType = isMetaElement(element) ? element.metaItemType : undefined;\r\n        let elementState = isMetaElement(element) ? undefined : element.elementState;\r\n        let itemId = metaItemType === \"close\" ? idStack.pop()! : document.nextItemId;\r\n\r\n        document[itemId] = {... elementState, editing : idx === elementToEdit, itemId};\r\n        if (metaItemType === \"open\") {\r\n            idStack.push(itemId);\r\n        }\r\n        document.nextItemId++;\r\n        if (isMetaElement(element)) {\r\n            orderings.push({itemId, elementType: element.elementType, metaItemType: element.metaItemType});\r\n        } else {\r\n            orderings.push({itemId, elementType: element.elementType});\r\n        }\r\n    });\r\n\r\n    let docOrdering = document.elementOrdering.slice();\r\n    Array.prototype.splice.apply(docOrdering, (<any[]> [location, 0]).concat(orderings));\r\n    document.elementOrdering = docOrdering;\r\n}\r\n\r\nexport function removeElement(document: Document, itemId: number) {\r\n    delete document[itemId];\r\n    let elementOrdering: ItemOrdering[] = [];\r\n    let deletingRange: boolean = false;\r\n    document.elementOrdering.forEach((element) => {\r\n        if (element.itemId !== itemId && !deletingRange) {\r\n            elementOrdering.push(element);\r\n        }\r\n        if (element.itemId === itemId) {\r\n            deletingRange = isMetaItemOrdering(element) && element.metaItemType === \"open\";\r\n        }\r\n    });\r\n    document.elementOrdering = elementOrdering;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./stores/Document.ts"],"sourceRoot":""}